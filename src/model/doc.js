const data = {".gitkeep":"","artist-f2etest-architecture":"{\"id\":1486447,\"slug\":\"architecture\",\"title\":\"整体架构\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"3fe918c2\\\">一、名词释义</h2><p><br /></p><ul><li><strong>浏览器云</strong>： 提供真实的多浏览器兼容性环境，还原真实测试场景。</li><li><strong>WebDriver</strong>：<a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">https://w3c.github.io/webdriver/</a>，WebDriver 是一个远程控制接口，可以对用户代理进行<a href=\\\"https://zh.wikipedia.org/wiki/%E5%86%85%E7%9C%81_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)\\\" target=\\\"_blank\\\">内省</a>和控制。它提供了一种平台和语言中立的 <a href=\\\"https://en.wikipedia.org/wiki/Wire_protocol\\\" target=\\\"_blank\\\">wire protocol</a>，来作为进程外程序远程控制 Web 浏览器行为的一种方式。</li><li><strong>WebDriver 云</strong>：基于自动化测试工具 <a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">WebDriver</a>，快速稳定的支撑自动化测试脚本的运行。</li><li><a href=\\\"https://guacamole.apache.org/\\\" target=\\\"_blank\\\"><code>Guacamole</code></a>：无客户端的远程桌面网关，通俗一点来说则是，通过浏览器实现与 Windows 服务器的远程连接（一般情况我们是使用 RDP 客户端进行远程连接的），包含 <code>guacamole-client</code> 和 <code>guacd</code> 两个模块。</li><li><strong>RemoteApp</strong>：<a href=\\\"https://techcommunity.microsoft.com/t5/Enterprise-Mobility-Security/Introducing-RemoteApp-and-Desktop-Connections/ba-p/246803?collapse_discussion=true&amp;q=remoteApp&amp;search_type=thread\\\" target=\\\"_blank\\\">RemoteApp</a> 是微软在 Windows Server 2008 之后，在其系统中集成的一项服务功能，使用户可以通过远程桌面访问远端的桌面与程序，客户端本机无须安装系统与应用程序的情况下也能正常使用远端发布的各种的桌面与应用。</li></ul><p><br /></p><h2 id=\\\"f455c1a7\\\">二、技术架构</h2><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554715508864-30b9c0f8-b614-4a51-8882-65bf7a770f25.png#align=left&amp;display=inline&amp;height=898&amp;originHeight=1650&amp;originWidth=1370&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h3 id=\\\"c0e9cd8e\\\">2.1 F2etest-web</h3><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1554715508865-9c751174-69e1-47a9-b205-9bdbfed005bf.gif#align=left&amp;display=inline&amp;height=412&amp;originHeight=565&amp;originWidth=1024&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>我们将部署在 Linux 服务器上的模块统称为 F2etest-web，其主要职责是：</p><p><br /></p><ul><li>为浏览器云提供用户操作入口；</li><li>为 WebDriver 云提供负载均衡服务。<br />\\n具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web\\\" target=\\\"_blank\\\">《F2etest-web 架构》</a></li></ul><p><br /></p><h3 id=\\\"459d680c\\\">2.2 浏览器云</h3><p><br /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716548925-e18c5310-2978-4549-a0e8-1b23b01fe0b3.png#align=left&amp;display=inline&amp;height=494&amp;name=image.png&amp;originHeight=494&amp;originWidth=878&amp;size=339228&amp;status=done&amp;width=878\\\" style=\\\"max-width: 600px; width: 878px;\\\" /><br /></p><p><br /></p><p>浏览器云的理念主要是“打开即用”，基于多浏览兼容测试环境搭建的痛点，我们在一批 Windows Server 集群上分别安装了不同版本的浏览器，通过远程桌面协议的方式集成至 F2etest 平台。这样，所有用户都可以 F2etest 平台直接使用不同类型的浏览器，极大降低了用户搭建和维护测试环境的成本。</p><p>具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/browser-cloud\\\" target=\\\"_blank\\\">《浏览器云架构》</a></p><p><br /></p><h3 id=\\\"20613dfe\\\">2.3 WebDriver 云</h3><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554715508862-3dd44041-2ff7-4118-8fb9-a9174abd5ff6.png#align=left&amp;display=inline&amp;height=368&amp;originHeight=721&amp;originWidth=1462&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>WebDriver 利用浏览器原生的 API，封装了一层 WebDriver API，可以直接操作浏览器页面的 DOM 节点元素，甚至操作浏览器本身（截屏，窗口大小，启动，关闭，安装插件，配置证书之类的）。WebDriver 云则是基于 WebDriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。</p><p>具体实现原理请参考 <a href=\\\"https://www.yuque.com/artist/f2etest/webdriver-cloud\\\" target=\\\"_blank\\\">《WebDriver 云实现原理》</a>。</p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"3fe918c2\\\">一、名词释义</h2><p><br /></p><ul><li><strong>浏览器云</strong>： 提供真实的多浏览器兼容性环境，还原真实测试场景。</li><li><strong>WebDriver</strong>：<a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">https://w3c.github.io/webdriver/</a>，WebDriver 是一个远程控制接口，可以对用户代理进行<a href=\\\"https://zh.wikipedia.org/wiki/%E5%86%85%E7%9C%81_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)\\\" target=\\\"_blank\\\">内省</a>和控制。它提供了一种平台和语言中立的 <a href=\\\"https://en.wikipedia.org/wiki/Wire_protocol\\\" target=\\\"_blank\\\">wire protocol</a>，来作为进程外程序远程控制 Web 浏览器行为的一种方式。</li><li><strong>WebDriver 云</strong>：基于自动化测试工具 <a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">WebDriver</a>，快速稳定的支撑自动化测试脚本的运行。</li><li><a href=\\\"https://guacamole.apache.org/\\\" target=\\\"_blank\\\"><code>Guacamole</code></a>：无客户端的远程桌面网关，通俗一点来说则是，通过浏览器实现与 Windows 服务器的远程连接（一般情况我们是使用 RDP 客户端进行远程连接的），包含 <code>guacamole-client</code> 和 <code>guacd</code> 两个模块。</li><li><strong>RemoteApp</strong>：<a href=\\\"https://techcommunity.microsoft.com/t5/Enterprise-Mobility-Security/Introducing-RemoteApp-and-Desktop-Connections/ba-p/246803?collapse_discussion=true&amp;q=remoteApp&amp;search_type=thread\\\" target=\\\"_blank\\\">RemoteApp</a> 是微软在 Windows Server 2008 之后，在其系统中集成的一项服务功能，使用户可以通过远程桌面访问远端的桌面与程序，客户端本机无须安装系统与应用程序的情况下也能正常使用远端发布的各种的桌面与应用。</li></ul><p><br /></p><h2 id=\\\"f455c1a7\\\">二、技术架构</h2><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554715508864-30b9c0f8-b614-4a51-8882-65bf7a770f25.png%22%2C%22originWidth%22%3A1370%2C%22originHeight%22%3A1650%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A898%7D\\\"></card></p><p><br /></p><h3 id=\\\"c0e9cd8e\\\">2.1 F2etest-web</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1554715508865-9c751174-69e1-47a9-b205-9bdbfed005bf.gif%22%2C%22originWidth%22%3A1024%2C%22originHeight%22%3A565%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A412%7D\\\"></card></p><p><br /></p><p>我们将部署在 Linux 服务器上的模块统称为 F2etest-web，其主要职责是：</p><p><br /></p><ul><li>为浏览器云提供用户操作入口；</li><li>为 WebDriver 云提供负载均衡服务。<br />\\n具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web\\\" target=\\\"_blank\\\">《F2etest-web 架构》</a></li></ul><p><br /></p><h3 id=\\\"459d680c\\\">2.2 浏览器云</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716548925-e18c5310-2978-4549-a0e8-1b23b01fe0b3.png%22%2C%22originWidth%22%3A878%2C%22originHeight%22%3A494%2C%22name%22%3A%22image.png%22%2C%22size%22%3A339228%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A878%2C%22height%22%3A494%7D\\\"></card><br /></p><p><br /></p><p>浏览器云的理念主要是“打开即用”，基于多浏览兼容测试环境搭建的痛点，我们在一批 Windows Server 集群上分别安装了不同版本的浏览器，通过远程桌面协议的方式集成至 F2etest 平台。这样，所有用户都可以 F2etest 平台直接使用不同类型的浏览器，极大降低了用户搭建和维护测试环境的成本。</p><p>具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/browser-cloud\\\" target=\\\"_blank\\\">《浏览器云架构》</a></p><p><br /></p><h3 id=\\\"20613dfe\\\">2.3 WebDriver 云</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554715508862-3dd44041-2ff7-4118-8fb9-a9174abd5ff6.png%22%2C%22originWidth%22%3A1462%2C%22originHeight%22%3A721%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A368%7D\\\"></card></p><p><br /></p><p>WebDriver 利用浏览器原生的 API，封装了一层 WebDriver API，可以直接操作浏览器页面的 DOM 节点元素，甚至操作浏览器本身（截屏，窗口大小，启动，关闭，安装插件，配置证书之类的）。WebDriver 云则是基于 WebDriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。</p><p>具体实现原理请参考 <a href=\\\"https://www.yuque.com/artist/f2etest/webdriver-cloud\\\" target=\\\"_blank\\\">《WebDriver 云实现原理》</a>。</p><p><cursor /><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:39:44.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:24:37.000Z\",\"updated_at\":\"2019-04-23T06:14:53.000Z\",\"published_at\":\"2019-04-16T16:39:44.000Z\",\"first_published_at\":\"2019-04-08T09:25:48.000Z\",\"word_count\":604,\"cover\":null,\"description\":\"一、名词释义浏览器云： 提供真实的多浏览器兼容性环境，还原真实测试场景。WebDriver：https://w3c.github.io/webdriver/，WebDriver 是一个远程控制接口，可以对用户代理进行内省和控制。它提供了一种平台和语言中立的 wire protocol，来作为进...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-browser-cloud":"{\"id\":1486626,\"slug\":\"browser-cloud\",\"title\":\"浏览器云架构\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"cffab21d\\\">一、浏览器云的工作原理</h2><p><img alt=\\\"原理大图.jpg\\\" title=\\\"原理大图.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/182712/1554716628801-d0a3bc18-3707-41d5-b7b2-a8552ef4a03e.jpeg#align=left&amp;display=inline&amp;height=699&amp;name=%E5%8E%9F%E7%90%86%E5%A4%A7%E5%9B%BE.jpg&amp;originHeight=1150&amp;originWidth=806&amp;size=98615&amp;status=done&amp;width=490\\\" style=\\\"max-width: 600px; width: 490px;\\\" /></p><p><br /></p><p>浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 <span>Windows Server 为例。</span></p><p><br /></p><p>客户从浏览器启动应用，看到 Windows Server 的远程桌面，到和远程桌面的交互。过程涉及到浏览器云提供的三个比较关键的功能点。<strong>远程桌面</strong>，<strong>用户管理</strong>和<strong>启动应用。</strong></p><p><br /></p><h3 id=\\\"86916edb\\\">1.1 远程桌面</h3><p><br /></p><p>用户在访问 F2etest 门户，点击浏览器的 icon，进入如下界面。</p><p><br /></p><p><img alt=\\\"f2e-browser.jpg\\\" title=\\\"f2e-browser.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/182712/1554716628811-d4ec2863-e503-445b-a49e-3b30455840b7.jpeg#align=left&amp;display=inline&amp;height=393&amp;name=f2e-browser.jpg&amp;originHeight=1516&amp;originWidth=2878&amp;size=243089&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>用户<span>实际上</span>是建立了一个远程桌面的访问，通过浏览器直接访问到了 Windows Server 机器上了。远程桌面会话的建立是通过 Linux 机器上的 Guacamole Server 与 Windows Server 自身的远程桌面服务完成的。<span>Guacamole 是</span>一个提供远程桌面的解决方案的开源项目，用户通过浏览器就能操作虚拟机。</p><p><br /></p><p><span>Guacamole 提供了多种与远程机器的连接协议，</span><span>F2etest 使用的是只需要配置IP和端口号就可以连接的 RDP 协议。登录如下图所示，输入账号和密码即可连接。</span></p><p><img alt=\\\"Windows-Login.png\\\" title=\\\"Windows-Login.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716628810-2d0483f8-4f9e-4eea-a1d8-3d43ca253650.png#align=left&amp;display=inline&amp;height=337&amp;name=Windows-Login.png&amp;originHeight=337&amp;originWidth=747&amp;size=29883&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><br /></p><h3 id=\\\"3851ccf1\\\">1.2 用户管理</h3><p><br /></p><p>为了做到多个用户可以同时访问 F2etest 而不相互干扰，每个用户远程访问浏览器云是作为一个独立的用户。<span>浏览器云使用的 </span>Windows Server 服务器和 Linux 相似，是支持多用户独立访问的。多用户的管理是通过 <span>Windows Server 系统本身来实现的，新用户的添加是由 F2etest 实现的。</span></p><p><br /></p><h5 id=\\\"49a51f68\\\">添加用户</h5><p><br /></p><p>配置 IIS 服务器，将 vb 脚本 setuser.asp 添加到 IIS 服务，对外提供服务。</p><p><br /></p><pre><code>setuser.asp\\n\\nfunction setUserPassword(username, password)\\n    On Error Resume Next\\n    dim oSystem,oUser,oGroup\\n    \\n    Set oSystem=GetObject(&quot;WinNT://127.0.0.1&quot;)\\n    \\n    Set oUser=oSystem.GetObject(&quot;user&quot;,username)\\n\\n    if err &lt;&gt; 0 then\\n        err = 0\\n        ' 增加新用户\\n        Set oUser=oSystem.Create(&quot;user&quot;,username)\\n        oUser.SetPassword password\\n        oUser.Put &quot;userFlags&quot;, &amp;h10040 '密码永不过期\\n        oUser.Setinfo\\n        \\n        Set oGroup=oSystem.GetObject(&quot;Group&quot;,&quot;Users&quot;)\\n        oGroup.Add (&quot;winnt://&quot;&amp;username)\\n    else\\n        ' 修改密码\\n        oUser.SetPassword password\\n        oUser.Setinfo\\n    end if\\nend function </code></pre><p><br /></p><p>访问添加用户链接效果如下。</p><p><img alt=\\\"setuser.jpg\\\" title=\\\"setuser.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/182712/1554716628819-d1b3884b-4943-4c79-96b2-a0857df47832.jpeg#align=left&amp;display=inline&amp;height=514&amp;name=setuser.jpg&amp;originHeight=1268&amp;originWidth=1840&amp;size=131328&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h4 id=\\\"d41d8cd9\\\"><br /></h4><h3 id=\\\"7db0e8c6\\\">1.3 启动应用</h3><p><br /></p><p>用户在浏览器点击应用图标的时候，是怎么启动浏览器云上的应用的呢？F2etest 使用到了 RemoteApp 功能。RemoteApp 和桌面连接是一项用于访问工作区网络管理员提供的程序和桌面（远程计算机和虚拟计算机）的功能。当您在家时，您可以访问通常在工作时需要使用的所有程序和计算机。通过连接，所有这些资源都位于计算机上一个容易访问的文件夹中。几乎可以像在本地网络或自己的计算机上一样使用这些资源。</p><p><br /></p><p>以启动 Chrome 浏览器的脚本为例，首先会把 <strong>f2etest-browsers/app/特殊应用/chrome.bat </strong>文件添加到Windows Server 的 RemoteApp 服务中。</p><p><br /></p><p>chrome.bat 关键代码如下。</p><p><br /></p><pre><code>@echo off\\n\\nrem 请这里配置f2etest的域名\\nset f2etestDomain=f2etest.xxx.com\\nset appid=chrome\\n\\nrem 命令行参数\\nset proxymode=&quot;%1&quot;\\nset proxyurl=%2\\nset url=%3\\nset apiKey=%4\\n\\nrem 设置代理\\nset proxypath=&quot;HKCU\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Internet Settings&quot;\\nreg add %proxypath% /v &quot;ProxyEnable&quot; /t REG_DWORD /d 0 /f&gt;nul \\nset proxydef=\\nif %proxyurl% equ &quot;&quot; set proxydef=1\\nif %proxyurl% equ default set proxydef=1\\nif %proxyurl% equ &quot;default&quot; set proxydef=1\\nif defined proxydef set proxyurl=&quot;http://%f2etestDomain%/getHosts.pac?name=%USERNAME%&quot;\\nif %proxymode% equ &quot;noproxy&quot; (\\n\\tset proxyurl=&quot;&quot;\\n)\\nif %proxyurl% neq &quot;&quot; (\\n\\trem 开启代理\\n\\treg add %proxypath% /v &quot;AutoConfigURL&quot; /d %proxyurl% /f &gt;nul\\n) else (\\n\\trem 关闭代理\\n\\treg delete %proxypath% /v &quot;AutoConfigURL&quot; /f &gt; nul\\n)\\n\\nrem 打开应用\\ntaskkill /fi &quot;username eq %username%&quot; /s %computername% /u %username% /f -IM chrome.exe &gt;nul\\nstart /MAX &quot;&quot; &quot;C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot; --allow-no-sandbox-job %url% %proxyParam%\\n\\nrem 打点统计\\nstart &quot;&quot; curl &quot;http://%f2etestDomain%/applog?userid=%USERNAME%&amp;appid=%appid%&amp;isweb=%isWeb%&quot;\\n</code></pre><p><br /></p><p>通过接收请求 URL 链接里的参数来设置代理模式，代理 IP 等，最后启动本地的 Chrome 应用。</p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"cffab21d\\\"><anchor />一<focus />、浏览器云的工作原理</h2><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F182712%2F1554716628801-d0a3bc18-3707-41d5-b7b2-a8552ef4a03e.jpeg%22%2C%22originWidth%22%3A806%2C%22originHeight%22%3A1150%2C%22name%22%3A%22%E5%8E%9F%E7%90%86%E5%A4%A7%E5%9B%BE.jpg%22%2C%22size%22%3A98615%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A490%2C%22height%22%3A699%7D\\\"></card></p><p><br /></p><p>浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 <span>Windows Server 为例。</span></p><p><br /></p><p>客户从浏览器启动应用，看到 Windows Server 的远程桌面，到和远程桌面的交互。过程涉及到浏览器云提供的三个比较关键的功能点。<strong>远程桌面</strong>，<strong>用户管理</strong>和<strong>启动应用。</strong></p><p><br /></p><h3 id=\\\"86916edb\\\">1.1 远程桌面</h3><p><br /></p><p>用户在访问 F2etest 门户，点击浏览器的 icon，进入如下界面。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F182712%2F1554716628811-d4ec2863-e503-445b-a49e-3b30455840b7.jpeg%22%2C%22originWidth%22%3A2878%2C%22originHeight%22%3A1516%2C%22name%22%3A%22f2e-browser.jpg%22%2C%22size%22%3A243089%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A393%7D\\\"></card></p><p><br /></p><p>用户<span>实际上</span>是建立了一个远程桌面的访问，通过浏览器直接访问到了 Windows Server 机器上了。远程桌面会话的建立是通过 Linux 机器上的 Guacamole Server 与 Windows Server 自身的远程桌面服务完成的。<span>Guacamole 是</span>一个提供远程桌面的解决方案的开源项目，用户通过浏览器就能操作虚拟机。</p><p><br /></p><p><span>Guacamole 提供了多种与远程机器的连接协议，</span><span>F2etest 使用的是只需要配置IP和端口号就可以连接的 RDP 协议。登录如下图所示，输入账号和密码即可连接。</span></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716628810-2d0483f8-4f9e-4eea-a1d8-3d43ca253650.png%22%2C%22originWidth%22%3A747%2C%22originHeight%22%3A337%2C%22name%22%3A%22Windows-Login.png%22%2C%22size%22%3A29883%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A337%7D\\\"></card></p><p><br /></p><p><br /></p><h3 id=\\\"3851ccf1\\\">1.2 用户管理</h3><p><br /></p><p>为了做到多个用户可以同时访问 F2etest 而不相互干扰，每个用户远程访问浏览器云是作为一个独立的用户。<span>浏览器云使用的 </span>Windows Server 服务器和 Linux 相似，是支持多用户独立访问的。多用户的管理是通过 <span>Windows Server 系统本身来实现的，新用户的添加是由 F2etest 实现的。</span></p><p><br /></p><h5 id=\\\"49a51f68\\\">添加用户</h5><p><br /></p><p>配置 IIS 服务器，将 vb 脚本 setuser.asp 添加到 IIS 服务，对外提供服务。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22setuser.asp%5Cn%5Cnfunction%20setUserPassword(username%2C%20password)%5Cn%20%20%20%20On%20Error%20Resume%20Next%5Cn%20%20%20%20dim%20oSystem%2CoUser%2CoGroup%5Cn%20%20%20%20%5Cn%20%20%20%20Set%20oSystem%3DGetObject(%5C%22WinNT%3A%2F%2F127.0.0.1%5C%22)%5Cn%20%20%20%20%5Cn%20%20%20%20Set%20oUser%3DoSystem.GetObject(%5C%22user%5C%22%2Cusername)%5Cn%5Cn%20%20%20%20if%20err%20%3C%3E%200%20then%5Cn%20%20%20%20%20%20%20%20err%20%3D%200%5Cn%20%20%20%20%20%20%20%20'%20%E5%A2%9E%E5%8A%A0%E6%96%B0%E7%94%A8%E6%88%B7%5Cn%20%20%20%20%20%20%20%20Set%20oUser%3DoSystem.Create(%5C%22user%5C%22%2Cusername)%5Cn%20%20%20%20%20%20%20%20oUser.SetPassword%20password%5Cn%20%20%20%20%20%20%20%20oUser.Put%20%5C%22userFlags%5C%22%2C%20%26h10040%20'%E5%AF%86%E7%A0%81%E6%B0%B8%E4%B8%8D%E8%BF%87%E6%9C%9F%5Cn%20%20%20%20%20%20%20%20oUser.Setinfo%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20Set%20oGroup%3DoSystem.GetObject(%5C%22Group%5C%22%2C%5C%22Users%5C%22)%5Cn%20%20%20%20%20%20%20%20oGroup.Add%20(%5C%22winnt%3A%2F%2F%5C%22%26username)%5Cn%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20'%20%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%5Cn%20%20%20%20%20%20%20%20oUser.SetPassword%20password%5Cn%20%20%20%20%20%20%20%20oUser.Setinfo%5Cn%20%20%20%20end%20if%5Cnend%20function%20%22%2C%22id%22%3A%22iOjXq%22%7D\\\"></card><p><br /></p><p>访问添加用户链接效果如下。</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F182712%2F1554716628819-d1b3884b-4943-4c79-96b2-a0857df47832.jpeg%22%2C%22originWidth%22%3A1840%2C%22originHeight%22%3A1268%2C%22name%22%3A%22setuser.jpg%22%2C%22size%22%3A131328%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A514%7D\\\"></card></p><h4 id=\\\"d41d8cd9\\\"><br /></h4><h3 id=\\\"7db0e8c6\\\">1.3 启动应用</h3><p><br /></p><p>用户在浏览器点击应用图标的时候，是怎么启动浏览器云上的应用的呢？F2etest 使用到了 RemoteApp 功能。RemoteApp 和桌面连接是一项用于访问工作区网络管理员提供的程序和桌面（远程计算机和虚拟计算机）的功能。当您在家时，您可以访问通常在工作时需要使用的所有程序和计算机。通过连接，所有这些资源都位于计算机上一个容易访问的文件夹中。几乎可以像在本地网络或自己的计算机上一样使用这些资源。</p><p><br /></p><p>以启动 Chrome 浏览器的脚本为例，首先会把 <strong>f2etest-browsers/app/特殊应用/chrome.bat </strong>文件添加到Windows Server 的 RemoteApp 服务中。</p><p><br /></p><p>chrome.bat 关键代码如下。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%40echo%20off%5Cn%5Cnrem%20%E8%AF%B7%E8%BF%99%E9%87%8C%E9%85%8D%E7%BD%AEf2etest%E7%9A%84%E5%9F%9F%E5%90%8D%5Cnset%20f2etestDomain%3Df2etest.xxx.com%5Cnset%20appid%3Dchrome%5Cn%5Cnrem%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0%5Cnset%20proxymode%3D%5C%22%251%5C%22%5Cnset%20proxyurl%3D%252%5Cnset%20url%3D%253%5Cnset%20apiKey%3D%254%5Cn%5Cnrem%20%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86%5Cnset%20proxypath%3D%5C%22HKCU%5C%5CSoftware%5C%5CMicrosoft%5C%5CWindows%5C%5CCurrentVersion%5C%5CInternet%20Settings%5C%22%5Cnreg%20add%20%25proxypath%25%20%2Fv%20%5C%22ProxyEnable%5C%22%20%2Ft%20REG_DWORD%20%2Fd%200%20%2Ff%3Enul%20%5Cnset%20proxydef%3D%5Cnif%20%25proxyurl%25%20equ%20%5C%22%5C%22%20set%20proxydef%3D1%5Cnif%20%25proxyurl%25%20equ%20default%20set%20proxydef%3D1%5Cnif%20%25proxyurl%25%20equ%20%5C%22default%5C%22%20set%20proxydef%3D1%5Cnif%20defined%20proxydef%20set%20proxyurl%3D%5C%22http%3A%2F%2F%25f2etestDomain%25%2FgetHosts.pac%3Fname%3D%25USERNAME%25%5C%22%5Cnif%20%25proxymode%25%20equ%20%5C%22noproxy%5C%22%20(%5Cn%5Ctset%20proxyurl%3D%5C%22%5C%22%5Cn)%5Cnif%20%25proxyurl%25%20neq%20%5C%22%5C%22%20(%5Cn%5Ctrem%20%E5%BC%80%E5%90%AF%E4%BB%A3%E7%90%86%5Cn%5Ctreg%20add%20%25proxypath%25%20%2Fv%20%5C%22AutoConfigURL%5C%22%20%2Fd%20%25proxyurl%25%20%2Ff%20%3Enul%5Cn)%20else%20(%5Cn%5Ctrem%20%E5%85%B3%E9%97%AD%E4%BB%A3%E7%90%86%5Cn%5Ctreg%20delete%20%25proxypath%25%20%2Fv%20%5C%22AutoConfigURL%5C%22%20%2Ff%20%3E%20nul%5Cn)%5Cn%5Cnrem%20%E6%89%93%E5%BC%80%E5%BA%94%E7%94%A8%5Cntaskkill%20%2Ffi%20%5C%22username%20eq%20%25username%25%5C%22%20%2Fs%20%25computername%25%20%2Fu%20%25username%25%20%2Ff%20-IM%20chrome.exe%20%3Enul%5Cnstart%20%2FMAX%20%5C%22%5C%22%20%5C%22C%3A%5C%5CProgram%20Files%20(x86)%5C%5CGoogle%5C%5CChrome%5C%5CApplication%5C%5Cchrome.exe%5C%22%20--allow-no-sandbox-job%20%25url%25%20%25proxyParam%25%5Cn%5Cnrem%20%E6%89%93%E7%82%B9%E7%BB%9F%E8%AE%A1%5Cnstart%20%5C%22%5C%22%20curl%20%5C%22http%3A%2F%2F%25f2etestDomain%25%2Fapplog%3Fuserid%3D%25USERNAME%25%26appid%3D%25appid%25%26isweb%3D%25isWeb%25%5C%22%5Cn%22%2C%22id%22%3A%226iWA7%22%7D\\\"></card><p><br /></p><p>通过接收请求 URL 链接里的参数来设置代理模式，代理 IP 等，最后启动本地的 Chrome 应用。</p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-10T07:44:08.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:43:45.000Z\",\"updated_at\":\"2019-04-23T06:15:01.000Z\",\"published_at\":\"2019-04-10T07:44:08.000Z\",\"first_published_at\":\"2019-04-08T09:46:57.000Z\",\"word_count\":1042,\"cover\":null,\"description\":\"一、浏览器云的工作原理浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 Windows Server 为例。客户从浏览器启动应用，看到 Windows Server 的远程桌面，到...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-browser-cloud-install":"{\"id\":1539695,\"slug\":\"browser-cloud-install\",\"title\":\"浏览器云部署\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建<strong>浏览器云</strong>最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"1ab99133\\\">二、目标</h2><p><br /></p><p>在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。</p><p><br /></p><h2 id=\\\"f4f988c6\\\">三、部署</h2><p><br /></p><p>要使 F2etest 可以运行起来，总结起来，在 <span>Windows Server 上我们要做如下的配置工作。</span></p><p><br /></p><ul><li>取消登陆密码复杂性 - F2etest 的登陆</li><li>禁用 IE ESC - 防止在浏览器操作时，按了 ESC 导致 IE 浏览器退出</li><li>安装远程桌面服务</li><li>配置远程桌面服务</li><li>部署 IIS 服务 - 提供新建用户服务脚本</li><li>配置应用程序 - <span>IE 8 浏览器与 </span><span>hostShare 应用</span></li></ul><h3 id=\\\"d41d8cd9\\\"><br /></h3><h4 id=\\\"57a30893\\\"><span>3.1 取消登陆密码复杂性</span></h4><p><span><br /></span></p><p>运行中输入 <code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\">gpedit.msc</span></code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> 打开本地策略编辑器</span></p><p><span><br /><img alt=\\\"0.jpg\\\" title=\\\"0.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407435808-ffe71809-a207-40ac-bece-7be4bc890381.jpeg#align=left&amp;display=inline&amp;height=561&amp;name=0.jpg&amp;originHeight=1008&amp;originWidth=816&amp;size=56381&amp;status=done&amp;width=454\\\" style=\\\"max-width: 600px; width: 454px;\\\" /></span></p><p><span><br /></span></p><p><span>修改 账户策略 - 密码策略</span></p><p><span><br /></span></p><p><span><img alt=\\\"1-1.jpg\\\" title=\\\"1-1.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407511180-4f34bb85-cb17-42f2-acc8-ab8199cc25f4.jpeg#align=left&amp;display=inline&amp;height=563&amp;name=1-1.jpg&amp;originHeight=1168&amp;originWidth=1548&amp;size=275351&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><h4 id=\\\"8f3043fb\\\">3.2 禁用 IE ESC</h4><p><br /></p><p>进入服务器管理</p><p><br /></p><p><img alt=\\\"44.jpg\\\" title=\\\"44.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407716281-c24d77ec-5445-4f8f-a47e-b4616c00dfda.jpeg#align=left&amp;display=inline&amp;height=647&amp;name=44.jpg&amp;originHeight=1206&amp;originWidth=1390&amp;size=217191&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>配置 IE ESC</p><p><br /></p><p><img alt=\\\"2.jpg\\\" title=\\\"2.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407635593-20f31ac7-9214-40b2-bfd4-7b113162ad07.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=2.jpg&amp;originHeight=737&amp;originWidth=1020&amp;size=151620&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h4 id=\\\"0851fc06\\\">3.3 安装远程桌面服务</h4><p><br /></p><p>服务器管理 - 角色 - 添加角色。</p><p><br /></p><p><img alt=\\\"3.jpg\\\" title=\\\"3.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407791771-86e26770-6e18-4de5-8be7-b665054aedd2.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=3.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=142805&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>角色服务，勾选远程桌面会话主机，远程桌面授权和远程桌面 Web 访问。</p><p><br /><img alt=\\\"4.jpg\\\" title=\\\"4.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407830429-f8bbed11-9b11-4a6b-861a-679d280fe97f.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=4.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=133428&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>应用程序兼容性，下一步。</p><p><br /><img alt=\\\"5.jpg\\\" title=\\\"5.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407889574-a3b6155b-7fb2-4b3d-b2c9-b73b6b26ed89.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=5.jpg&amp;originHeight=735&amp;originWidth=1020&amp;size=125641&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>身份验证方法，选择不需要使用网络级别身份验证，下一步。</p><p><br /><img alt=\\\"6.jpg\\\" title=\\\"6.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407921371-b5ed9314-dd13-4a49-b891-231066aca4a9.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=6.jpg&amp;originHeight=734&amp;originWidth=1018&amp;size=156132&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>授权模式，选择每用户，下一步。</p><p><br /></p><p><img alt=\\\"7.jpg\\\" title=\\\"7.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407980411-fec550d4-3f53-4ae2-b864-710885d80833.jpeg#align=left&amp;display=inline&amp;height=541&amp;name=7.jpg&amp;originHeight=736&amp;originWidth=1015&amp;size=138092&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>用户组，按照如下面所示，添加 Authenticated User，下一步。</p><p><br /></p><p><img alt=\\\"8.jpg\\\" title=\\\"8.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408007958-4d338e71-1d71-4fc0-ab55-b4ab354f462e.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=8.jpg&amp;originHeight=735&amp;originWidth=1019&amp;size=121055&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"9.jpg\\\" title=\\\"9.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408041993-048b7151-1dac-448d-a49a-ecdc9362a33a.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=9.jpg&amp;originHeight=737&amp;originWidth=1019&amp;size=121096&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><img alt=\\\"10.jpg\\\" title=\\\"10.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408057007-46611fa1-0b82-4ab5-a217-1d63693715d7.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=10.jpg&amp;originHeight=735&amp;originWidth=1019&amp;size=142227&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"11.jpg\\\" title=\\\"11.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408066915-161a1c11-806c-47c3-b9f3-285fd9250b4a.jpeg#align=left&amp;display=inline&amp;height=537&amp;name=11.jpg&amp;originHeight=737&amp;originWidth=1023&amp;size=122528&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>客户端体验，默认，下一步。</p><p><br /></p><p><img alt=\\\"12.jpg\\\" title=\\\"12.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408218764-5a287eee-dee0-49df-9a32-e63bf66e2125.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=12.jpg&amp;originHeight=738&amp;originWidth=1022&amp;size=146260&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>RD 授权配置，默认，下一步。</p><p><br /><img alt=\\\"13.jpg\\\" title=\\\"13.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408250098-c323ed01-587f-473c-ac61-2653ea8ccfce.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=13.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=157067&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>角色服务，按照下图勾选，勾选应用程序开发和管理工具，下一步。</p><p><br /></p><p><img alt=\\\"14.jpg\\\" title=\\\"14.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408291213-7af0cf48-f4ca-4b7b-a34a-cf19f21e086f.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=14.jpg&amp;originHeight=737&amp;originWidth=1019&amp;size=150836&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><img alt=\\\"15.jpg\\\" title=\\\"15.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408339605-06f4d256-e275-44cc-8eb2-d2842231ff2e.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=15.jpg&amp;originHeight=736&amp;originWidth=1016&amp;size=154964&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><p>确认安装，安装完成后重启机器。</p><p><br /><img alt=\\\"16.jpg\\\" title=\\\"16.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408365776-deba65fb-2282-4aa6-801f-620c43c7401a.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=16.jpg&amp;originHeight=736&amp;originWidth=1019&amp;size=160226&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><img alt=\\\"17.jpg\\\" title=\\\"17.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408392334-c7faabdb-d95e-4683-869b-47d554a9322b.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=17.jpg&amp;originHeight=739&amp;originWidth=1021&amp;size=111287&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"18.jpg\\\" title=\\\"18.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408403266-42b7b490-6880-430e-83e0-31dd3e93ec96.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=18.jpg&amp;originHeight=737&amp;originWidth=1022&amp;size=130665&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><h4 id=\\\"4c44eac0\\\">3.4 配置远程桌面服务</h4><p><br /></p><ul><li>激活远程桌面服务。</li></ul><p><br /></p><p>管理工具 - 远程桌面服务 - 远程桌面授权管理器。</p><p><br /><img alt=\\\"19.jpg\\\" title=\\\"19.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408488810-dc67c36b-dbaa-4b28-a76f-0e688d3842a9.jpeg#align=left&amp;display=inline&amp;height=453&amp;name=19.jpg&amp;originHeight=638&amp;originWidth=1050&amp;size=105792&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>右键，激活服务器。</p><p><br /></p><p><img alt=\\\"20.jpg\\\" title=\\\"20.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408528953-5a633c01-c11f-4a3f-85c7-07adab5ae397.jpeg#align=left&amp;display=inline&amp;height=429&amp;name=20.jpg&amp;originHeight=618&amp;originWidth=1075&amp;size=62121&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>激活向导，下一步。</p><p><br /><img alt=\\\"21.jpg\\\" title=\\\"21.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408552984-1afd9309-6abb-4631-9f08-58769af2636f.jpeg#align=left&amp;display=inline&amp;height=429&amp;name=21.jpg&amp;originHeight=619&amp;originWidth=1076&amp;size=94929&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>公司，姓，名，都可以随意填。</p><p><br /></p><p><img alt=\\\"22.jpg\\\" title=\\\"22.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408574450-6263856f-e577-4868-af7d-cc024c6dac90.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=22.jpg&amp;originHeight=567&amp;originWidth=548&amp;size=51030&amp;status=done&amp;width=548\\\" style=\\\"max-width: 600px; width: 548px;\\\" /></p><p><br /></p><p>不填，下一步。</p><p><br /><img alt=\\\"23.jpg\\\" title=\\\"23.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408606984-db439e8d-1baf-4a82-a747-762de784203e.jpeg#align=left&amp;display=inline&amp;height=572&amp;name=23.jpg&amp;originHeight=572&amp;originWidth=552&amp;size=50503&amp;status=done&amp;width=552\\\" style=\\\"max-width: 600px; width: 552px;\\\" /></p><p><br /></p><p>下确保“立即启动许可证安装向导”勾选，下一步。</p><p><br /><img alt=\\\"24.jpg\\\" title=\\\"24.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408619943-2224bdbd-04a6-46e5-ab09-3d1b7a9afdc5.jpeg#align=left&amp;display=inline&amp;height=565&amp;name=24.jpg&amp;originHeight=565&amp;originWidth=551&amp;size=49884&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>这里也是下一步。</p><p><br /></p><p><img alt=\\\"25.jpg\\\" title=\\\"25.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408674472-a97ef2ba-2712-48b5-9eb7-60cab0e28c99.jpeg#align=left&amp;display=inline&amp;height=566&amp;name=25.jpg&amp;originHeight=566&amp;originWidth=551&amp;size=57341&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>示例，不管，下一步。</p><p><br /><img alt=\\\"26.jpg\\\" title=\\\"26.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408700027-a27cc88d-5c2b-4fdb-aac2-179efba463d8.jpeg#align=left&amp;display=inline&amp;height=569&amp;name=26.jpg&amp;originHeight=569&amp;originWidth=550&amp;size=55839&amp;status=done&amp;width=550\\\" style=\\\"max-width: 600px; width: 550px;\\\" /></p><p><br /></p><p>协议号码填入“6565792”，下一步。</p><p><br /></p><p><img alt=\\\"27.jpg\\\" title=\\\"27.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408718538-63171a57-9972-4b74-ad34-5e2a0c51ede4.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=27.jpg&amp;originHeight=567&amp;originWidth=551&amp;size=33996&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>按图选择，下一步。</p><p><br /></p><p><img alt=\\\"28.jpg\\\" title=\\\"28.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408763737-ebc32bee-480b-4431-8448-b585ba42e266.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=28.jpg&amp;originHeight=567&amp;originWidth=551&amp;size=62961&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>完成。</p><p><br /><img alt=\\\"29.jpg\\\" title=\\\"29.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408787209-0de7ede5-cc57-4b85-aef1-9c446b833f8f.jpeg#align=left&amp;display=inline&amp;height=568&amp;name=29.jpg&amp;originHeight=568&amp;originWidth=550&amp;size=34414&amp;status=done&amp;width=550\\\" style=\\\"max-width: 600px; width: 550px;\\\" /></p><p><br /></p><h4 id=\\\"30122014\\\"><span>3.5 部署 IIS 服务</span></h4><p><span><br /></span></p><p>IIS 服务器主要是用来给 F2etest-web 调用创建 Windows 用户功能。</p><p><br /></p><p>拷贝 F2etest 源代码里的 <code>f2etest-client\\\\f2etest-browsers\\\\www</code> 下的 <strong>setuser</strong> 文件到<code>C:\\\\inetpub\\\\wwwroot</code> 下 并修改 <code>apikey</code> 为前面配置的 <code>key</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> <img alt=\\\"30.jpg\\\" title=\\\"30.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408983404-35ebfeba-6e0a-4542-9374-058cdf6b3bfd.jpeg#align=left&amp;display=inline&amp;height=320&amp;name=30.jpg&amp;originHeight=550&amp;originWidth=1282&amp;size=119135&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><p>编辑 setuser 文件，修改 <code>apiKey</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /><img alt=\\\"31.jpg\\\" title=\\\"31.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409014190-47b19460-aca4-4353-b239-fc275be606ce.jpeg#align=left&amp;display=inline&amp;height=430&amp;name=31.jpg&amp;originHeight=620&amp;originWidth=1076&amp;size=107100&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><p>进入 IIS 管理器。</p><p><br /></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><img alt=\\\"32.jpg\\\" title=\\\"32.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409048429-dabc8e04-bd75-4c02-80c7-3afd544f4bc6.jpeg#align=left&amp;display=inline&amp;height=511&amp;name=32.jpg&amp;originHeight=511&amp;originWidth=404&amp;size=70877&amp;status=done&amp;width=404\\\" style=\\\"max-width: 600px; width: 404px;\\\" /></span></p><p><br /></p><p>选择身份验证。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /></span></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><img alt=\\\"33-1.jpg\\\" title=\\\"33-1.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409099227-30b750c2-0536-4512-b970-0813237f48e7.jpeg#align=left&amp;display=inline&amp;height=470&amp;name=33-1.jpg&amp;originHeight=1402&amp;originWidth=2226&amp;size=461660&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><p>右键匿名身份验证，编辑。</p><p><br /></p><p><img alt=\\\"34.jpg\\\" title=\\\"34.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409128431-39be6ae6-9088-4e36-845d-acc7bdcd0891.jpeg#align=left&amp;display=inline&amp;height=468&amp;name=34.jpg&amp;originHeight=700&amp;originWidth=1115&amp;size=117183&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>选择设置。</p><p><br /><img alt=\\\"35.jpg\\\" title=\\\"35.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409163537-0374c516-c091-4997-bd06-144ae91a8caf.jpeg#align=left&amp;display=inline&amp;height=470&amp;name=35.jpg&amp;originHeight=704&amp;originWidth=1117&amp;size=133044&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>填入 administrator 的账户与密码。</p><p><br /><img alt=\\\"36.jpg\\\" title=\\\"36.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409180080-3fcbf812-42c6-459b-be17-ef1a041c1391.jpeg#align=left&amp;display=inline&amp;height=469&amp;name=36.jpg&amp;originHeight=702&amp;originWidth=1116&amp;size=129208&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>访问 <a href=\\\"http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest\\\" target=\\\"_blank\\\">http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest</a>，如果看到页面输出 <strong>ok</strong>，代表  IIS服务设置成功。</p><p><br /><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/318847/1555409206387-7d0ae7f1-4514-45e6-a569-287d62180635.png#align=left&amp;display=inline&amp;height=858&amp;name=image.png&amp;originHeight=1716&amp;originWidth=2356&amp;size=221284&amp;status=done&amp;width=1178\\\" style=\\\"max-width: 600px; width: 1178px;\\\" /></p><p><br /></p><p><br /></p><h4 id=\\\"18c825a4\\\">3.6 <span>配置应用程序</span></h4><p><br /></p><p>复制 <code>f2etest-client\\\\f2etest-browsers\\\\curl</code> 中的所有文件到 <code>c:\\\\windows</code> 下面。</p><p><span><br /></span></p><p><span><img alt=\\\"38.jpg\\\" title=\\\"38.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409310828-31724197-c056-4025-864f-b33fc0ed5216.jpeg#align=left&amp;display=inline&amp;height=303&amp;name=38.jpg&amp;originHeight=1156&amp;originWidth=2846&amp;size=483022&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></span></p><p><br /></p><p>把 <code>f2etest-client\\\\f2etest-browsers</code> 下的 <strong>app</strong> 目录复制到 <strong>C</strong> 盘根目录，并重命名<strong>强制代理.bat</strong> 为 <strong>ie8.bat</strong>，<strong>禁用代理.bat</strong>为 <strong>hostsshare.bat</strong>。</p><p><br /></p><p><img alt=\\\"39.jpg\\\" title=\\\"39.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409423243-65e47ad4-83b5-42d2-8faf-fb03d26983ee.jpeg#align=left&amp;display=inline&amp;height=305&amp;name=39.jpg&amp;originHeight=1164&amp;originWidth=2848&amp;size=326580&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>然后修改两个 bat 中的 f2etestDomain 为 f2etest-web 的访问地址，其中 ie8.bat 中的 appid 请修改为 ie8 和<span>f2etest-web 的 </span>app.js 中配置的 id 保持一致。</p><p><br /><img alt=\\\"40.jpg\\\" title=\\\"40.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409433798-3a9f5421-01da-45a7-9956-a22bc5e8b3a8.jpeg#align=left&amp;display=inline&amp;height=367&amp;name=40.jpg&amp;originHeight=1270&amp;originWidth=2582&amp;size=485370&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>把源码中的 hostsShare-client 下的 build 文件夹修改为 hostsShare 并拷贝到 C 盘根目录。</p><p><br /></p><p><img alt=\\\"41.jpg\\\" title=\\\"41.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409536414-94c6e112-2a7a-4863-bd73-9f11e4ed0611.jpeg#align=left&amp;display=inline&amp;height=307&amp;name=41.jpg&amp;originHeight=1172&amp;originWidth=2848&amp;size=402950&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><p>管理工具 - 远程桌面服务 - RemoteApp 管理器</p><p><br /></p><p><img alt=\\\"42.jpg\\\" title=\\\"42.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409564698-59aafa3b-077e-4fd6-a702-e189a281a07b.jpeg#align=left&amp;display=inline&amp;height=514&amp;name=42.jpg&amp;originHeight=1194&amp;originWidth=1732&amp;size=283397&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>按照下图顺序添加</p><p><br /></p><p><img alt=\\\"47.jpg\\\" title=\\\"47.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410044530-a067d815-5d5e-4f7e-bb70-9d760a70e9d4.jpeg#align=left&amp;display=inline&amp;height=566&amp;name=47.jpg&amp;originHeight=1456&amp;originWidth=1920&amp;size=412194&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><p>右键 hostsShare.bat 和 ie8.bat，选择属性。</p><p><br /><img alt=\\\"48.jpg\\\" title=\\\"48.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410086581-a92ddddc-86c6-41c9-9e8a-106f1d9c7f97.jpeg#align=left&amp;display=inline&amp;height=564&amp;name=48.jpg&amp;originHeight=1450&amp;originWidth=1918&amp;size=541301&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>选择允许任何命令行参数。</p><p><br /></p><p><img alt=\\\"49.jpg\\\" title=\\\"49.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410213088-6a67adce-5c25-4c04-b55e-09b8466d5224.jpeg#align=left&amp;display=inline&amp;height=565&amp;name=49.jpg&amp;originHeight=1454&amp;originWidth=1920&amp;size=372035&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建<strong>浏览器云</strong>最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"1ab99133\\\">二、目标</h2><p><br /></p><p>在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。</p><p><br /></p><h2 id=\\\"f4f988c6\\\">三、部署</h2><p><br /></p><p>要使 F2etest 可以运行起来，总结起来，在 <span>Windows Server 上我们要做如下的配置工作。</span></p><p><br /></p><ul><li>取消登陆密码复杂性 - F2etest 的登陆</li><li>禁用 IE ESC - 防止在浏览器操作时，按了 ESC 导致 IE 浏览器退出</li><li>安装远程桌面服务</li><li>配置远程桌面服务</li><li>部署 IIS 服务 - 提供新建用户服务脚本</li><li>配置应用程序 - <span>IE 8 浏览器与 </span><span>hostShare 应用</span></li></ul><h3 id=\\\"d41d8cd9\\\"><br /></h3><h4 id=\\\"57a30893\\\"><span>3.1 取消登陆密码复杂性</span></h4><p><span><br /></span></p><p>运行中输入 <code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\">gpedit.msc</span></code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> 打开本地策略编辑器</span></p><p><span><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407435808-ffe71809-a207-40ac-bece-7be4bc890381.jpeg%22%2C%22originWidth%22%3A816%2C%22originHeight%22%3A1008%2C%22name%22%3A%220.jpg%22%2C%22size%22%3A56381%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A454%2C%22height%22%3A561%7D\\\"></card></span></p><p><span><br /></span></p><p><span>修改 账户策略 - 密码策略</span></p><p><span><br /></span></p><p><span><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407511180-4f34bb85-cb17-42f2-acc8-ab8199cc25f4.jpeg%22%2C%22originWidth%22%3A1548%2C%22originHeight%22%3A1168%2C%22name%22%3A%221-1.jpg%22%2C%22size%22%3A275351%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A563%7D\\\"></card></span></p><p><br /></p><h4 id=\\\"8f3043fb\\\">3.2 禁用 IE ESC</h4><p><br /></p><p>进入服务器管理</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407716281-c24d77ec-5445-4f8f-a47e-b4616c00dfda.jpeg%22%2C%22originWidth%22%3A1390%2C%22originHeight%22%3A1206%2C%22name%22%3A%2244.jpg%22%2C%22size%22%3A217191%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A647%7D\\\"></card></p><p><br /></p><p>配置 IE ESC</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407635593-20f31ac7-9214-40b2-bfd4-7b113162ad07.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A737%2C%22name%22%3A%222.jpg%22%2C%22size%22%3A151620%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\\\"></card></p><p><br /></p><h4 id=\\\"0851fc06\\\">3.3 安装远程桌面服务</h4><p><br /></p><p>服务器管理 - 角色 - 添加角色。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407791771-86e26770-6e18-4de5-8be7-b665054aedd2.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%223.jpg%22%2C%22size%22%3A142805%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>角色服务，勾选远程桌面会话主机，远程桌面授权和远程桌面 Web 访问。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407830429-f8bbed11-9b11-4a6b-861a-679d280fe97f.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%224.jpg%22%2C%22size%22%3A133428%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>应用程序兼容性，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407889574-a3b6155b-7fb2-4b3d-b2c9-b73b6b26ed89.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A735%2C%22name%22%3A%225.jpg%22%2C%22size%22%3A125641%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>身份验证方法，选择不需要使用网络级别身份验证，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407921371-b5ed9314-dd13-4a49-b891-231066aca4a9.jpeg%22%2C%22originWidth%22%3A1018%2C%22originHeight%22%3A734%2C%22name%22%3A%226.jpg%22%2C%22size%22%3A156132%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>授权模式，选择每用户，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407980411-fec550d4-3f53-4ae2-b864-710885d80833.jpeg%22%2C%22originWidth%22%3A1015%2C%22originHeight%22%3A736%2C%22name%22%3A%227.jpg%22%2C%22size%22%3A138092%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A541%7D\\\"></card></p><p><br /></p><p>用户组，按照如下面所示，添加 Authenticated User，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408007958-4d338e71-1d71-4fc0-ab55-b4ab354f462e.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A735%2C%22name%22%3A%228.jpg%22%2C%22size%22%3A121055%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408041993-048b7151-1dac-448d-a49a-ecdc9362a33a.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A737%2C%22name%22%3A%229.jpg%22%2C%22size%22%3A121096%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408057007-46611fa1-0b82-4ab5-a217-1d63693715d7.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A735%2C%22name%22%3A%2210.jpg%22%2C%22size%22%3A142227%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408066915-161a1c11-806c-47c3-b9f3-285fd9250b4a.jpeg%22%2C%22originWidth%22%3A1023%2C%22originHeight%22%3A737%2C%22name%22%3A%2211.jpg%22%2C%22size%22%3A122528%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A537%7D\\\"></card></p><p><br /></p><p>客户端体验，默认，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408218764-5a287eee-dee0-49df-9a32-e63bf66e2125.jpeg%22%2C%22originWidth%22%3A1022%2C%22originHeight%22%3A738%2C%22name%22%3A%2212.jpg%22%2C%22size%22%3A146260%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\\\"></card></p><p><br /></p><p>RD 授权配置，默认，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408250098-c323ed01-587f-473c-ac61-2653ea8ccfce.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%2213.jpg%22%2C%22size%22%3A157067%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>角色服务，按照下图勾选，勾选应用程序开发和管理工具，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408291213-7af0cf48-f4ca-4b7b-a34a-cf19f21e086f.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A737%2C%22name%22%3A%2214.jpg%22%2C%22size%22%3A150836%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408339605-06f4d256-e275-44cc-8eb2-d2842231ff2e.jpeg%22%2C%22originWidth%22%3A1016%2C%22originHeight%22%3A736%2C%22name%22%3A%2215.jpg%22%2C%22size%22%3A154964%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card><br /></p><p><br /></p><p>确认安装，安装完成后重启机器。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408365776-deba65fb-2282-4aa6-801f-620c43c7401a.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A736%2C%22name%22%3A%2216.jpg%22%2C%22size%22%3A160226%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\\\"></card><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408392334-c7faabdb-d95e-4683-869b-47d554a9322b.jpeg%22%2C%22originWidth%22%3A1021%2C%22originHeight%22%3A739%2C%22name%22%3A%2217.jpg%22%2C%22size%22%3A111287%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408403266-42b7b490-6880-430e-83e0-31dd3e93ec96.jpeg%22%2C%22originWidth%22%3A1022%2C%22originHeight%22%3A737%2C%22name%22%3A%2218.jpg%22%2C%22size%22%3A130665%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card><br /></p><p><br /></p><h4 id=\\\"4c44eac0\\\">3.4 配置远程桌面服务</h4><p><br /></p><ul><li>激活远程桌面服务。</li></ul><p><br /></p><p>管理工具 - 远程桌面服务 - 远程桌面授权管理器。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408488810-dc67c36b-dbaa-4b28-a76f-0e688d3842a9.jpeg%22%2C%22originWidth%22%3A1050%2C%22originHeight%22%3A638%2C%22name%22%3A%2219.jpg%22%2C%22size%22%3A105792%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A453%7D\\\"></card></p><p><br /></p><p>右键，激活服务器。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408528953-5a633c01-c11f-4a3f-85c7-07adab5ae397.jpeg%22%2C%22originWidth%22%3A1075%2C%22originHeight%22%3A618%2C%22name%22%3A%2220.jpg%22%2C%22size%22%3A62121%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A429%7D\\\"></card></p><p><br /></p><p>激活向导，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408552984-1afd9309-6abb-4631-9f08-58769af2636f.jpeg%22%2C%22originWidth%22%3A1076%2C%22originHeight%22%3A619%2C%22name%22%3A%2221.jpg%22%2C%22size%22%3A94929%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A429%7D\\\"></card></p><p><br /></p><p>公司，姓，名，都可以随意填。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408574450-6263856f-e577-4868-af7d-cc024c6dac90.jpeg%22%2C%22originWidth%22%3A548%2C%22originHeight%22%3A567%2C%22name%22%3A%2222.jpg%22%2C%22size%22%3A51030%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A548%2C%22height%22%3A567%7D\\\"></card></p><p><br /></p><p>不填，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408606984-db439e8d-1baf-4a82-a747-762de784203e.jpeg%22%2C%22originWidth%22%3A552%2C%22originHeight%22%3A572%2C%22name%22%3A%2223.jpg%22%2C%22size%22%3A50503%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A552%2C%22height%22%3A572%7D\\\"></card></p><p><br /></p><p>下确保“立即启动许可证安装向导”勾选，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408619943-2224bdbd-04a6-46e5-ab09-3d1b7a9afdc5.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A565%2C%22name%22%3A%2224.jpg%22%2C%22size%22%3A49884%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A565%7D\\\"></card></p><p><br /></p><p>这里也是下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408674472-a97ef2ba-2712-48b5-9eb7-60cab0e28c99.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A566%2C%22name%22%3A%2225.jpg%22%2C%22size%22%3A57341%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A566%7D\\\"></card></p><p><br /></p><p>示例，不管，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408700027-a27cc88d-5c2b-4fdb-aac2-179efba463d8.jpeg%22%2C%22originWidth%22%3A550%2C%22originHeight%22%3A569%2C%22name%22%3A%2226.jpg%22%2C%22size%22%3A55839%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A550%2C%22height%22%3A569%7D\\\"></card></p><p><br /></p><p>协议号码填入“6565792”，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408718538-63171a57-9972-4b74-ad34-5e2a0c51ede4.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A567%2C%22name%22%3A%2227.jpg%22%2C%22size%22%3A33996%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A567%7D\\\"></card></p><p><br /></p><p>按图选择，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408763737-ebc32bee-480b-4431-8448-b585ba42e266.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A567%2C%22name%22%3A%2228.jpg%22%2C%22size%22%3A62961%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A567%7D\\\"></card></p><p><br /></p><p>完成。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408787209-0de7ede5-cc57-4b85-aef1-9c446b833f8f.jpeg%22%2C%22originWidth%22%3A550%2C%22originHeight%22%3A568%2C%22name%22%3A%2229.jpg%22%2C%22size%22%3A34414%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A550%2C%22height%22%3A568%7D\\\"></card></p><p><br /></p><h4 id=\\\"30122014\\\"><span>3.5 部署 IIS 服务</span></h4><p><span><br /></span></p><p>IIS 服务器主要是用来给 F2etest-web 调用创建 Windows 用户功能。</p><p><br /></p><p>拷贝 F2etest 源代码里的 <code>f2etest-client\\\\f2etest-browsers\\\\www</code> 下的 <strong>setuser</strong> 文件到<code>C:\\\\inetpub\\\\wwwroot</code> 下 并修改 <code>apikey</code> 为前面配置的 <code>key</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> <card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408983404-35ebfeba-6e0a-4542-9374-058cdf6b3bfd.jpeg%22%2C%22originWidth%22%3A1282%2C%22originHeight%22%3A550%2C%22name%22%3A%2230.jpg%22%2C%22size%22%3A119135%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A320%7D\\\"></card></span></p><p><br /></p><p>编辑 setuser 文件，修改 <code>apiKey</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409014190-47b19460-aca4-4353-b239-fc275be606ce.jpeg%22%2C%22originWidth%22%3A1076%2C%22originHeight%22%3A620%2C%22name%22%3A%2231.jpg%22%2C%22size%22%3A107100%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A430%7D\\\"></card></span></p><p><br /></p><p>进入 IIS 管理器。</p><p><br /></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409048429-dabc8e04-bd75-4c02-80c7-3afd544f4bc6.jpeg%22%2C%22originWidth%22%3A404%2C%22originHeight%22%3A511%2C%22name%22%3A%2232.jpg%22%2C%22size%22%3A70877%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A404%2C%22height%22%3A511%7D\\\"></card></span></p><p><br /></p><p>选择身份验证。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /></span></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409099227-30b750c2-0536-4512-b970-0813237f48e7.jpeg%22%2C%22originWidth%22%3A2226%2C%22originHeight%22%3A1402%2C%22name%22%3A%2233-1.jpg%22%2C%22size%22%3A461660%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A470%7D\\\"></card></span></p><p><br /></p><p>右键匿名身份验证，编辑。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409128431-39be6ae6-9088-4e36-845d-acc7bdcd0891.jpeg%22%2C%22originWidth%22%3A1115%2C%22originHeight%22%3A700%2C%22name%22%3A%2234.jpg%22%2C%22size%22%3A117183%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A468%7D\\\"></card></p><p><br /></p><p>选择设置。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409163537-0374c516-c091-4997-bd06-144ae91a8caf.jpeg%22%2C%22originWidth%22%3A1117%2C%22originHeight%22%3A704%2C%22name%22%3A%2235.jpg%22%2C%22size%22%3A133044%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A470%7D\\\"></card></p><p><br /></p><p>填入 administrator 的账户与密码。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409180080-3fcbf812-42c6-459b-be17-ef1a041c1391.jpeg%22%2C%22originWidth%22%3A1116%2C%22originHeight%22%3A702%2C%22name%22%3A%2236.jpg%22%2C%22size%22%3A129208%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A469%7D\\\"></card></p><p><br /></p><p>访问 <a href=\\\"http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest\\\" target=\\\"_blank\\\">http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest</a>，如果看到页面输出 <strong>ok</strong>，代表  IIS服务设置成功。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F318847%2F1555409206387-7d0ae7f1-4514-45e6-a569-287d62180635.png%22%2C%22originWidth%22%3A2356%2C%22originHeight%22%3A1716%2C%22name%22%3A%22image.png%22%2C%22size%22%3A221284%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1178%2C%22height%22%3A858%7D\\\"></card></p><p><br /></p><p><br /></p><h4 id=\\\"18c825a4\\\">3.6 <span>配置应用程序</span></h4><p><br /></p><p>复制 <code>f2etest-client\\\\f2etest-browsers\\\\curl</code> 中的所有文件到 <code>c:\\\\windows</code> 下面。</p><p><span><br /></span></p><p><span><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409310828-31724197-c056-4025-864f-b33fc0ed5216.jpeg%22%2C%22originWidth%22%3A2846%2C%22originHeight%22%3A1156%2C%22name%22%3A%2238.jpg%22%2C%22size%22%3A483022%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A303%7D\\\"></card><br /></span></p><p><br /></p><p>把 <code>f2etest-client\\\\f2etest-browsers</code> 下的 <strong>app</strong> 目录复制到 <strong>C</strong> 盘根目录，并重命名<strong>强制代理.bat</strong> 为 <strong>ie8.bat</strong>，<strong>禁用代理.bat</strong>为 <strong>hostsshare.bat</strong>。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409423243-65e47ad4-83b5-42d2-8faf-fb03d26983ee.jpeg%22%2C%22originWidth%22%3A2848%2C%22originHeight%22%3A1164%2C%22name%22%3A%2239.jpg%22%2C%22size%22%3A326580%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A305%7D\\\"></card></p><p><br /></p><p>然后修改两个 bat 中的 f2etestDomain 为 f2etest-web 的访问地址，其中 ie8.bat 中的 appid 请修改为 ie8 和<span>f2etest-web 的 </span>app.js 中配置的 id 保持一致。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409433798-3a9f5421-01da-45a7-9956-a22bc5e8b3a8.jpeg%22%2C%22originWidth%22%3A2582%2C%22originHeight%22%3A1270%2C%22name%22%3A%2240.jpg%22%2C%22size%22%3A485370%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A367%7D\\\"></card></p><p><br /></p><p>把源码中的 hostsShare-client 下的 build 文件夹修改为 hostsShare 并拷贝到 C 盘根目录。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409536414-94c6e112-2a7a-4863-bd73-9f11e4ed0611.jpeg%22%2C%22originWidth%22%3A2848%2C%22originHeight%22%3A1172%2C%22name%22%3A%2241.jpg%22%2C%22size%22%3A402950%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A307%7D\\\"></card><br /></p><p><br /></p><p>管理工具 - 远程桌面服务 - RemoteApp 管理器</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409564698-59aafa3b-077e-4fd6-a702-e189a281a07b.jpeg%22%2C%22originWidth%22%3A1732%2C%22originHeight%22%3A1194%2C%22name%22%3A%2242.jpg%22%2C%22size%22%3A283397%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A514%7D\\\"></card></p><p><br /></p><p>按照下图顺序添加</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410044530-a067d815-5d5e-4f7e-bb70-9d760a70e9d4.jpeg%22%2C%22originWidth%22%3A1920%2C%22originHeight%22%3A1456%2C%22name%22%3A%2247.jpg%22%2C%22size%22%3A412194%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A566%7D\\\"></card><br /></p><p><br /></p><p>右键 hostsShare.bat 和 ie<cursor />8.bat，选择属性。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410086581-a92ddddc-86c6-41c9-9e8a-106f1d9c7f97.jpeg%22%2C%22originWidth%22%3A1918%2C%22originHeight%22%3A1450%2C%22name%22%3A%2248.jpg%22%2C%22size%22%3A541301%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A564%7D\\\"></card></p><p><br /></p><p>选择允许任何命令行参数。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410213088-6a67adce-5c25-4c04-b55e-09b8466d5224.jpeg%22%2C%22originWidth%22%3A1920%2C%22originHeight%22%3A1454%2C%22name%22%3A%2249.jpg%22%2C%22size%22%3A372035%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A565%7D\\\"></card></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:37:23.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-15T10:08:00.000Z\",\"updated_at\":\"2019-04-23T06:15:17.000Z\",\"published_at\":\"2019-04-16T16:37:23.000Z\",\"first_published_at\":\"2019-04-15T10:08:04.000Z\",\"word_count\":832,\"cover\":null,\"description\":\"一、前言本部署教程旨在搭建浏览器云最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。二、目标在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。三、部署要使 F2etest 可以运行起来，总结起来，在 ...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-browser-cloud-usage":"{\"id\":1520849,\"slug\":\"browser-cloud-usage\",\"title\":\"如何使用浏览器云\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"77e4d6df\\\"><span>一、浏览器云</span></h2><p><br /></p><h3 id=\\\"54ae9400\\\"><span>1.1 使用方法</span></h3><p><br /></p><p><span>如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。</span></p><p><span><br /></span></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1555001729207-49f92046-b831-4c89-85d5-108165816cc4.gif#align=left&amp;display=inline&amp;height=412&amp;originHeight=565&amp;originWidth=1024&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><br /></p><h3 id=\\\"bdb9c89a\\\">1.2 hostShare</h3><p><br /></p><p>在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认情况下（没有配置 hosts），我们通过浏览器云访问都是线上环境。因此，我们提供 hostShare 功能，可以通过配置 hosts 的方式，访问不同环境，如下图所示：</p><p><br /></p><p><img alt=\\\"Kapture 2019-04-08 at 13.54.34.gif\\\" title=\\\"Kapture 2019-04-08 at 13.54.34.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1555001729209-62fd768e-b0f0-48b5-b2fb-d21b7797f399.gif#align=left&amp;display=inline&amp;height=340&amp;name=Kapture%202019-04-08%20at%2013.54.34.gif&amp;originHeight=581&amp;originWidth=1274&amp;size=1246232&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"9b3daeb4\\\">1.3 asyncAllUser</h3><p>        初次使用浏览器云时，会初始化用户信息并存入 DB，同时将用户信息同步至浏览器云对应的 Windows 服务器集群的 User Group 中。然而，当我们变更 Windows 服务器的时候，需要将用户信息同步至变更的 Windows 服务器中，这里我们提供了 API <span>(http://f2etest.xxx.com/asyncAllUser)，</span>可直接通过 HTTP 接口访问的方式触发。</p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"77e4d6df\\\"><span>一、浏览器云</span></h2><p><br /></p><h3 id=\\\"54ae9400\\\"><span>1.1 使用方法</span></h3><p><br /></p><p><span>如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。</span></p><p><span><br /></span></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1555001729207-49f92046-b831-4c89-85d5-108165816cc4.gif%22%2C%22originWidth%22%3A1024%2C%22originHeight%22%3A565%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A412%7D\\\"></card></p><p><br /></p><p><br /></p><h3 id=\\\"bdb9c89a\\\">1.2 hostShare</h3><p><br /></p><p>在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认情况下（没有配置 hosts），我们通过浏览器云访问都是线上环境。因此，我们提供 hostShare 功能，可以通过配置 hosts 的方式，访问不同环境，如下图所示：</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1555001729209-62fd768e-b0f0-48b5-b2fb-d21b7797f399.gif%22%2C%22originWidth%22%3A1274%2C%22originHeight%22%3A581%2C%22name%22%3A%22Kapture%202019-04-08%20at%2013.54.34.gif%22%2C%22size%22%3A1246232%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A340%7D\\\"></card></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"9b3daeb4\\\">1.3 asyncAllUser</h3><p>        初次使用浏览器云时，会初始化用户信息并存入 DB，同时将用户信息同步至浏览器云对应的 Windows 服务器集群的 User Group 中。然而，当我们变更 Windows 服务器的时候，需要将用户信息同步至变更的 Windows 服务器中，这里我们提供了 API <span>(http://f2etest.xxx.com/asyncAllUser)，</span>可直接通过 HTTP 接<cursor />口访问的方式触发。</p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T16:57:10.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-11T16:55:23.000Z\",\"updated_at\":\"2019-04-23T06:15:27.000Z\",\"published_at\":\"2019-04-11T16:57:10.000Z\",\"first_published_at\":\"2019-04-11T16:57:10.000Z\",\"word_count\":282,\"cover\":null,\"description\":\"一、浏览器云1.1 使用方法如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。1.2 hostShare在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-f2etest-web":"{\"id\":1486475,\"slug\":\"f2etest-web\",\"title\":\"F2etest-web 架构\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"70c02cfa\\\">一、技术架构</h2><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554715723463-06aa0bcb-8e8a-4589-b37c-ebcee554f132.png#align=left&amp;display=inline&amp;height=633&amp;originHeight=1160&amp;originWidth=1366&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h3 id=\\\"95d6074b\\\">1.1 接入层</h3><p><br /></p><p>选用高性能的 <code>Nginx</code> 来提供统一接入服务，主要使用其反向代理服务：</p><p><br /></p><ul><li>NodeJS Web Application 的 <code>3000</code> 端口；</li><li>Guacamole Client 的 <code>8080</code> 端口；</li><li>WebDriver 的 <code>4444</code> 端口。</li></ul><p><br /></p><h3 id=\\\"1404f1d0\\\">1.2 应用层</h3><p><br /></p><p><strong>Node Web Application</strong></p><p>提供了一个漂亮的 Web 界面来方便用户发起远程连接并启动配置在 Windows Server 上的 RemoteApp。</p><p><br /></p><ul><li>Users 用户管理：初始化用户信息并在 Windows Server 中创建用户。</li><li>Logs 日志管理：用户日志记录入库。</li><li>WebDriver: WebDriver 节点管理。</li><li>RDP: 远程连接管理。</li><li>SSO：单点登录，用于访问控制。</li><li>API: 开放接口。</li></ul><p><br /></p><p><strong>guacamole-client</strong></p><p>与用户实际交互的部分，它主要将用户的实际远程连接信息传递给 <code>guacd</code> 服务。</p><p><br /></p><h3 id=\\\"1b26625a\\\">1.3 数据层</h3><p><br /></p><p>选用 MySQL 存储数据，用以存储日志、用户信息以及 WebDriver 节点等。</p><p><br /></p><h3 id=\\\"88e6be02\\\">1.4 服务层</h3><p><br /></p><p><code>guacd</code> 是 <code>Guacamole</code> 的核心，它动态加载对远程桌面协议的支持，并根据从 <code>guacamole-client</code> 收到的指令来连接到远程桌面。</p><p><br /></p><h2 id=\\\"96edf5b8\\\">二、配置详解</h2><p><br /></p><p><code>F2etest-web</code> 主要包含以下 4 个配置文件：</p><p><br /></p><h3 id=\\\"c1a9669b\\\">2.1 免登配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/etc/guacamole/noauth-config.xml</code></p><p>由于官方版本的 <code>Guacamole</code> 有登录限制，我们基于官方版进行了简单的定制和增强。</p></blockquote><p><br /></p><p>每一条 <code>config</code> 对应界面上一个应用，其格式如下：</p><p><br /></p><pre data-lang=\\\"xml\\\"><code>&lt;configs&gt;\\n    &lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;\\n        &lt;param name=&quot;hostname&quot; value=&quot;192.168.56.102&quot; /&gt;\\n        &lt;param name=&quot;port&quot; value=&quot;3389&quot; /&gt;\\n        &lt;param name=&quot;enable-drive&quot; value=&quot;true&quot; /&gt;\\n        &lt;param name=&quot;drive-path&quot; value=&quot;/home/guacdshare&quot; /&gt;\\n    &lt;/config&gt;\\n&lt;/configs&gt;</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>&lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;</code>: 远程连接的服务器名称以及协议，其中 <code>name</code> 对应<strong>应用配置</strong>中的 <code>server</code>，<code>protocol</code> 均为 <code>rdp</code>；</li><li><code>hostname</code>: 远程连接的 IP 地址，即 Windows Server 的 <code>IP</code> 地址；</li><li><code>enable-drive</code>: 启用文件传输功能，文件将存储在 <code>drive-path</code> 参数指定的目录中，如果启用了文件传输，则必需指定 <code>drive-path</code>，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>；</li><li><code>drive-path</code>: 文件传输在 Linux Server 上的存储位置，如果未开启 <code>enable-drive</code>，此参数会被忽略，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>。</li></ul><p><br /></p><h3 id=\\\"baddf3e1\\\">2.2 应用配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/app.json</code></p></blockquote><p><br /></p><p>数组中每一条记录对应界面上一个应用，其格式示例如下：</p><p><br /></p><pre data-lang=\\\"json\\\"><code>[\\n  {\\n    &quot;id&quot;: &quot;hostsshare&quot;,\\n    &quot;name&quot;: &quot;hosts&quot;,\\n    &quot;server&quot;: &quot;f2etest-ie11&quot;,\\n    &quot;program&quot;: &quot;c:\\\\\\\\app\\\\\\\\hostsshare.bat&quot;\\n  },\\n  {\\n    &quot;id&quot;: &quot;ie6&quot;,\\n    &quot;name&quot;: &quot;IE 6&quot;,\\n    &quot;server&quot;: &quot;f2etest-ie6&quot;,\\n    &quot;program&quot;: &quot;c:\\\\\\\\app\\\\\\\\ie6.bat&quot;\\n  },\\n  {\\n    &quot;id&quot;: &quot;ie7&quot;,\\n    &quot;name&quot;: &quot;IE 7&quot;,\\n    &quot;server&quot;: &quot;f2etest-ie7&quot;,\\n    &quot;program&quot;: &quot;c:\\\\\\\\app\\\\\\\\ie7.bat&quot;\\n  }\\n]</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>：界面上显示对应的图标（文件夹位置：<code>/home/f2etest-web/public/imgs/ico</code>）；</li><li><code>name</code>：界面图标下方展示的应用名称；</li><li><code>server</code>：用于拼接 URL 来调用 <code>guacamole-client</code>，最后实现远程连接到 Windows Server。</li><li><code>program</code>：Windows Server 中配置的启动文件（用于打开对应的应用）位置。</li></ul><p><br /></p><h3 id=\\\"58c92670\\\">2.3 服务器配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/server.json</code></p></blockquote><p><br /></p><p>数组中每条数据对应一台 Windows 服务器。</p><p><br /></p><pre data-lang=\\\"json\\\"><code>[\\n  {\\n    &quot;id&quot;: &quot;f2etest-ie6&quot;,\\n    &quot;ip&quot;: &quot;10.0.0.1&quot;,\\n    &quot;remoteApp&quot;: false\\n  },\\n  {\\n    &quot;id&quot;: &quot;f2etest-ie7&quot;,\\n    &quot;ip&quot;: &quot;10.0.0.2&quot;,\\n    &quot;remoteApp&quot;: false\\n  },\\n  {\\n    &quot;id&quot;: &quot;f2etest-ie8&quot;,\\n    &quot;ip&quot;: &quot;10.0.0.3&quot;,\\n    &quot;remoteApp&quot;: true\\n  }\\n]</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>: 服务器名称，必须与应用配置中的 <code>server</code> 名称保持一致；</li><li><code>ip</code>: 对应的服务器 <code>IP</code> 地址；</li><li><code>remoteApp</code>: 是否开启远程应用模式，只有在开启的情况下才能打开 Windows Server 上的应用。</li></ul><p><br /></p><h3 id=\\\"1534b4e9\\\">2.4 站点配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/site.json</code></p></blockquote><p><br /></p><p>NodeJS Web 的站点配置文件：</p><p><br /></p><pre><code>{\\n    &quot;port&quot;: 3000,\\n    &quot;name&quot;: &quot;F2eTest&quot;,\\n    &quot;about&quot;: &quot;浏览器云测平台&quot;,\\n    &quot;icon&quot;: &quot;/favicon.ico&quot;,\\n    &quot;dbHost&quot;: &quot;127.0.0.1&quot;,\\n    &quot;dbUser&quot;: &quot;root&quot;,\\n    &quot;dbPass&quot;: &quot;&quot;,\\n    &quot;dbTable&quot;: &quot;f2etest&quot;,\\n    &quot;clientApiKey&quot;:&quot;f2etest&quot;,\\n    &quot;guacamoleApi&quot;: &quot;http://127.0.0.1/guacamole/client.xhtml&quot;,\\n    &quot;footer&quot;: &quot;&quot;,\\n    &quot;wdEnabled&quot;: false,\\n    &quot;wdCheckNodesInterval&quot;: 5000,\\n    &quot;wdCheckNodesParallelLimit&quot;: 16\\n}</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>port</code>: Web 应用启动后所占用的端口号；</li><li><code>name</code>: 站点名称，作用于页面 <code>title</code> 及页头 <code>logo</code> 处；</li><li><code>about</code>: 作用于页面 <code>title</code>；</li><li><code>icon</code>：站点 <code>ico</code> 图标，文件位于 <code>/home/f2etest-web/public/favicon.ico</code>，需存放在 <code>public</code> 目录；</li><li><code>dbHost</code>： 数据库 IP ；</li><li><code>dbUser</code>：数据库用户名；</li><li><code>dbPass</code>：数据库密码；</li><li><code>dbTable</code>：数据库库名称；</li><li><code>clientApiKey</code>：初始化 Windows Server 用户所用到的 <code>key</code>，与 Windows Server 上的 <code>C:\\\\inetpub\\\\wwwroot\\\\setUser.asp</code> 中的 <code>key</code> 保持一致；</li><li><code>guacamoleApi</code>：<code>guacamole-client</code> 服务地址，供浏览器访问调用，<code>host</code> 与 <code>Node Web</code> 一致;</li><li><code>footer</code>：页尾文案；</li><li><code>wdEnabled</code>：是否开启 WebDriver 云；</li><li><code>wdCheckNodesInterval</code>：定时检查 WebDriver 节点健康度（空闲、运行中、不可用）频率，单位 <code>ms</code>；</li><li><code>wdCheckNodesParallelLimit</code>：定时检查节点并发限制。</li></ul><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"70c02cfa\\\">一、技术架构</h2><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554715723463-06aa0bcb-8e8a-4589-b37c-ebcee554f132.png%22%2C%22originWidth%22%3A1366%2C%22originHeight%22%3A1160%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A633%7D\\\"></card></p><p><br /></p><h3 id=\\\"95d6074b\\\">1.1 接入层</h3><p><br /></p><p>选用高性能的 <code>Nginx</code> 来提供统一接入服务，主要使用其反向代理服务：</p><p><br /></p><ul><li>NodeJS Web Application 的 <code>3000</code> 端口；</li><li>Guacamole Client 的 <code>8080</code> 端口；</li><li>WebDriver 的 <code>4444</code> 端口。</li></ul><p><br /></p><h3 id=\\\"1404f1d0\\\">1.2 应用层</h3><p><br /></p><p><strong>Node Web Application</strong></p><p>提供了一个漂亮的 Web 界面来方便用户发起远程连接并启动配置在 Windows Server 上的 RemoteApp。</p><p><br /></p><ul><li>Users 用户管理：初始化用户信息并在 Windows Server 中创建用户。</li><li>Logs 日志管理：用户日志记录入库。</li><li>WebDriver: WebDriver 节点管理。</li><li>RDP: 远程连接管理。</li><li>SSO：单点登录，用于访问控制。</li><li>API: 开放接口。</li></ul><p><br /></p><p><strong>guacamole-client</strong></p><p>与用户实际交互的部分，它主要将用户的实际远程连接信息传递给 <code>guacd</code> 服务。</p><p><br /></p><h3 id=\\\"1b26625a\\\">1.3 数据层</h3><p><br /></p><p>选用 MySQL 存储数据，用以存储日志、用户信息以及 WebDriver 节点等。</p><p><br /></p><h3 id=\\\"88e6be02\\\">1.4 服务层</h3><p><br /></p><p><code>guacd</code> 是 <code>Guacamole</code> 的核心，它动态加载对远程桌面协议的支持，并根据从 <code>guacamole-client</code> 收到的指令来连接到远程桌面。</p><p><br /></p><h2 id=\\\"96edf5b8\\\">二、配置详解</h2><p><br /></p><p><code>F2etest-web</code> 主要包含以下 4 个配置文件：</p><p><br /></p><h3 id=\\\"c1a9669b\\\">2.1 免登配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/etc/guacamole/noauth-config.xml</code></p><p>由于官方版本的 <code>Guacamole</code> 有登录限制，我们基于官方版进行了简单的定制和增强。</p></blockquote><p><br /></p><p>每一条 <code>config</code> 对应界面上一个应用，其格式如下：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%227fbcd1ef%22%2C%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cconfigs%3E%5Cn%20%20%20%20%3Cconfig%20name%3D%5C%22f2etest-ie8%5C%22%20protocol%3D%5C%22rdp%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22hostname%5C%22%20value%3D%5C%22192.168.56.102%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22port%5C%22%20value%3D%5C%223389%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22enable-drive%5C%22%20value%3D%5C%22true%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22drive-path%5C%22%20value%3D%5C%22%2Fhome%2Fguacdshare%5C%22%20%2F%3E%5Cn%20%20%20%20%3C%2Fconfig%3E%5Cn%3C%2Fconfigs%3E%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>&lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;</code>: 远程连接的服务器名称以及协议，其中 <code>name</code> 对应<strong>应用配置</strong>中的 <code>server</code>，<code>protocol</code> 均为 <code>rdp</code>；</li><li><code>hostname</code>: 远程连接的 IP 地址，即 Windows Server 的 <code>IP</code> 地址；</li><li><code>enable-drive</code>: 启用文件传输功能，文件将存储在 <code>drive-path</code> 参数指定的目录中，如果启用了文件传输，则必需指定 <code>drive-path</code>，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>；</li><li><code>drive-path</code>: 文件传输在 Linux Server 上的存储位置，如果未开启 <code>enable-drive</code>，此参数会被忽略，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>。</li></ul><p><br /></p><h3 id=\\\"baddf3e1\\\">2.2 应用配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/app.json</code></p></blockquote><p><br /></p><p>数组中每一条记录对应界面上一个应用，其格式示例如下：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%227a77434b%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22hostsshare%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22hosts%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie11%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Chostsshare.bat%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22ie6%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22IE%206%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie6%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Cie6.bat%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22ie7%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22IE%207%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie7%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Cie7.bat%5C%22%5Cn%20%20%7D%5Cn%5D%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>：界面上显示对应的图标（文件夹位置：<code>/home/f2etest-web/public/imgs/ico</code>）；</li><li><code>name</code>：界面图标下方展示的应用名称；</li><li><code>server</code>：用于拼接 URL 来调用 <code>guacamole-client</code>，最后实现远程连接到 Windows Server。</li><li><code>program</code>：Windows Server 中配置的启动文件（用于打开对应的应用）位置。</li></ul><p><br /></p><h3 id=\\\"58c92670\\\">2.3 服务器配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/server.json</code></p></blockquote><p><br /></p><p>数组中每条数据对应一台 Windows 服务器。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%227ce37b93%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie6%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.1%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20false%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie7%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.2%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20false%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie8%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.3%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20true%5Cn%20%20%7D%5Cn%5D%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>: 服务器名称，必须与应用配置中的 <code>server</code> 名称保持一致；</li><li><code>ip</code>: 对应的服务器 <code>IP</code> 地址；</li><li><code>remoteApp</code>: 是否开启远程应用模式，只有在开启的情况下才能打开 Windows Server 上的应用。</li></ul><p><br /></p><h3 id=\\\"1534b4e9\\\">2.4 站点配置</h3><p><cursor /><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/site.json</code></p></blockquote><p><br /></p><p>NodeJS Web 的站点配置文件：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22eb731f66%22%2C%22code%22%3A%22%7B%5Cn%20%20%20%20%5C%22port%5C%22%3A%203000%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22F2eTest%5C%22%2C%5Cn%20%20%20%20%5C%22about%5C%22%3A%20%5C%22%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BA%91%E6%B5%8B%E5%B9%B3%E5%8F%B0%5C%22%2C%5Cn%20%20%20%20%5C%22icon%5C%22%3A%20%5C%22%2Ffavicon.ico%5C%22%2C%5Cn%20%20%20%20%5C%22dbHost%5C%22%3A%20%5C%22127.0.0.1%5C%22%2C%5Cn%20%20%20%20%5C%22dbUser%5C%22%3A%20%5C%22root%5C%22%2C%5Cn%20%20%20%20%5C%22dbPass%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%5C%22dbTable%5C%22%3A%20%5C%22f2etest%5C%22%2C%5Cn%20%20%20%20%5C%22clientApiKey%5C%22%3A%5C%22f2etest%5C%22%2C%5Cn%20%20%20%20%5C%22guacamoleApi%5C%22%3A%20%5C%22http%3A%2F%2F127.0.0.1%2Fguacamole%2Fclient.xhtml%5C%22%2C%5Cn%20%20%20%20%5C%22footer%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%5C%22wdEnabled%5C%22%3A%20false%2C%5Cn%20%20%20%20%5C%22wdCheckNodesInterval%5C%22%3A%205000%2C%5Cn%20%20%20%20%5C%22wdCheckNodesParallelLimit%5C%22%3A%2016%5Cn%7D%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>port</code>: Web 应用启动后所占用的端口号；</li><li><code>name</code>: 站点名称，作用于页面 <code>title</code> 及页头 <code>logo</code> 处；</li><li><code>about</code>: 作用于页面 <code>title</code>；</li><li><code>icon</code>：站点 <code>ico</code> 图标，文件位于 <code>/home/f2etest-web/public/favicon.ico</code>，需存放在 <code>public</code> 目录；</li><li><code>dbHost</code>： 数据库 IP ；</li><li><code>dbUser</code>：数据库用户名；</li><li><code>dbPass</code>：数据库密码；</li><li><code>dbTable</code>：数据库库名称；</li><li><code>clientApiKey</code>：初始化 Windows Server 用户所用到的 <code>key</code>，与 Windows Server 上的 <code>C:\\\\inetpub\\\\wwwroot\\\\setUser.asp</code> 中的 <code>key</code> 保持一致；</li><li><code>guacamoleApi</code>：<code>guacamole-client</code> 服务地址，供浏览器访问调用，<code>host</code> 与 <code>Node Web</code> 一致;</li><li><code>footer</code>：页尾文案；</li><li><code>wdEnabled</code>：是否开启 WebDriver 云；</li><li><code>wdCheckNodesInterval</code>：定时检查 WebDriver 节点健康度（空闲、运行中、不可用）频率，单位 <code>ms</code>；</li><li><code>wdCheckNodesParallelLimit</code>：定时检查节点并发限制。</li></ul><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T01:55:38.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:28:29.000Z\",\"updated_at\":\"2019-04-23T06:14:57.000Z\",\"published_at\":\"2019-04-17T01:55:38.000Z\",\"first_published_at\":\"2019-04-08T09:29:27.000Z\",\"word_count\":1243,\"cover\":null,\"description\":\"一、技术架构1.1 接入层选用高性能的 Nginx 来提供统一接入服务，主要使用其反向代理服务：NodeJS Web Application 的 3000 端口；Guacamole Client 的 8080 端口；WebDriver 的 4444 端口。1.2 应用层Node Web App...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-f2etest-web-install":"{\"id\":1486763,\"slug\":\"f2etest-web-install\",\"title\":\"F2etest-web 部署\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"9cbd9b0f\\\">二、部署</h2><p><br /></p><blockquote><p>请预先在 CentOS 机器上安装最新版的 <code>Docker</code>，如已安装请忽略，安装教程：<a href=\\\"https://www.yuque.com/grasilife/docker/install-centos\\\" target=\\\"_blank\\\">https://www.yuque.com/grasilife/docker/install-centos</a>，</p></blockquote><p><br /></p><pre data-lang=\\\"bash\\\"><code># 获取 `f2etest-web` 镜像\\ndocker pull registry.cn-hangzhou.aliyuncs.com/f2etest/f2etest-web\\n\\n# 启动容器\\n# 映射本地端口，这里已 80 为例，请确保此端口未被占用\\n# 如果 80 被占用，请修改为其它可用端口，例如 8080 端口：-p 8080:80\\ndocker run -dit --privileged -p 80:80 --name f2etest registry.cn-hangzhou.aliyuncs.com/f2etest/f2etest-web\\n\\n# 进入容器\\ndocker exec -it f2etest bash\\n\\n# 初始化数据库表并启动 Web\\nsource setup.sh</code></pre><p><br /></p><h2 id=\\\"7bc1a177\\\">三、配置</h2><p><br /></p><blockquote><p>主要配置 Windows Server IP 地址，其他相关配置已预设。</p></blockquote><p><br /></p><p>先进入容器，已进入请忽略。（<code>docker exec -it f2etest bash</code>）</p><p><br /></p><h3 id=\\\"5ab70705\\\">3.1 站点配置</h3><p><br /></p><pre data-lang=\\\"bash\\\"><code>vi /home/f2etest-web/conf/site.json</code></pre><p><br /></p><p>修改 <code>guacamoleApi</code> 字段，IP 地址改为 CentOS 机器 IP 地址，端口号改为运行容器时映射的本地端口号，<strong>80</strong> 端口可忽略。</p><p><br /></p><p>假设 CentOS IP 地址为 <strong>10.1.1.1</strong>，容器映射的端口号为 <strong>8080</strong>：</p><p><br /></p><pre data-lang=\\\"json\\\"><code>&quot;guacamoleApi&quot;: &quot;http://10.1.1.1:8080/guacamole/client.xhtml&quot;,</code></pre><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9</a></p><p><br /></p><h3 id=\\\"949f1586\\\">3.2 服务器配置</h3><p><br /></p><pre data-lang=\\\"bash\\\"><code>vi /home/f2etest-web/conf/server.json</code></pre><p><br /></p><p>修改数组中第一条记录的 <code>ip</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><pre data-lang=\\\"bash\\\"><code># 重启 web\\npm2 restart 0</code></pre><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#58c92670\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#58c92670</a></p><p><br /></p><h3 id=\\\"1434e7e4\\\">3.3 免登配置</h3><p><br /></p><pre data-lang=\\\"bash\\\"><code>vi /etc/guacamole/noauth-config.xml</code></pre><p><br /></p><p>修改 <code>&lt;param name=&quot;hostname&quot; value=&quot;192.168.1.102&quot; /&gt;</code> 中的 <code>value</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><pre data-lang=\\\"bash\\\"><code># 重启 tomcat8\\nservice tomcat8 restart</code></pre><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b</a></p><p><br /></p><h2 id=\\\"03225136\\\">4. 相关服务</h2><p><br /></p><ul><li><code>nginx</code></li><li><code>tomcat8</code></li><li><code>guacd</code></li><li><code>pm2</code></li><li><code>mysql</code></li></ul><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"9cbd9b0f\\\">二、部署</h2><p><br /></p><blockquote><p>请预先在 CentOS 机器上安装最新版的 <code>Docker</code>，如已安装请忽略，安装教程：<a href=\\\"https://www.yuque.com/grasilife/docker/install-centos\\\" target=\\\"_blank\\\">https://www.yuque.com/grasilife/docker/install-centos</a>，</p></blockquote><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E8%8E%B7%E5%8F%96%20%60f2etest-web%60%20%E9%95%9C%E5%83%8F%5Cndocker%20pull%20registry.cn-hangzhou.aliyuncs.com%2Ff2etest%2Ff2etest-web%5Cn%5Cn%23%20%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%5Cn%23%20%E6%98%A0%E5%B0%84%E6%9C%AC%E5%9C%B0%E7%AB%AF%E5%8F%A3%EF%BC%8C%E8%BF%99%E9%87%8C%E5%B7%B2%2080%20%E4%B8%BA%E4%BE%8B%EF%BC%8C%E8%AF%B7%E7%A1%AE%E4%BF%9D%E6%AD%A4%E7%AB%AF%E5%8F%A3%E6%9C%AA%E8%A2%AB%E5%8D%A0%E7%94%A8%5Cn%23%20%E5%A6%82%E6%9E%9C%2080%20%E8%A2%AB%E5%8D%A0%E7%94%A8%EF%BC%8C%E8%AF%B7%E4%BF%AE%E6%94%B9%E4%B8%BA%E5%85%B6%E5%AE%83%E5%8F%AF%E7%94%A8%E7%AB%AF%E5%8F%A3%EF%BC%8C%E4%BE%8B%E5%A6%82%208080%20%E7%AB%AF%E5%8F%A3%EF%BC%9A-p%208080%3A80%5Cndocker%20run%20-dit%20--privileged%20-p%2080%3A80%20--name%20f2etest%20registry.cn-hangzhou.aliyuncs.com%2Ff2etest%2Ff2etest-web%5Cn%5Cn%23%20%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8%5Cndocker%20exec%20-it%20f2etest%20bash%5Cn%5Cn%23%20%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%B9%B6%E5%90%AF%E5%8A%A8%20Web%5Cnsource%20setup.sh%22%2C%22id%22%3A%228ac400ad%22%7D\\\"></card><p><br /></p><h2 id=\\\"7bc1a177\\\">三、配置</h2><p><br /></p><blockquote><p>主要配置 Windows Server IP 地址，其他相关配置已预设。</p></blockquote><p><br /></p><p>先进入容器，已进入请忽略。（<code>docker exec -it f2etest bash</code>）</p><p><br /></p><h3 id=\\\"5ab70705\\\">3.1 站点配置</h3><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%225d42321a%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22vi%20%2Fhome%2Ff2etest-web%2Fconf%2Fsite.json%22%7D\\\"></card><p><br /></p><p>修改 <code>guacamoleApi</code> 字段，IP 地址改为 CentOS 机器 IP 地址，端口号改为运行容器时映射的本地端口号，<strong>80</strong> 端口可忽略。</p><p><br /></p><p>假设 CentOS IP 地址为 <strong>10.1.1.1</strong>，容器映射的端口号为 <strong>8080</strong>：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%5C%22guacamoleApi%5C%22%3A%20%5C%22http%3A%2F%2F10.1.1.1%3A8080%2Fguacamole%2Fclient.xhtml%5C%22%2C%22%2C%22id%22%3A%2240716bc0%22%7D\\\"></card><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9</a></p><p><br /></p><h3 id=\\\"949f1586\\\">3.2 服务器配置</h3><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22d50a2a06%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22vi%20%2Fhome%2Ff2etest-web%2Fconf%2Fserver.json%22%7D\\\"></card><p><br /></p><p>修改数组中第一条记录的 <code>ip</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22857726b5%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E9%87%8D%E5%90%AF%20web%5Cnpm2%20restart%200%22%7D\\\"></card><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#58c92670\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#58c92670</a></p><p><br /></p><h3 id=\\\"1434e7e4\\\">3.3 免登配置</h3><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%221447f943%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22vi%20%2Fetc%2Fguacamole%2Fnoauth-config.xml%22%7D\\\"></card><p><br /></p><p>修改 <code>&lt;param name=&quot;hostname&quot; value=&quot;192.168.1.102&quot; /&gt;</code> 中的 <code>value</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22657d2999%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E9%87%8D%E5%90%AF%20tomcat8%5Cnservice%20tomcat8%20restart%22%7D\\\"></card><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b<cursor /></a></p><p><br /></p><h2 id=\\\"03225136\\\">4. 相关服务</h2><p><br /></p><ul><li><code>nginx</code></li><li><code>tomcat8</code></li><li><code>guacd</code></li><li><code>pm2</code></li><li><code>mysql</code></li></ul><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:43:42.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T10:02:36.000Z\",\"updated_at\":\"2019-04-23T06:15:09.000Z\",\"published_at\":\"2019-04-16T16:43:42.000Z\",\"first_published_at\":\"2019-04-08T10:04:38.000Z\",\"word_count\":434,\"cover\":null,\"description\":\"一、前言本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。二、部署请预先在 CentOS 机器上安装最新版的 Docker，如已安装请忽略，安装教程：https://www.yuque.com/grasilife/docker/install...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-faq":"{\"id\":1544487,\"slug\":\"faq\",\"title\":\"FAQ\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"b4dd5aa7\\\">激活 RD 授权管理器</h2><p><br /></p><p><strong>Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器</strong></p><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1555498401487-f3c6e72b-006d-4d8c-85f7-badf0a588a27.png#align=left&amp;display=inline&amp;height=434&amp;originHeight=798&amp;originWidth=1372&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><strong>A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。</strong></p><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1555498435716-849c69de-5182-4200-9d30-44764b470978.png#align=left&amp;display=inline&amp;height=434&amp;originHeight=798&amp;originWidth=1372&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h2 id=\\\"d41d8cd9\\\"><br /></h2><h2 id=\\\"5e5d4d99\\\">打开浏览器</h2><p><br /></p><p><strong>A: 远程可以用 IE 打开，通过 Web 打不开网页。</strong></p><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1555498497388-94587b53-fcd4-4222-8d9f-2b2a2120cea7.png#align=left&amp;display=inline&amp;height=805&amp;originHeight=1182&amp;originWidth=1096&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><strong>A：检测 IE 代理设置，如果不需要代理，可以不勾选。</strong></p><p><br /></p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"b4dd5aa7\\\">激活 RD 授权管理器</h2><p><br /></p><p><strong>Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器</strong></p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1555498401487-f3c6e72b-006d-4d8c-85f7-badf0a588a27.png%22%2C%22originWidth%22%3A1372%2C%22originHeight%22%3A798%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A434%7D\\\"></card></p><p><br /></p><p><strong>A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。</strong></p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1555498435716-849c69de-5182-4200-9d30-44764b470978.png%22%2C%22originWidth%22%3A1372%2C%22originHeight%22%3A798%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A434%7D\\\"></card></p><p><br /></p><h2 id=\\\"d41d8cd9\\\"><br /></h2><h2 id=\\\"5e5d4d99\\\">打开浏览器</h2><p><br /></p><p><strong>A: 远程可以用 IE 打开，通过 Web 打不开网页。<cursor /></strong></p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1555498497388-94587b53-fcd4-4222-8d9f-2b2a2120cea7.png%22%2C%22originWidth%22%3A1096%2C%22originHeight%22%3A1182%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A805%7D\\\"></card></p><p><br /></p><p><strong>A：检测 IE 代理设置，如果不需要代理，可以不勾选。</strong></p><p><br /></p><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":3,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T10:58:45.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-16T06:50:30.000Z\",\"updated_at\":\"2019-04-23T06:15:35.000Z\",\"published_at\":\"2019-04-17T10:58:45.000Z\",\"first_published_at\":\"2019-04-16T06:50:33.000Z\",\"word_count\":119,\"cover\":null,\"description\":\"激活 RD 授权管理器Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。打开浏览器A: 远程可以用 IE 打开，通过 Web 打不开网页。A：检测 IE 代理设置，如果不需要代理，...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-intro":"{\"id\":1485930,\"slug\":\"intro\",\"title\":\"F2etest 简介\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h1 id=\\\"5dc2da18\\\">一、浏览器测试痛点</h1><p><br /></p><p>多浏览器兼容性<strong>人肉测试</strong>，我们一般有三种解决方案：</p><p><br /></p><ol start=\\\"1\\\"><li>本机安装大量的<strong>虚拟机</strong>，一个浏览器一个虚拟机；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：真实；</li><li>缺点：消耗硬盘资源，消耗 CPU 资源，<strong>效率低下。</strong></li></ul><p><br /></p><ol start=\\\"2\\\"><li>使用 IETester 等模拟软件；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：体积小，资源消耗小；</li><li>缺点：<strong>不真实</strong>，很多特性不能代表真实浏览器。</li></ul><p><br /></p><ol start=\\\"3\\\"><li>公共机器提供多种浏览器。</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：不需要本地安装，不消耗本机资源；</li><li>缺点：资源利用率低，整体资源消耗高。</li></ul><p><br /></p><h1 id=\\\"a64bf9df\\\">二、什么是 F2etest</h1><p><br /></p><p>F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案<span>，</span><span>优势是：</span></p><p><span><br /></span></p><ol start=\\\"1\\\"><li><span style=\\\"color: #000000;\\\"><strong>10 倍以上硬件利用率</strong></span>，降低企业运营成本；</li><li>提供非常棒的桌面用户体验，极大的提高测试效率；</li><li>浏览器云提供<strong>真实浏览器环境</strong>，还原真实测试场景；</li><li>WebDriver 云快速稳定的支撑自动化测试脚本运行。</li></ol><p><br /></p><h3 id=\\\"a7b2c0a2\\\">2.1 浏览器云</h3><p><br /></p><p><img alt=\\\"f2etest.gif\\\" title=\\\"f2etest.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1554711886739-c17d4ec4-6f57-4a06-8c8c-5e9dbeffdb26.gif#align=left&amp;display=inline&amp;height=412&amp;name=f2etest.gif&amp;originHeight=565&amp;originWidth=1024&amp;size=3733830&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>浏览器云提供的是真实的浏览器环境，能够满足<strong>手工的兼容性测试</strong>回归场景，对于<strong>自动化测试脚本的回归</strong>，F2etest 同样提供了 WebDriver 云的方案，<span>可以使用任何支持的编程语言开发测试脚本，并且可以在大多数现代 Web 浏览器中直接运行，</span><span>包括 </span><span>JavaScript、</span><span>C#、Java、Perl、PHP、Python 和 Ruby。</span></p><p><br /></p><h3 id=\\\"85bd106a\\\">2.2 WebDriver 云</h3><p><br /></p><p><span>WebDriver </span>云则是在<span> WebDriver </span>方案的基础上，实现的一套<span> WebDriver Hub </span>解决方案，可以对外提供并调度海量的执行机节点，并提供了以下功能拓展：</p><p><br /></p><ul><li><span>10</span>倍以上硬件利用率：传统<span> WebDriver 1</span>台执行机仅能跑一个<span> Job</span>，而我们一台机器可以高并发跑<span> N </span>个<span> Job</span>，理论上硬件利用率相当于传统节点的<span> 10 </span>倍以上；</li><li>支持独立<span> hosts </span>绑定：每次申请节点时，可以指定不同的<span> hosts </span>绑定，保证同一台机器上不同节点的<span> Job </span>不会相互干扰。</li></ul><p><br /></p><p><img alt=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" title=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1554711886753-217fbcf9-4348-40dc-948a-a6d31838a345.gif#align=left&amp;display=inline&amp;height=420&amp;name=Kapture%202019-04-01%20at%2011.53.49.gif&amp;originHeight=494&amp;originWidth=878&amp;size=8012768&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>后面的章节将对 F2etest 的架构<span>原理</span>、安装部署以及使用进行<span>详细讲述</span>。</p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h1 id=\\\"5dc2da18\\\">一、浏览器测试痛点</h1><p><br /></p><p>多浏览器兼容性<strong>人肉测试</strong>，我们一般有三种解决方案：</p><p><br /></p><ol start=\\\"1\\\"><li>本机安装大量的<strong>虚拟机</strong>，一个浏览器一个虚拟机；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：真实；</li><li>缺点：消耗硬盘资源，消耗 CPU 资源，<strong>效率低下。</strong></li></ul><p><br /></p><ol start=\\\"2\\\"><li>使用 IETester 等模拟软件；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：体积小，资源消耗小；</li><li>缺点：<strong>不真实</strong>，很多特性不能代表真实浏览器。</li></ul><p><br /></p><ol start=\\\"3\\\"><li>公共机器提供多种浏览器。</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：不需要本地安装，不消耗本机资源；</li><li>缺点：资源利用率低，整体资源消耗高。</li></ul><p><br /></p><h1 id=\\\"a64bf9df\\\">二、什么是 F2etest</h1><p><br /></p><p>F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案<span>，</span><span>优势是：</span></p><p><span><br /></span></p><ol start=\\\"1\\\"><li><span style=\\\"color: #000000;\\\"><strong>10 倍以上硬件利用率</strong></span>，降低企业运营成本；</li><li>提供非常棒的桌面用户体验，极大的提高测试效率；</li><li>浏览器云提供<strong>真实浏览器环境</strong>，还原真实测试场景；</li><li>WebDriver 云快速稳定的支撑自动化测试脚本运行。</li></ol><p><br /></p><h3 id=\\\"a7b2c0a2\\\">2.1 浏览器云</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1554711886739-c17d4ec4-6f57-4a06-8c8c-5e9dbeffdb26.gif%22%2C%22originWidth%22%3A1024%2C%22originHeight%22%3A565%2C%22name%22%3A%22f2etest.gif%22%2C%22size%22%3A3733830%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A412%7D\\\"></card></p><p><br /></p><p>浏览器云提供的是真实的浏览器环境，能够满足<strong>手工的兼容性测试</strong>回归场景，对于<strong>自动化测试脚本的回归</strong>，F2etest 同样提供了 WebDriver 云的方案，<span>可以使用任何支持的编程语言开发测试脚本，并且可以在大多数现代 Web 浏览器中直接运行，</span><span>包括 </span><span>JavaScript、</span><span>C#、Java、Perl、PHP、Python 和 Ruby。</span></p><p><br /></p><h3 id=\\\"85bd106a\\\">2.2 WebDriver 云</h3><p><br /></p><p><span>WebDriver </span>云则是在<span> WebDriver </span>方案的基础上，实现的一套<span> WebDriver Hub </span>解决方案，可以对外提供并调度海量的执行机节点，并提供了以下功能拓展：</p><p><br /></p><ul><li><span>10</span>倍以上硬件利用率：传统<span> WebDriver 1</span>台执行机仅能跑一个<span> Job</span>，而我们一台机器可以高并发跑<span> N </span>个<span> Job</span>，理论上硬件利用率相当于传统节点的<span> 10 </span>倍以上；</li><li>支持独立<span> hosts </span>绑定：每次申请节点时，可以指定不同的<span> hosts </span>绑定，保证同一台机器上不同节点的<span> Job </span>不会相互干扰。</li></ul><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1554711886753-217fbcf9-4348-40dc-948a-a6d31838a345.gif%22%2C%22originWidth%22%3A878%2C%22originHeight%22%3A494%2C%22name%22%3A%22Kapture%202019-04-01%20at%2011.53.49.gif%22%2C%22size%22%3A8012768%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A420%7D\\\"></card></p><p><br /></p><p>后面的章节将对 F2etest 的架构<span>原理</span>、安装部署以及使用进行<span>详细讲述</span>。<cursor /></p><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:33.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T08:23:48.000Z\",\"updated_at\":\"2019-04-23T06:14:48.000Z\",\"published_at\":\"2019-04-11T17:37:33.000Z\",\"first_published_at\":\"2019-04-08T08:33:20.000Z\",\"word_count\":558,\"cover\":null,\"description\":\"一、浏览器测试痛点多浏览器兼容性人肉测试，我们一般有三种解决方案：本机安装大量的虚拟机，一个浏览器一个虚拟机；优点：真实；缺点：消耗硬盘资源，消耗 CPU 资源，效率低下。使用 IETester 等模拟软件；优点：体积小，资源消耗小；缺点：不真实，很多特性不能代表真实浏览器。公共机器提供多种浏...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-undefined":"[{\"id\":1544487,\"slug\":\"faq\",\"title\":\"FAQ\",\"description\":\"激活 RD 授权管理器Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。打开浏览器A: 远程可以用 IE 打开，通过 Web 打不开网页。A：检测 IE 代理设置，如果不需要代理，...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":3,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T10:58:45.000Z\",\"created_at\":\"2019-04-16T06:50:30.000Z\",\"updated_at\":\"2019-04-23T06:15:35.000Z\",\"published_at\":\"2019-04-17T10:58:45.000Z\",\"first_published_at\":\"2019-04-16T06:50:33.000Z\",\"draft_version\":12,\"last_editor_id\":182712,\"word_count\":119,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1544485,\"slug\":\"about-us\",\"title\":\"关于我们\",\"description\":\"前端艺术家我们是「前端艺术家」。艺术，我们首先会想到特别优美的作品，艺术家通常将美表现到极致，这里与我们前端开发的理念非常类似，我们希望用美的视角去开发人机交互界面，把体验做到极致，用极致的视角去做我们的技术架构、工程效能及用户体验，这就是前端艺术家！我们服务于阿里巴巴国际站，也为集团输出前端...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-23T05:37:51.000Z\",\"created_at\":\"2019-04-16T06:50:21.000Z\",\"updated_at\":\"2019-04-23T06:15:38.000Z\",\"published_at\":\"2019-04-23T05:37:51.000Z\",\"first_published_at\":\"2019-04-16T06:50:26.000Z\",\"draft_version\":5,\"last_editor_id\":182712,\"word_count\":317,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1539695,\"slug\":\"browser-cloud-install\",\"title\":\"浏览器云部署\",\"description\":\"一、前言本部署教程旨在搭建浏览器云最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。二、目标在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。三、部署要使 F2etest 可以运行起来，总结起来，在 ...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:37:23.000Z\",\"created_at\":\"2019-04-15T10:08:00.000Z\",\"updated_at\":\"2019-04-23T06:15:17.000Z\",\"published_at\":\"2019-04-16T16:37:23.000Z\",\"first_published_at\":\"2019-04-15T10:08:04.000Z\",\"draft_version\":110,\"last_editor_id\":182712,\"word_count\":832,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1520852,\"slug\":\"webdriver-cloud-usage\",\"title\":\"如何使用 WebDriver 云\",\"description\":\"一、WebDirver 云1.1 使用方法F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。F2etest WebDriver Hub 连接信息：host：f2etest.alibaba-inc.com po...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:04.000Z\",\"created_at\":\"2019-04-11T16:57:21.000Z\",\"updated_at\":\"2019-04-23T06:15:31.000Z\",\"published_at\":\"2019-04-11T17:37:04.000Z\",\"first_published_at\":\"2019-04-11T17:04:14.000Z\",\"draft_version\":8,\"last_editor_id\":182712,\"word_count\":653,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1520849,\"slug\":\"browser-cloud-usage\",\"title\":\"如何使用浏览器云\",\"description\":\"一、浏览器云1.1 使用方法如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。1.2 hostShare在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T16:57:10.000Z\",\"created_at\":\"2019-04-11T16:55:23.000Z\",\"updated_at\":\"2019-04-23T06:15:27.000Z\",\"published_at\":\"2019-04-11T16:57:10.000Z\",\"first_published_at\":\"2019-04-11T16:57:10.000Z\",\"draft_version\":4,\"last_editor_id\":182712,\"word_count\":282,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486777,\"slug\":\"webdriver-cloud-install\",\"title\":\"WebDriver 云的安装部署\",\"description\":\"一、安装运行本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像1.1 安装并配置远程桌面服务增加角色选择远程桌面服务勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问选择不适用网络级别身份验证授权模式选择按用户选择用户组...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":5,\"comments_count\":0,\"content_updated_at\":\"2019-04-23T05:44:30.000Z\",\"created_at\":\"2019-04-08T10:04:48.000Z\",\"updated_at\":\"2019-04-23T06:15:22.000Z\",\"published_at\":\"2019-04-23T05:44:30.000Z\",\"first_published_at\":\"2019-04-08T10:06:01.000Z\",\"draft_version\":20,\"last_editor_id\":292665,\"word_count\":1105,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":292665,\"type\":\"User\",\"login\":\"micosty\",\"name\":\"Micosty\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-18T02:28:23.000Z\",\"updated_at\":\"2019-03-22T09:58:23.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486763,\"slug\":\"f2etest-web-install\",\"title\":\"F2etest-web 部署\",\"description\":\"一、前言本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。二、部署请预先在 CentOS 机器上安装最新版的 Docker，如已安装请忽略，安装教程：https://www.yuque.com/grasilife/docker/install...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:43:42.000Z\",\"created_at\":\"2019-04-08T10:02:36.000Z\",\"updated_at\":\"2019-04-23T06:15:09.000Z\",\"published_at\":\"2019-04-16T16:43:42.000Z\",\"first_published_at\":\"2019-04-08T10:04:38.000Z\",\"draft_version\":7,\"last_editor_id\":182712,\"word_count\":434,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486655,\"slug\":\"webdriver-cloud\",\"title\":\"WebDriver 云实现原理\",\"description\":\"一、WebDriver 云架构WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构F2etest-web 是 webdriver 云的用户界面层，对于 f2etest-webdriv...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:41:02.000Z\",\"created_at\":\"2019-04-08T09:47:26.000Z\",\"updated_at\":\"2019-04-23T06:15:05.000Z\",\"published_at\":\"2019-04-16T16:41:02.000Z\",\"first_published_at\":\"2019-04-08T09:53:17.000Z\",\"draft_version\":6,\"last_editor_id\":182712,\"word_count\":419,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486626,\"slug\":\"browser-cloud\",\"title\":\"浏览器云架构\",\"description\":\"一、浏览器云的工作原理浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 Windows Server 为例。客户从浏览器启动应用，看到 Windows Server 的远程桌面，到...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-10T07:44:08.000Z\",\"created_at\":\"2019-04-08T09:43:45.000Z\",\"updated_at\":\"2019-04-23T06:15:01.000Z\",\"published_at\":\"2019-04-10T07:44:08.000Z\",\"first_published_at\":\"2019-04-08T09:46:57.000Z\",\"draft_version\":8,\"last_editor_id\":292665,\"word_count\":1042,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":292665,\"type\":\"User\",\"login\":\"micosty\",\"name\":\"Micosty\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-18T02:28:23.000Z\",\"updated_at\":\"2019-03-22T09:58:23.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486475,\"slug\":\"f2etest-web\",\"title\":\"F2etest-web 架构\",\"description\":\"一、技术架构1.1 接入层选用高性能的 Nginx 来提供统一接入服务，主要使用其反向代理服务：NodeJS Web Application 的 3000 端口；Guacamole Client 的 8080 端口；WebDriver 的 4444 端口。1.2 应用层Node Web App...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T01:55:38.000Z\",\"created_at\":\"2019-04-08T09:28:29.000Z\",\"updated_at\":\"2019-04-23T06:14:57.000Z\",\"published_at\":\"2019-04-17T01:55:38.000Z\",\"first_published_at\":\"2019-04-08T09:29:27.000Z\",\"draft_version\":7,\"last_editor_id\":182712,\"word_count\":1243,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486447,\"slug\":\"architecture\",\"title\":\"整体架构\",\"description\":\"一、名词释义浏览器云： 提供真实的多浏览器兼容性环境，还原真实测试场景。WebDriver：https://w3c.github.io/webdriver/，WebDriver 是一个远程控制接口，可以对用户代理进行内省和控制。它提供了一种平台和语言中立的 wire protocol，来作为进...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:39:44.000Z\",\"created_at\":\"2019-04-08T09:24:37.000Z\",\"updated_at\":\"2019-04-23T06:14:53.000Z\",\"published_at\":\"2019-04-16T16:39:44.000Z\",\"first_published_at\":\"2019-04-08T09:25:48.000Z\",\"draft_version\":10,\"last_editor_id\":182712,\"word_count\":604,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1485930,\"slug\":\"intro\",\"title\":\"F2etest 简介\",\"description\":\"一、浏览器测试痛点多浏览器兼容性人肉测试，我们一般有三种解决方案：本机安装大量的虚拟机，一个浏览器一个虚拟机；优点：真实；缺点：消耗硬盘资源，消耗 CPU 资源，效率低下。使用 IETester 等模拟软件；优点：体积小，资源消耗小；缺点：不真实，很多特性不能代表真实浏览器。公共机器提供多种浏...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:33.000Z\",\"created_at\":\"2019-04-08T08:23:48.000Z\",\"updated_at\":\"2019-04-23T06:14:48.000Z\",\"published_at\":\"2019-04-11T17:37:33.000Z\",\"first_published_at\":\"2019-04-08T08:33:20.000Z\",\"draft_version\":15,\"last_editor_id\":182712,\"word_count\":558,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"}]","artist-f2etest-webdriver-cloud":"{\"id\":1486655,\"slug\":\"webdriver-cloud\",\"title\":\"WebDriver 云实现原理\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h1 id=\\\"96bab6ea\\\">一、WebDriver 云架构</h1><p><br /></p><p><span>WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构</span></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716858950-dc86ef14-8b0f-497a-a21d-5e0bb7771e2d.png#align=left&amp;display=inline&amp;height=721&amp;name=image.png&amp;originHeight=721&amp;originWidth=1462&amp;size=140068&amp;status=done&amp;width=1462\\\" style=\\\"max-width: 600px; width: 1462px;\\\" /></p><p><br /></p><p><strong>F2etest-web </strong>是 webdriver 云的用户界面层，</p><ul><li>对于 f2etest-webdriver 模块提供了 API 做<strong>健康检查</strong>的上报，并将节点定时上报的状态（空闲、工作、离线）存储在 DB 中。</li><li>对于服务调用方，则根据节点上报的状态，找到空闲的节点，分配到不同的节点地址。</li></ul><p><br /></p><p>来细看 f2etest-webdriver 的实现</p><ul><li><strong>WebDriver Proxy </strong>是 node.js 实现的一个 WebDriver 会话管理程序，负责启动 <strong><span>Selenium，</span></strong>上报节点状态和<span>代理</span>设置，监听<span>端口是 4000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 40001 端口</span>。</li><li><strong><span>Selenium </span></strong><span>监听的端口是 5000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 50001 端口。</span></li><li><strong><span>ChromeDriver, IEDriver, FirefoxDriver </span></strong><span>由浏览器厂商提供，</span>是网站测试架构 selenium 的基础部分，主要是通过 http 通信实现的，它们是 selenium 和浏览器进行通信的桥梁。</li><li><strong>Daemon </strong>守护进程（openAllNode.bat），监听远程桌面节点是否都存活，若节点进程挂掉，则会重新启动node.rdp，进而重启节点。</li></ul><p><br /></p><h1 id=\\\"1dc0ea59\\\">二、f2etest-webdriver 调用流程</h1><p><br /></p><p>上报的 WebDriver 节点存活状态：</p><p><br /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716858959-a6a33339-e0f0-4bb4-915a-ff3d0fb4de41.png#align=left&amp;display=inline&amp;height=512&amp;name=image.png&amp;originHeight=1024&amp;originWidth=2460&amp;size=906045&amp;status=done&amp;width=1230\\\" style=\\\"max-width: 600px; width: 1230px;\\\" /></p><p><br /></p><h1 id=\\\"122777f4\\\">三、小结</h1><p><br /></p><p>WebDriver 云原理并不复杂，难点在于机器部署的成本高，这一点也造成了推广使用的成本高，有两种解决方案，一是提供打包好的镜像文件，供直接下载。二是提供 Windows Docker 镜像，将在博客专栏节中进行探讨。</p>\",\"body_lake\":\"<!doctype lake><h1 id=\\\"96bab6ea\\\">一、WebDriver <cursor />云架构</h1><p><br /></p><p><span>WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构</span></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716858950-dc86ef14-8b0f-497a-a21d-5e0bb7771e2d.png%22%2C%22originWidth%22%3A1462%2C%22originHeight%22%3A721%2C%22name%22%3A%22image.png%22%2C%22size%22%3A140068%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1462%2C%22height%22%3A721%7D\\\"></card></p><p><br /></p><p><strong>F2etest-web </strong>是 webdriver 云的用户界面层，</p><ul><li>对于 f2etest-webdriver 模块提供了 API 做<strong>健康检查</strong>的上报，并将节点定时上报的状态（空闲、工作、离线）存储在 DB 中。</li><li>对于服务调用方，则根据节点上报的状态，找到空闲的节点，分配到不同的节点地址。</li></ul><p><br /></p><p>来细看 f2etest-webdriver 的实现</p><ul><li><strong>WebDriver Proxy </strong>是 node.js 实现的一个 WebDriver 会话管理程序，负责启动 <strong><span>Selenium，</span></strong>上报节点状态和<span>代理</span>设置，监听<span>端口是 4000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 40001 端口</span>。</li><li><strong><span>Selenium </span></strong><span>监听的端口是 5000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 50001 端口。</span></li><li><strong><span>ChromeDriver, IEDriver, FirefoxDriver </span></strong><span>由浏览器厂商提供，</span>是网站测试架构 selenium 的基础部分，主要是通过 http 通信实现的，它们是 selenium 和浏览器进行通信的桥梁。</li><li><strong>Daemon </strong>守护进程（openAllNode.bat），监听远程桌面节点是否都存活，若节点进程挂掉，则会重新启动node.rdp，进而重启节点。</li></ul><p><br /></p><h1 id=\\\"1dc0ea59\\\">二、f2etest-webdriver 调用流程</h1><p><br /></p><p>上报的 WebDriver 节点存活状态：</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716858959-a6a33339-e0f0-4bb4-915a-ff3d0fb4de41.png%22%2C%22originWidth%22%3A2460%2C%22originHeight%22%3A1024%2C%22name%22%3A%22image.png%22%2C%22size%22%3A906045%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1230%2C%22height%22%3A512%7D\\\"></card></p><p><br /></p><h1 id=\\\"122777f4\\\">三、小结</h1><p><br /></p><p>WebDriver 云原理并不复杂，难点在于机器部署的成本高，这一点也造成了推广使用的成本高，有两种解决方案，一是提供打包好的镜像文件，供直接下载。二是提供 Windows Docker 镜像，将在博客专栏节中进行探讨。</p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:41:02.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:47:26.000Z\",\"updated_at\":\"2019-04-23T06:15:05.000Z\",\"published_at\":\"2019-04-16T16:41:02.000Z\",\"first_published_at\":\"2019-04-08T09:53:17.000Z\",\"word_count\":419,\"cover\":null,\"description\":\"一、WebDriver 云架构WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构F2etest-web 是 webdriver 云的用户界面层，对于 f2etest-webdriv...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-webdriver-cloud-install":"{\"id\":1486777,\"slug\":\"webdriver-cloud-install\",\"title\":\"WebDriver 云的安装部署\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h1 id=\\\"cafb404e\\\">一、安装运行</h1><p>本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像</p><h3 id=\\\"8eb6c870\\\">1.1 安装并配置远程桌面服务</h3><ul><li>增加角色</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187708-bd8d9fe7-3b9a-481c-98f4-5a69ecf4fdfc.png#align=left&amp;display=inline&amp;height=858&amp;name=image.png&amp;originHeight=1716&amp;originWidth=2880&amp;size=381151&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>选择远程桌面服务</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187691-46402cf6-1cf1-42a5-afd2-7c383c0460a2.png#align=left&amp;display=inline&amp;height=857&amp;name=image.png&amp;originHeight=1714&amp;originWidth=2880&amp;size=487041&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187691-9677110c-8e53-441e-bd69-2c01e939c6a7.png#align=left&amp;display=inline&amp;height=854&amp;name=image.png&amp;originHeight=1708&amp;originWidth=2880&amp;size=475112&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>选择不适用网络级别身份验证</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187710-8e9f1df0-ba91-4c7a-8bb5-062238738b3f.png#align=left&amp;display=inline&amp;height=855&amp;name=image.png&amp;originHeight=1710&amp;originWidth=2876&amp;size=518693&amp;status=done&amp;width=1438\\\" style=\\\"max-width: 600px; width: 1438px;\\\" /></p><p><br /></p><ul><li>授权模式选择按用户</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187717-f58a5049-c6fe-4d98-a3c5-4ae1ed7c9e16.png#align=left&amp;display=inline&amp;height=854&amp;name=image.png&amp;originHeight=1708&amp;originWidth=2880&amp;size=487534&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>选择用户组</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187726-eba87859-2ce3-45c2-9902-1122b8a6b962.png#align=left&amp;display=inline&amp;height=856&amp;name=image.png&amp;originHeight=1712&amp;originWidth=2880&amp;size=485506&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187715-7bc983ef-7f3e-44c1-a252-fc2d2edbccf5.png#align=left&amp;display=inline&amp;height=856&amp;name=image.png&amp;originHeight=1712&amp;originWidth=2880&amp;size=452726&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>客户端体验(默认，点Next)</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187733-32b53f9b-8eec-4796-aa33-75f856c8d951.png#align=left&amp;display=inline&amp;height=859&amp;name=image.png&amp;originHeight=1718&amp;originWidth=2880&amp;size=500387&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>RD授权模式（默认，Next）</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187741-086d79f7-aa09-4040-9713-8a2e254813f7.png#align=left&amp;display=inline&amp;height=858&amp;name=image.png&amp;originHeight=1716&amp;originWidth=2880&amp;size=525160&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>勾选(IIS - ASP)</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187726-9bc781c9-ca1a-4d8b-be34-729980af3a61.png#align=left&amp;display=inline&amp;height=857&amp;name=image.png&amp;originHeight=1714&amp;originWidth=2876&amp;size=516861&amp;status=done&amp;width=1438\\\" style=\\\"max-width: 600px; width: 1438px;\\\" /></p><p><br /></p><ul><li>开始安装</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187751-fe48b49e-b7ba-4f41-a0db-ef4ed2b8cd27.png#align=left&amp;display=inline&amp;height=856&amp;name=image.png&amp;originHeight=1712&amp;originWidth=2880&amp;size=526102&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>重启服务器</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187753-ef73e3dc-bf5e-4ac4-899d-4cfec0fddb3a.png#align=left&amp;display=inline&amp;height=855&amp;name=image.png&amp;originHeight=1710&amp;originWidth=2880&amp;size=496827&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>激活授权服务器</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187757-9727cac1-9dd2-42ff-9e17-aa05d5abbbb6.png#align=left&amp;display=inline&amp;height=644&amp;name=image.png&amp;originHeight=1288&amp;originWidth=1626&amp;size=277559&amp;status=done&amp;width=813\\\" style=\\\"max-width: 600px; width: 813px;\\\" /></p><p><br /></p><ul><li>右键 -&gt; 激活服务</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187755-b8ec1d61-4108-4f20-bd23-6cae1b3259ef.png#align=left&amp;display=inline&amp;height=625&amp;name=image.png&amp;originHeight=1250&amp;originWidth=2160&amp;size=123878&amp;status=done&amp;width=1080\\\" style=\\\"max-width: 600px; width: 1080px;\\\" /></p><p><br /></p><ul><li>选择自动连接</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187756-88e34d23-e4c1-4de1-8c8d-c1aa2681120e.png#align=left&amp;display=inline&amp;height=624&amp;name=image.png&amp;originHeight=1248&amp;originWidth=2154&amp;size=165128&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187770-ed119f36-e2b9-4a53-b5a4-e853182fd29e.png#align=left&amp;display=inline&amp;height=622&amp;name=image.png&amp;originHeight=1244&amp;originWidth=2156&amp;size=167466&amp;status=done&amp;width=1078\\\" style=\\\"max-width: 600px; width: 1078px;\\\" /></p><p><br /></p><ul><li>开始激活引导</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187766-f343ca3f-2c61-4674-9e76-79d5aeef6e76.png#align=left&amp;display=inline&amp;height=622&amp;name=image.png&amp;originHeight=1244&amp;originWidth=2156&amp;size=263126&amp;status=done&amp;width=1078\\\" style=\\\"max-width: 600px; width: 1078px;\\\" /></p><p><br /></p><ul><li>选择企业协议</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187773-e10d626e-01ba-4363-9869-9255527e4bd6.png#align=left&amp;display=inline&amp;height=625&amp;name=image.png&amp;originHeight=1250&amp;originWidth=2162&amp;size=167547&amp;status=done&amp;width=1081\\\" style=\\\"max-width: 600px; width: 1081px;\\\" /></p><p>填写协议号码</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187773-16e08e7a-3fe1-4151-b0ee-a1410113cc96.png#align=left&amp;display=inline&amp;height=625&amp;name=image.png&amp;originHeight=1250&amp;originWidth=2154&amp;size=129118&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></p><p><br /></p><ul><li>许可证用户选择按用户</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187778-524937df-e2bf-44a1-ae7b-4536f85299bd.png#align=left&amp;display=inline&amp;height=624&amp;name=image.png&amp;originHeight=1248&amp;originWidth=2158&amp;size=180832&amp;status=done&amp;width=1079\\\" style=\\\"max-width: 600px; width: 1079px;\\\" /></p><p><br /></p><ul><li>激活完成</li></ul><p><strong><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187783-8f88c7b3-e53d-496a-b81d-7eb83ebc9519.png#align=left&amp;display=inline&amp;height=627&amp;name=image.png&amp;originHeight=1254&amp;originWidth=2154&amp;size=243829&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></strong></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187796-64c6e09d-c469-4cba-af14-ef961bff36a3.png#align=left&amp;display=inline&amp;height=623&amp;name=image.png&amp;originHeight=1246&amp;originWidth=2154&amp;size=105918&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></p><h3 id=\\\"9971dbcf\\\">1.2 安装NodeJs</h3><p>安装请访问官网：<a href=\\\"https://nodejs.org/\\\" target=\\\"_blank\\\"><span>https://nodejs.org</span></a>，如果已安装好，请略过</p><p><strong>为了稳定，建议安装LTS版本</strong></p><p><strong><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187796-10c3b607-349e-430c-9ef1-b3a1b27e2c81.png#align=left&amp;display=inline&amp;height=192&amp;name=image.png&amp;originHeight=384&amp;originWidth=500&amp;size=23426&amp;status=done&amp;width=250\\\" style=\\\"max-width: 600px; width: 250px;\\\" /></strong></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"3c733ab0\\\">1.3 安装Java</h3><p> 安装请访问官网：<a href=\\\"https://java.com/zh_CN/download/\\\" target=\\\"_blank\\\"><span>https://java.com/zh_CN/download/</span></a></p><p> 用于运行WebDriver Server(Selenium2)</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187809-cf5ff82e-1e8e-4919-b104-5d060737d887.png#align=left&amp;display=inline&amp;height=192&amp;name=image.png&amp;originHeight=383&amp;originWidth=706&amp;size=29156&amp;status=done&amp;width=353\\\" style=\\\"max-width: 600px; width: 353px;\\\" /></p><h3 id=\\\"d41d8cd9-1\\\"><br /></h3><h3 id=\\\"1a4291e4\\\">1.4 下载f2etest-webdriver</h3><p>下载并拷贝 <a href=\\\"https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver\\\" target=\\\"_blank\\\">https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver</a>，放到C盘更目录下C:\\\\f2etest-webdriver</p><h3 id=\\\"d41d8cd9-2\\\"><br /></h3><h3 id=\\\"8bda3f3c\\\">1.5 初始化子节点账号数据</h3><p>1<span>. 命令行输入：`gpedit.msc`，</span>关闭密码复杂性要求</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187802-1e1257d1-37dc-4335-9f15-4fbb7386dda2.png#align=left&amp;display=inline&amp;height=621&amp;name=image.png&amp;originHeight=1242&amp;originWidth=1874&amp;size=232297&amp;status=done&amp;width=937\\\" style=\\\"max-width: 600px; width: 937px;\\\" /></p><p><br /></p><p>2<span>. </span>双击`批量设置节点用户.vbs`文件，输入需要初始化的节点数量，例如：8</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187811-ba10022f-b826-4e1b-bd46-77c3dd940f21.png#align=left&amp;display=inline&amp;height=492&amp;name=image.png&amp;originHeight=984&amp;originWidth=1718&amp;size=147123&amp;status=done&amp;width=859\\\" style=\\\"max-width: 600px; width: 859px;\\\" /></p><p><br /></p><p>3. 在本地用户和组中可看到已经初始化好的8个节点用户</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187815-6e9f081b-806c-4224-8eff-087f2f9a71e3.png#align=left&amp;display=inline&amp;height=738&amp;name=image.png&amp;originHeight=1476&amp;originWidth=2040&amp;size=200197&amp;status=done&amp;width=1020\\\" style=\\\"max-width: 600px; width: 1020px;\\\" /></p><p>4. 删除多页的节点rdp文件，只保留8个，与节点用户保持一致</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187827-65a236a1-73b1-4fec-9c37-5cf05c109b93.png#align=left&amp;display=inline&amp;height=181&amp;name=image.png&amp;originHeight=362&amp;originWidth=637&amp;size=48324&amp;status=done&amp;width=319\\\" style=\\\"max-width: 600px; width: 319px;\\\" /></p><p><br /></p><h3 id=\\\"ba609199\\\">1.6 初始化环境变量</h3><p>将`C:\\\\f2etest-webdriver\\\\webdriver\\\\`文件夹添加到PATH环境变量中</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187824-604d0c99-58a7-4993-b750-570124f17c0f.png#align=left&amp;display=inline&amp;height=600&amp;name=image.png&amp;originHeight=1200&amp;originWidth=2020&amp;size=252051&amp;status=done&amp;width=1010\\\" style=\\\"max-width: 600px; width: 1010px;\\\" /></p><p><br /></p><h3 id=\\\"90f916c3\\\">1.7 关闭IE增强配置</h3><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187827-c958321f-c678-4e22-9ad1-f1dc6a2ad5dc.png#align=left&amp;display=inline&amp;height=478&amp;name=image.png&amp;originHeight=730&amp;originWidth=1140&amp;size=88584&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187863-bd249556-5c42-4aa1-af53-67a0d7be8f21.png#align=left&amp;display=inline&amp;height=497&amp;name=image.png&amp;originHeight=599&amp;originWidth=899&amp;size=117771&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h3 id=\\\"d41d8cd9-3\\\"><br /></h3><h3 id=\\\"dc00dd3e\\\">1.8 安装Chrome</h3><p>这里有个点要注意的是Chrome版本要与Chrome Webdriver的版本对上，如Chrome 73 要对应Chrome WebDriver 73</p><p>附：webdriver下载链接<a href=\\\"https://sites.google.com/a/chromium.org/chromedriver/downloads\\\" target=\\\"_blank\\\">https://sites.google.com/a/chromium.org/chromedriver/downloads</a></p><h3 id=\\\"d41d8cd9-4\\\"><br /></h3><h3 id=\\\"557d2443\\\">1.9 禁用防火墙</h3><p style=\\\"text-indent: 2em;\\\">防止WebDriver命令无法转发至本机</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187844-bd72236c-70ae-49f0-8c81-786cadaa9aff.png#align=left&amp;display=inline&amp;height=598&amp;name=image.png&amp;originHeight=1196&amp;originWidth=1794&amp;size=165936&amp;status=done&amp;width=897\\\" style=\\\"max-width: 600px; width: 897px;\\\" /></p><p><br /></p><h3 id=\\\"7f2b1e2f\\\">1.10 设置服务器每天定时重启</h3><p><span>1. </span>添加计划任务</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187851-8f471e5a-6ff8-4b6e-84a1-afe739cfae61.png#align=left&amp;display=inline&amp;height=734&amp;name=image.png&amp;originHeight=1468&amp;originWidth=2296&amp;size=442859&amp;status=done&amp;width=1148\\\" style=\\\"max-width: 600px; width: 1148px;\\\" /></p><p>2. 命令输入：shutdown /f /r /t 30</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187857-d5316020-174f-4185-a3b3-e8c640583a5d.png#align=left&amp;display=inline&amp;height=733&amp;name=image.png&amp;originHeight=1466&amp;originWidth=2290&amp;size=391090&amp;status=done&amp;width=1145\\\" style=\\\"max-width: 600px; width: 1145px;\\\" /></p><p>3. 时间建议选择在凌晨5点左右</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187884-92edda92-1704-4b18-8552-4d4c2e0cd1a8.png#align=left&amp;display=inline&amp;height=734&amp;name=image.png&amp;originHeight=1468&amp;originWidth=2284&amp;size=458663&amp;status=done&amp;width=1142\\\" style=\\\"max-width: 600px; width: 1142px;\\\" /></p><p>4. 创建完成</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187893-5771fc57-510f-411f-a8db-43042e76a612.png#align=left&amp;display=inline&amp;height=249&amp;name=image.png&amp;originHeight=498&amp;originWidth=1354&amp;size=38807&amp;status=done&amp;width=677\\\" style=\\\"max-width: 600px; width: 677px;\\\" /></p><p><span style=\\\"background-color: transparent;\\\">1.11 初始化webdriver节点</span><br /></p><p>1. 执行`RDP.exe`</p><p>2. password处输入：`hello1234`</p><p>3. 点击`Encrypt按钮`</p><p>4. 复制出加密后的Hash</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187902-3192db8a-bf9c-4443-a945-a2342a5396c9.png#align=left&amp;display=inline&amp;height=138&amp;name=image.png&amp;originHeight=276&amp;originWidth=679&amp;size=32760&amp;status=done&amp;width=340\\\" style=\\\"max-width: 600px; width: 340px;\\\" /></p><p><span style=\\\"background-color: #D9D9D9;\\\">注：由于不同系统生成的Hash不同，因此，这个值需要在每台执行机上进行动态生成并替换</span></p><p><br /></p><p>5. 替换当前子文件夹中所有rdp扩展名的文件，替换password_hash为刚才复制的加密后Hash</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187908-4dda5d23-1be8-40d3-a92d-c61f98105993.png#align=left&amp;display=inline&amp;height=667&amp;name=image.png&amp;originHeight=1334&amp;originWidth=1504&amp;size=159457&amp;status=done&amp;width=752\\\" style=\\\"max-width: 600px; width: 752px;\\\" /></p><p><br /></p><p>6. 修改`webdriver/opennode.bat`</p><ol start=\\\"1\\\"><li>修改f2etestHost变量为f2etest服务部署的IP地址或域名</li><li>browsers变量修改为本机所部署的浏览器名称，多个浏览器以逗号间隔，浏览器名称和浏览器版本号之间以空格间隔，例如: IE 11,Chrome,Firefox</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187915-2a880c53-a291-428b-8736-56b02458eee6.png#align=left&amp;display=inline&amp;height=306&amp;name=image.png&amp;originHeight=611&amp;originWidth=1026&amp;size=55565&amp;status=done&amp;width=513\\\" style=\\\"max-width: 600px; width: 513px;\\\" /></p><p><br /></p><h3 id=\\\"ee330611\\\">1.12 启动节点</h3><ol start=\\\"1\\\"><li>执行<code>rdp\\\\openAllNode.bat</code>，然后打开一次所有的IE浏览器，进行首次初始化，同时启用所有安全区域的保护模式</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187963-4742b558-4780-4ed1-9547-807980725afc.png#align=left&amp;display=inline&amp;height=745&amp;name=image.png&amp;originHeight=1490&amp;originWidth=2702&amp;size=298751&amp;status=done&amp;width=1351\\\" style=\\\"max-width: 600px; width: 1351px;\\\" /></p><ol start=\\\"2\\\"><li>第1步完成后，执行<code>rdp\\\\initAllNodes.bat</code>，批量添加启动批处理</li></ol><p><br /></p><ol start=\\\"3\\\"><li>所有节点初始化完成后，将<code>rdp\\\\openAllNode.bat</code>添加快捷方式到Administrator账号的系统自动启动文件夹，以实现开机自动打开所有的WebDriver节点</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187924-d3059296-996b-4a12-a630-5365e1ef2b54.png#align=left&amp;display=inline&amp;height=136&amp;name=image.png&amp;originHeight=271&amp;originWidth=250&amp;size=19733&amp;status=done&amp;width=125\\\" style=\\\"max-width: 600px; width: 125px;\\\" /></p><p><br /></p><ol start=\\\"4\\\"><li>命令行输入：<code>netplwiz</code>，在高级用户控制面板中，取消对<code>“要使用本机，用户需输入用户名和密码(E)”</code>项的勾选。系统将弹出窗口要求输入默认登录系统的用户名和密码，输入完成后点击确定</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187927-54143e99-2523-4085-991a-4de65ce1c0af.png#align=left&amp;display=inline&amp;height=252&amp;name=image.png&amp;originHeight=503&amp;originWidth=467&amp;size=41419&amp;status=done&amp;width=234\\\" style=\\\"max-width: 600px; width: 234px;\\\" /></p><ol start=\\\"5\\\"><li style=\\\"padding-left: 22px;\\\">重启操作系统，如果正常的话，所有节点在3分钟左右之后应该会自动启动</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187934-0efa9554-99c6-4067-ab66-a5b12ab2815d.png#align=left&amp;display=inline&amp;height=166&amp;name=image.png&amp;originHeight=331&amp;originWidth=666&amp;size=16816&amp;status=done&amp;width=333\\\" style=\\\"max-width: 600px; width: 333px;\\\" /></p><p><br /></p><p>6.关闭保护模式（需要到每个节点的远程桌面中关闭）</p><p>IE浏览器 -&gt; Ineternet选项，安全，对应4个Tab都需要关闭保护模式，否则报“Unexpected error launching Internet Explorer. Protected Mode settings are not the same for all zones”的错误</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187942-1d52b0c3-33f9-45ed-ad3a-a2d2bed7f4ff.png#align=left&amp;display=inline&amp;height=497&amp;name=image.png&amp;originHeight=599&amp;originWidth=899&amp;size=117771&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h2 id=\\\"a16df528\\\">二、节点测试与验证</h2><p>使用UIRecorder 示例项目 来进行WebDriver的验证</p><h4 id=\\\"052d8f63\\\">2.1 执行UIRecorder测试脚本</h4><p>配置config.json</p><pre data-lang=\\\"json\\\"><code>{\\n    &quot;webdriver&quot;: {\\n        &quot;host&quot;: &quot;你的webdriver节点IP&quot;,\\n        &quot;port&quot;: &quot;4001&quot;,\\n        &quot;browsers&quot;: &quot;ie11, chrome&quot;\\n    }\\n }</code></pre><p>端口是4001对应node01, 以此类推4008对应node08</p><p><br /></p><p>运行测试脚本 source run.sh sample/test.spec.js</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998188000-669e018a-86e9-434d-9ea4-f2a0c72ae21f.png#align=left&amp;display=inline&amp;height=368&amp;name=image.png&amp;originHeight=368&amp;originWidth=545&amp;size=48287&amp;status=done&amp;width=545\\\" style=\\\"max-width: 600px; width: 545px;\\\" /></p><p>验证通过</p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h1 id=\\\"cafb404e\\\">一、安装运行</h1><p>本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像</p><h3 id=\\\"8eb6c870\\\">1.1 安装并配置远程桌面服务</h3><ul><li>增加角色</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187708-bd8d9fe7-3b9a-481c-98f4-5a69ecf4fdfc.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1716%2C%22name%22%3A%22image.png%22%2C%22size%22%3A381151%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A858%7D\\\"></card></p><p><br /></p><ul><li>选择远程桌面服务</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187691-46402cf6-1cf1-42a5-afd2-7c383c0460a2.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1714%2C%22name%22%3A%22image.png%22%2C%22size%22%3A487041%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A857%7D\\\"></card></p><p><br /></p><ul><li>勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187691-9677110c-8e53-441e-bd69-2c01e939c6a7.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1708%2C%22name%22%3A%22image.png%22%2C%22size%22%3A475112%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A854%7D\\\"></card></p><p><br /></p><ul><li>选择不适用网络级别身份验证</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187710-8e9f1df0-ba91-4c7a-8bb5-062238738b3f.png%22%2C%22originWidth%22%3A2876%2C%22originHeight%22%3A1710%2C%22name%22%3A%22image.png%22%2C%22size%22%3A518693%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1438%2C%22height%22%3A855%7D\\\"></card></p><p><br /></p><ul><li>授权模式选择按用户</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187717-f58a5049-c6fe-4d98-a3c5-4ae1ed7c9e16.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1708%2C%22name%22%3A%22image.png%22%2C%22size%22%3A487534%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A854%7D\\\"></card></p><p><br /></p><ul><li>选择用户组</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187726-eba87859-2ce3-45c2-9902-1122b8a6b962.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1712%2C%22name%22%3A%22image.png%22%2C%22size%22%3A485506%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A856%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187715-7bc983ef-7f3e-44c1-a252-fc2d2edbccf5.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1712%2C%22name%22%3A%22image.png%22%2C%22size%22%3A452726%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A856%7D\\\"></card></p><p><br /></p><ul><li>客户端体验(默认，点Next)</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187733-32b53f9b-8eec-4796-aa33-75f856c8d951.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1718%2C%22name%22%3A%22image.png%22%2C%22size%22%3A500387%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A859%7D\\\"></card></p><p><br /></p><ul><li>RD授权模式（默认，Next）</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187741-086d79f7-aa09-4040-9713-8a2e254813f7.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1716%2C%22name%22%3A%22image.png%22%2C%22size%22%3A525160%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A858%7D\\\"></card></p><p><br /></p><ul><li>勾选(IIS - ASP)</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187726-9bc781c9-ca1a-4d8b-be34-729980af3a61.png%22%2C%22originWidth%22%3A2876%2C%22originHeight%22%3A1714%2C%22name%22%3A%22image.png%22%2C%22size%22%3A516861%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1438%2C%22height%22%3A857%7D\\\"></card></p><p><br /></p><ul><li>开始安装</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187751-fe48b49e-b7ba-4f41-a0db-ef4ed2b8cd27.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1712%2C%22name%22%3A%22image.png%22%2C%22size%22%3A526102%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A856%7D\\\"></card></p><p><br /></p><ul><li>重启服务器</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187753-ef73e3dc-bf5e-4ac4-899d-4cfec0fddb3a.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1710%2C%22name%22%3A%22image.png%22%2C%22size%22%3A496827%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A855%7D\\\"></card></p><p><br /></p><ul><li>激活授权服务器</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187757-9727cac1-9dd2-42ff-9e17-aa05d5abbbb6.png%22%2C%22originWidth%22%3A1626%2C%22originHeight%22%3A1288%2C%22name%22%3A%22image.png%22%2C%22size%22%3A277559%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A813%2C%22height%22%3A644%7D\\\"></card></p><p><br /></p><ul><li>右键 -&gt; 激活服务</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187755-b8ec1d61-4108-4f20-bd23-6cae1b3259ef.png%22%2C%22originWidth%22%3A2160%2C%22originHeight%22%3A1250%2C%22name%22%3A%22image.png%22%2C%22size%22%3A123878%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1080%2C%22height%22%3A625%7D\\\"></card></p><p><br /></p><ul><li>选择自动连接</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187756-88e34d23-e4c1-4de1-8c8d-c1aa2681120e.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1248%2C%22name%22%3A%22image.png%22%2C%22size%22%3A165128%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A624%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187770-ed119f36-e2b9-4a53-b5a4-e853182fd29e.png%22%2C%22originWidth%22%3A2156%2C%22originHeight%22%3A1244%2C%22name%22%3A%22image.png%22%2C%22size%22%3A167466%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1078%2C%22height%22%3A622%7D\\\"></card></p><p><br /></p><ul><li>开始激活引导</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187766-f343ca3f-2c61-4674-9e76-79d5aeef6e76.png%22%2C%22originWidth%22%3A2156%2C%22originHeight%22%3A1244%2C%22name%22%3A%22image.png%22%2C%22size%22%3A263126%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1078%2C%22height%22%3A622%7D\\\"></card></p><p><br /></p><ul><li>选择企业协议</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187773-e10d626e-01ba-4363-9869-9255527e4bd6.png%22%2C%22originWidth%22%3A2162%2C%22originHeight%22%3A1250%2C%22name%22%3A%22image.png%22%2C%22size%22%3A167547%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1081%2C%22height%22%3A625%7D\\\"></card></p><p>填写协议号码</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187773-16e08e7a-3fe1-4151-b0ee-a1410113cc96.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1250%2C%22name%22%3A%22image.png%22%2C%22size%22%3A129118%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A625%7D\\\"></card></p><p><br /></p><ul><li>许可证用户选择按用户</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187778-524937df-e2bf-44a1-ae7b-4536f85299bd.png%22%2C%22originWidth%22%3A2158%2C%22originHeight%22%3A1248%2C%22name%22%3A%22image.png%22%2C%22size%22%3A180832%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1079%2C%22height%22%3A624%7D\\\"></card></p><p><br /></p><ul><li>激活完成</li></ul><p><strong><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187783-8f88c7b3-e53d-496a-b81d-7eb83ebc9519.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1254%2C%22name%22%3A%22image.png%22%2C%22size%22%3A243829%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A627%7D\\\"></card></strong></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187796-64c6e09d-c469-4cba-af14-ef961bff36a3.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1246%2C%22name%22%3A%22image.png%22%2C%22size%22%3A105918%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A623%7D\\\"></card></p><h3 id=\\\"9971dbcf\\\">1.2 安装NodeJs</h3><p>安装请访问官网：<a href=\\\"https://nodejs.org/\\\" target=\\\"_blank\\\"><span>https://nodejs.org</span></a>，如果已安装好，请略过</p><p><strong>为了稳定，建议安装LTS版本</strong></p><p><strong><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187796-10c3b607-349e-430c-9ef1-b3a1b27e2c81.png%22%2C%22originWidth%22%3A500%2C%22originHeight%22%3A384%2C%22name%22%3A%22image.png%22%2C%22size%22%3A23426%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A250%2C%22height%22%3A192%7D\\\"></card></strong></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"3c733ab0\\\">1.3 安装Java</h3><p> 安装请访问官网：<a href=\\\"https://java.com/zh_CN/download/\\\" target=\\\"_blank\\\"><span>https://java.com/zh_CN/download/</span></a></p><p> 用于运行WebDriver Server(Selenium2)</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187809-cf5ff82e-1e8e-4919-b104-5d060737d887.png%22%2C%22originWidth%22%3A706%2C%22originHeight%22%3A383%2C%22name%22%3A%22image.png%22%2C%22size%22%3A29156%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A353%2C%22height%22%3A192%7D\\\"></card></p><h3 id=\\\"d41d8cd9-1\\\"><br /></h3><h3 id=\\\"1a4291e4\\\">1.4 下载f2etest-webdriver</h3><p>下载并拷贝 <a href=\\\"https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver\\\" target=\\\"_blank\\\">https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver</a>，放到C盘更目录下C:\\\\f2etest-webdriver</p><h3 id=\\\"d41d8cd9-2\\\"><br /></h3><h3 id=\\\"8bda3f3c\\\">1.5 初始化子节点账号数据</h3><p>1<span>. 命令行输入：`gpedit.msc`，</span>关闭密码复杂性要求</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187802-1e1257d1-37dc-4335-9f15-4fbb7386dda2.png%22%2C%22originWidth%22%3A1874%2C%22originHeight%22%3A1242%2C%22name%22%3A%22image.png%22%2C%22size%22%3A232297%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A937%2C%22height%22%3A621%7D\\\"></card></p><p><br /></p><p>2<span>. </span>双击`批量设置节点用户.vbs`文件，输入需要初始化的节点数量，例如：8</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187811-ba10022f-b826-4e1b-bd46-77c3dd940f21.png%22%2C%22originWidth%22%3A1718%2C%22originHeight%22%3A984%2C%22name%22%3A%22image.png%22%2C%22size%22%3A147123%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A859%2C%22height%22%3A492%7D\\\"></card></p><p><br /></p><p>3. 在本地用户和组中可看到已经初始化好的8个节点用户</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187815-6e9f081b-806c-4224-8eff-087f2f9a71e3.png%22%2C%22originWidth%22%3A2040%2C%22originHeight%22%3A1476%2C%22name%22%3A%22image.png%22%2C%22size%22%3A200197%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1020%2C%22height%22%3A738%7D\\\"></card></p><p>4. 删除多页的节点rdp文件，只保留8个，与节点用户保持一致</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187827-65a236a1-73b1-4fec-9c37-5cf05c109b93.png%22%2C%22originWidth%22%3A637%2C%22originHeight%22%3A362%2C%22name%22%3A%22image.png%22%2C%22size%22%3A48324%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A319%2C%22height%22%3A181%7D\\\"></card></p><p><br /></p><h3 id=\\\"ba609199\\\">1.6 初始化环境变量</h3><p>将`C:\\\\f2etest-webdriver\\\\webdriver\\\\`文件夹添加到PATH环境变量中</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187824-604d0c99-58a7-4993-b750-570124f17c0f.png%22%2C%22originWidth%22%3A2020%2C%22originHeight%22%3A1200%2C%22name%22%3A%22image.png%22%2C%22size%22%3A252051%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1010%2C%22height%22%3A600%7D\\\"></card></p><p><br /></p><h3 id=\\\"90f916c3\\\">1.7 关闭IE增强配置</h3><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187827-c958321f-c678-4e22-9ad1-f1dc6a2ad5dc.png%22%2C%22originWidth%22%3A1140%2C%22originHeight%22%3A730%2C%22name%22%3A%22image.png%22%2C%22size%22%3A88584%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A478%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187863-bd249556-5c42-4aa1-af53-67a0d7be8f21.png%22%2C%22originWidth%22%3A899%2C%22originHeight%22%3A599%2C%22name%22%3A%22image.png%22%2C%22size%22%3A117771%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A497%7D\\\"></card></p><h3 id=\\\"d41d8cd9-3\\\"><br /></h3><h3 id=\\\"dc00dd3e\\\">1.8 安装Chrome</h3><p>这里有个点要注意的是Chrome版本要与Chrome Webdriver的版本对上，如Chrome 73 要对应Chrome WebDriver 73</p><p>附：webdriver下载链接<a href=\\\"https://sites.google.com/a/chromium.org/chromedriver/downloads\\\" target=\\\"_blank\\\">https://sites.google.com/a/chromium.org/chromedriver/downloads</a></p><h3 id=\\\"d41d8cd9-4\\\"><br /></h3><h3 id=\\\"557d2443\\\">1.9 禁用防火墙</h3><p style=\\\"text-indent: 2em;\\\">防止WebDriver命令无法转发至本机</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187844-bd72236c-70ae-49f0-8c81-786cadaa9aff.png%22%2C%22originWidth%22%3A1794%2C%22originHeight%22%3A1196%2C%22name%22%3A%22image.png%22%2C%22size%22%3A165936%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A897%2C%22height%22%3A598%7D\\\"></card></p><p><br /></p><h3 id=\\\"7f2b1e2f\\\">1.10 设置服务器每天定时重启</h3><p><span>1. </span>添加计划任务</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187851-8f471e5a-6ff8-4b6e-84a1-afe739cfae61.png%22%2C%22originWidth%22%3A2296%2C%22originHeight%22%3A1468%2C%22name%22%3A%22image.png%22%2C%22size%22%3A442859%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1148%2C%22height%22%3A734%7D\\\"></card></p><p>2. 命令输入：shutdown /f /r /t 30</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187857-d5316020-174f-4185-a3b3-e8c640583a5d.png%22%2C%22originWidth%22%3A2290%2C%22originHeight%22%3A1466%2C%22name%22%3A%22image.png%22%2C%22size%22%3A391090%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1145%2C%22height%22%3A733%7D\\\"></card></p><p>3. 时间建议选择在凌晨5点左右</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187884-92edda92-1704-4b18-8552-4d4c2e0cd1a8.png%22%2C%22originWidth%22%3A2284%2C%22originHeight%22%3A1468%2C%22name%22%3A%22image.png%22%2C%22size%22%3A458663%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1142%2C%22height%22%3A734%7D\\\"></card></p><p>4. 创建完成</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187893-5771fc57-510f-411f-a8db-43042e76a612.png%22%2C%22originWidth%22%3A1354%2C%22originHeight%22%3A498%2C%22name%22%3A%22image.png%22%2C%22size%22%3A38807%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A677%2C%22height%22%3A249%7D\\\"></card></p><p><span style=\\\"background-color: transparent;\\\">1.11 初始化webdriver节点</span><br /></p><p>1. 执行`RDP.exe`</p><p>2. password处输入：`hello1234`</p><p>3. 点击`Encrypt按钮`</p><p>4. 复制出加密后的Hash</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187902-3192db8a-bf9c-4443-a945-a2342a5396c9.png%22%2C%22originWidth%22%3A679%2C%22originHeight%22%3A276%2C%22name%22%3A%22image.png%22%2C%22size%22%3A32760%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A340%2C%22height%22%3A138%7D\\\"></card></p><p><span style=\\\"background-color: #D9D9D9;\\\">注：由于不同系统生成的Hash不同，因此，这个值需要在每台执行机上进行动态生成并替换</span></p><p><br /></p><p>5. 替换当前子文件夹中所有rdp扩展名的文件，替换password_hash为刚才复制的加密后Hash</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187908-4dda5d23-1be8-40d3-a92d-c61f98105993.png%22%2C%22originWidth%22%3A1504%2C%22originHeight%22%3A1334%2C%22name%22%3A%22image.png%22%2C%22size%22%3A159457%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A752%2C%22height%22%3A667%7D\\\"></card></p><p><br /></p><p>6. 修改`webdriver/opennode.bat`</p><ol start=\\\"1\\\"><li>修改f2etestHost变量为f2etest服务部署的IP地址或域名</li><li>browsers变量修改为本机所部署的浏览器名称，多个浏览器以逗号间隔，浏览器名称和浏览器版本号之间以空格间隔，例如: IE 11,Chrome,Firefox</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187915-2a880c53-a291-428b-8736-56b02458eee6.png%22%2C%22originWidth%22%3A1026%2C%22originHeight%22%3A611%2C%22name%22%3A%22image.png%22%2C%22size%22%3A55565%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A513%2C%22height%22%3A306%7D\\\"></card></p><p><br /></p><h3 id=\\\"ee330611\\\">1.12 启动节点</h3><ol start=\\\"1\\\"><li>执行<code>rdp\\\\openAllNode.bat</code>，然后打开一次所有的IE浏览器，进行首次初始化，同时启用所有安全区域的保护模式</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187963-4742b558-4780-4ed1-9547-807980725afc.png%22%2C%22originWidth%22%3A2702%2C%22originHeight%22%3A1490%2C%22name%22%3A%22image.png%22%2C%22size%22%3A298751%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1351%2C%22height%22%3A745%7D\\\"></card></p><ol start=\\\"2\\\"><li>第1步完成后，执行<code>rdp\\\\initAllNodes.bat</code>，批量添加启动批处理</li></ol><p><br /></p><ol start=\\\"3\\\"><li>所有节点初始化完成后，将<code>rdp\\\\openAllNode.bat</code>添加快捷方式到Administrator账号的系统自动启动文件夹，以实现开机自动打开所有的WebDriver节点</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187924-d3059296-996b-4a12-a630-5365e1ef2b54.png%22%2C%22originWidth%22%3A250%2C%22originHeight%22%3A271%2C%22name%22%3A%22image.png%22%2C%22size%22%3A19733%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A125%2C%22height%22%3A136%7D\\\"></card></p><p><br /></p><ol start=\\\"4\\\"><li>命令行输入：<code>netplwiz</code>，在高级用户控制面板中，取消对<code>“要使用本机，用户需输入用户名和密码(E)”</code>项的勾选。系统将弹出窗口要求输入默认登录系统的用户名和密码，输入完成后点击确定</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187927-54143e99-2523-4085-991a-4de65ce1c0af.png%22%2C%22originWidth%22%3A467%2C%22originHeight%22%3A503%2C%22name%22%3A%22image.png%22%2C%22size%22%3A41419%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A234%2C%22height%22%3A252%7D\\\"></card></p><ol start=\\\"5\\\"><li style=\\\"padding-left: 22px;\\\">重启操作系统，如果正常的话，所有节点在3分钟左右之后应该会自动启动</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187934-0efa9554-99c6-4067-ab66-a5b12ab2815d.png%22%2C%22originWidth%22%3A666%2C%22originHeight%22%3A331%2C%22name%22%3A%22image.png%22%2C%22size%22%3A16816%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A333%2C%22height%22%3A166%7D\\\"></card></p><p><br /></p><p>6.关闭保护模式（需要到每个节点的远程桌面中关闭）</p><p>IE浏览器 -&gt; Ineternet选项，安全，对应4个Tab都需要关闭保护模式，否则报“Unexpected error launching Internet Explorer. Protected Mode settings are not the same for all zones”的错误</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187942-1d52b0c3-33f9-45ed-ad3a-a2d2bed7f4ff.png%22%2C%22originWidth%22%3A899%2C%22originHeight%22%3A599%2C%22name%22%3A%22image.png%22%2C%22size%22%3A117771%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A497%7D\\\"></card></p><h2 id=\\\"a16df528\\\">二、节点测试与验证</h2><p>使用UIRecorder 示例项目 来进行WebDriver的验证</p><h4 id=\\\"052d8f63\\\">2.1 执行UIRecorder测试脚本</h4><p>配置config.json</p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%20%20%5C%22webdriver%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%5C%22host%5C%22%3A%20%5C%22%E4%BD%A0%E7%9A%84webdriver%E8%8A%82%E7%82%B9IP%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%5C%22port%5C%22%3A%20%5C%224001%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%5C%22browsers%5C%22%3A%20%5C%22ie11%2C%20chrome%5C%22%5Cn%20%20%20%20%7D%5Cn%20%7D%22%2C%22id%22%3A%22Om86h%22%7D\\\"></card><p>端口是4001对应node01, 以此类推4008对应node08</p><p><br /></p><p>运行测试脚本 source run.sh sample/test.spec.js</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998188000-669e018a-86e9-434d-9ea4-f2a0c72ae21f.png%22%2C%22originWidth%22%3A545%2C%22originHeight%22%3A368%2C%22name%22%3A%22image.png%22%2C%22size%22%3A48287%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A545%2C%22height%22%3A368%7D\\\"></card></p><p>验证通过</p><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":5,\"comments_count\":0,\"content_updated_at\":\"2019-04-23T05:44:30.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T10:04:48.000Z\",\"updated_at\":\"2019-04-23T06:15:22.000Z\",\"published_at\":\"2019-04-23T05:44:30.000Z\",\"first_published_at\":\"2019-04-08T10:06:01.000Z\",\"word_count\":1105,\"cover\":null,\"description\":\"一、安装运行本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像1.1 安装并配置远程桌面服务增加角色选择远程桌面服务勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问选择不适用网络级别身份验证授权模式选择按用户选择用户组...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","artist-f2etest-webdriver-cloud-usage":"{\"id\":1520852,\"slug\":\"webdriver-cloud-usage\",\"title\":\"如何使用 WebDriver 云\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"artist/f2etest\",\"user\":{\"id\":296279,\"type\":\"Group\",\"login\":\"artist\",\"name\":\"F&D艺术家-前端自动化测试\",\"description\":\"探索与推广前端自动化测试\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":3,\"public_books_count\":3,\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-21T06:44:55.000Z\",\"updated_at\":\"2019-04-23T05:36:48.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"d3e49b3d\\\">一、WebDirver 云</h2><p><br /></p><h3 id=\\\"54ae9400\\\">1.1 使用方法</h3><p><br /></p><p>F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。</p><p><br /></p><ul><li>F2etest WebDriver Hub 连接信息：</li></ul><p><br /></p><pre><code>host：f2etest.alibaba-inc.com\\nport：4444</code></pre><p><br /></p><ul><li>初始化时提交的扩展（<span>查询地址：</span><a href=\\\"http://f2etest.xxx.com/webdriver\\\" target=\\\"_blank\\\">http://f2etest.xxx.com/webdriver</a>）：</li></ul><p><br /></p><pre><code>f2etest.userid：用户唯一标志 id\\nf2etest.apiKey：useid 对应的唯一 key\\nf2etest.hosts：hosts 绑定（可选）</code></pre><p><br /></p><h3 id=\\\"5a88867b\\\">1.2 节点参数须知</h3><p><br /></p><ul><li><strong>WebDriver 闲置超时</strong>：60 秒（任务会话意外中断，60 秒后会自动结束，如果希望增加调试时间，请定时发起一次任意操作，以延后回收时间）。</li></ul><p><br /></p><ul><li><strong>节点回收轮询</strong>：5 秒（节点会话结束后，5 秒内会被重新放入执行机池）。</li></ul><p><br /></p><h2 id=\\\"85defb8f\\\">二、结合 UIRecorder 使用</h2><p><br /></p><h3 id=\\\"cb24786d\\\">2.1 概述</h3><p><br /></p><p>UIRecorder 是一款 “一端录制，多端使用” 的便捷 UI 自动化测试回归工具:</p><p><br /></p><p><img alt=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" title=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1555001859084-139881ad-2aa6-43e5-957f-32edb4d4db3d.gif#align=left&amp;display=inline&amp;height=420&amp;name=Kapture%202019-04-01%20at%2011.53.49.gif&amp;originHeight=494&amp;originWidth=878&amp;size=8012768&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h3 id=\\\"997fd607\\\">2.2 使用方法</h3><p><br /></p><p>UIRecorder 调用 F2etest WebDriver Hub 的方法我们已经做了一层封装，只需简单修改配置文件，即可调用 WebDriver Hub。</p><p>       </p><ul><li><code>config.json</code> 主要字段含义如下：</li></ul><p><br /></p><pre data-lang=\\\"json\\\"><code>{\\n    &quot;webdriver&quot;: {\\n        &quot;host&quot;: &quot;f2etest.xxx.com&quot;,\\t\\t\\t\\t\\t\\t\\t\\t// webdriver hub 的 host，本地则 127.0.0.1\\n        &quot;port&quot;: &quot;4444&quot;,\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// 默认端口号为 4444\\n        &quot;f2etest.userid&quot;: &quot;xxx&quot;,\\t\\t\\t\\t\\t\\t\\t\\t\\t// 用户唯一标志（鉴权使用）\\n        &quot;f2etest.apiKey&quot;: &quot;xxx&quot;,\\t\\t\\t\\t\\t\\t\\t\\t\\t// 用户唯一 key（鉴权使用）\\n        &quot;browsers&quot;: &quot;chrome&quot;\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// 指定回归测试浏览器类型\\n    },\\n}</code></pre><p><br /></p><h2 id=\\\"968945a5\\\">三、JS 单元测试</h2><p><br /></p><h3 id=\\\"a0255241\\\">3.1 概述</h3><p><br /></p><p>JS 单元测试对于 JS 组件是最基础的质量覆盖手段，逻辑越复杂，使用率越高，单元测试的编写价值就越大。我们主要提供了基于 Karma 配合 F2etest 的执行机来实现JS单元测试的多浏览器持续集成解决方案。</p><p><br /></p><h3 id=\\\"47c32961\\\">3.2 使用方法</h3><p><br /></p><ol start=\\\"1\\\"><li>安装开发依赖：<code>npm i mocha karma karma-mocha-reporter karma-expect karma-coverage karma-chrome-laucher karma-webdriver-laucher --save-dev</code> 。</li></ol><p><br /></p><ol start=\\\"2\\\"><li>在 <a href=\\\"http://f2etest.alibaba-inc.com/jsunit\\\" target=\\\"_blank\\\">http://f2etest.alibaba-inc.com/jsunit</a> 下载 <code>karma.conf.js</code> 文件。</li></ol><p><br /></p><ol start=\\\"3\\\"><li>编辑 <code>package.json</code> 如下：</li></ol><p><br /></p><pre data-lang=\\\"json\\\"><code>{\\n  ...\\n  &quot;scripts&quot;: {\\n    &quot;test&quot;: &quot;./node_modules/.bin/karma start&quot;,\\n    &quot;f2etest&quot;: &quot;./node_modules/.bin/karma start --single-run --browsers f2etest-chrome,f2etest-firefox,f2etest-ie8,f2etest-ie9,f2etest-ie10,f2etest-ie11&quot;\\n  }\\n  ...\\n}</code></pre><p><br /></p><ol start=\\\"4\\\"><li>新建测试用例 <code>test/test.spec.js</code>（编写方法及案例可参考 mocha 官方文档：<a href=\\\"https://mochajs.org/\\\" target=\\\"_blank\\\">https://mochajs.org</a>）：</li></ol><p><br /></p><pre data-lang=\\\"javascript\\\"><code>describe('测试用例', function () {\\n    it('1等于1', function () {\\n        expect(1).to.equal(1);\\n        console.log('logtest');\\n    });\\n});</code></pre><p><br /></p><ol start=\\\"5\\\"><li>开发运行 <code>npm run test</code>（连接本地 Chrome 浏览器，监听文件变更并自动触发单元测试，并显示覆盖率情况）。</li></ol><p><br /></p><ol start=\\\"6\\\"><li>持续集成运行 <code>npm run f2etest</code>（在远端多个浏览器中同时执行单元测试，并获取覆盖率数据）</li></ol>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"d3e49b3d\\\">一、WebDirver 云</h2><p><br /></p><h3 id=\\\"54ae9400\\\">1.1 使用方法</h3><p><br /></p><p>F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。</p><p><br /></p><ul><li>F2etest WebDriver Hub 连接信息：</li></ul><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22host%EF%BC%9Af2etest.alibaba-inc.com%5Cnport%EF%BC%9A4444%22%2C%22id%22%3A%22Mz2hA%22%7D\\\"></card><p><br /></p><ul><li>初始化时提交的扩展（<span>查询地址：</span><a href=\\\"http://f2etest.xxx.com/webdriver\\\" target=\\\"_blank\\\">http://f2etest.xxx.com/webdriver</a>）：</li></ul><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22f2etest.userid%EF%BC%9A%E7%94%A8%E6%88%B7%E5%94%AF%E4%B8%80%E6%A0%87%E5%BF%97%20id%5Cnf2etest.apiKey%EF%BC%9Auseid%20%E5%AF%B9%E5%BA%94%E7%9A%84%E5%94%AF%E4%B8%80%20key%5Cnf2etest.hosts%EF%BC%9Ahosts%20%E7%BB%91%E5%AE%9A%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89%22%2C%22id%22%3A%22fhaQB%22%7D\\\"></card><p><br /></p><h3 id=\\\"5a88867b\\\">1.2 节点参数须知</h3><p><br /></p><ul><li><strong>WebDriver 闲置超时</strong>：60 秒（任务会话意外中断，60 秒后会自动结束，如果希望增加调试时间，请定时发起一次任意操作，以延后回收时间）。</li></ul><p><br /></p><ul><li><strong>节点回收轮询</strong>：5 秒（节点会话结束后，5 秒内会被重新放入执行机池）。</li></ul><p><br /></p><h2 id=\\\"85defb8f\\\">二、结合 UIRecorder 使用</h2><p><br /></p><h3 id=\\\"cb24786d\\\">2.1 概述</h3><p><br /></p><p>UIRecorder 是一款 “一端录制，多端使用” 的便捷 UI 自动化测试回归工具:</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1555001859084-139881ad-2aa6-43e5-957f-32edb4d4db3d.gif%22%2C%22originWidth%22%3A878%2C%22originHeight%22%3A494%2C%22name%22%3A%22Kapture%202019-04-01%20at%2011.53.49.gif%22%2C%22size%22%3A8012768%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A420%7D\\\"></card></p><p><br /></p><h3 id=\\\"997fd607\\\">2.2 使用方法</h3><p><br /></p><p>UIRecorder 调用 F2etest WebDriver Hub 的方法我们已经做了一层封装，只需简单修改配置文件，即可调用 WebDriver Hub。</p><p>       </p><ul><li><code>config.json</code> 主要字段含义如下：</li></ul><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%20%20%5C%22webdriver%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%5C%22host%5C%22%3A%20%5C%22f2etest.xxx.com%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20webdriver%20hub%20%E7%9A%84%20host%EF%BC%8C%E6%9C%AC%E5%9C%B0%E5%88%99%20127.0.0.1%5Cn%20%20%20%20%20%20%20%20%5C%22port%5C%22%3A%20%5C%224444%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E9%BB%98%E8%AE%A4%E7%AB%AF%E5%8F%A3%E5%8F%B7%E4%B8%BA%204444%5Cn%20%20%20%20%20%20%20%20%5C%22f2etest.userid%5C%22%3A%20%5C%22xxx%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E7%94%A8%E6%88%B7%E5%94%AF%E4%B8%80%E6%A0%87%E5%BF%97%EF%BC%88%E9%89%B4%E6%9D%83%E4%BD%BF%E7%94%A8%EF%BC%89%5Cn%20%20%20%20%20%20%20%20%5C%22f2etest.apiKey%5C%22%3A%20%5C%22xxx%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E7%94%A8%E6%88%B7%E5%94%AF%E4%B8%80%20key%EF%BC%88%E9%89%B4%E6%9D%83%E4%BD%BF%E7%94%A8%EF%BC%89%5Cn%20%20%20%20%20%20%20%20%5C%22browsers%5C%22%3A%20%5C%22chrome%5C%22%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E6%8C%87%E5%AE%9A%E5%9B%9E%E5%BD%92%E6%B5%8B%E8%AF%95%E6%B5%8F%E8%A7%88%E5%99%A8%E7%B1%BB%E5%9E%8B%5Cn%20%20%20%20%7D%2C%5Cn%7D%22%2C%22id%22%3A%22rIAI4%22%7D\\\"></card><p><br /></p><h2 id=\\\"968945a5\\\">三、JS 单元测试</h2><p><br /></p><h3 id=\\\"a0255241\\\">3.1 概述</h3><p><br /></p><p>JS 单元测试对于 JS 组件是最基础的质量覆盖手段，逻辑越复杂，使用率越高，单元测试的编写价值就越大。我们主要提供了基于 Karma 配合 F2etest 的执行机来实现JS单元测试的多浏览器持续集成解决方案。</p><p><br /></p><h3 id=\\\"47c32961\\\">3.2 使用方法</h3><p><br /></p><ol start=\\\"1\\\"><li>安装开发依赖：<code>npm i mocha karma karma-mocha-reporter karma-expect karma-coverage karma-chrome-laucher karma-webdriver-laucher --save-dev</code> 。</li></ol><p><br /></p><ol start=\\\"2\\\"><li>在 <a href=\\\"http://f2etest.alibaba-inc.com/jsunit\\\" target=\\\"_blank\\\">http://f2etest.alibaba-inc.com/jsunit</a> 下载 <code>karma.conf.js</code> 文件。</li></ol><p><br /></p><ol start=\\\"3\\\"><li>编辑 <code>package.json</code> 如下：<cursor /></li></ol><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20...%5Cn%20%20%5C%22scripts%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22test%5C%22%3A%20%5C%22.%2Fnode_modules%2F.bin%2Fkarma%20start%5C%22%2C%5Cn%20%20%20%20%5C%22f2etest%5C%22%3A%20%5C%22.%2Fnode_modules%2F.bin%2Fkarma%20start%20--single-run%20--browsers%20f2etest-chrome%2Cf2etest-firefox%2Cf2etest-ie8%2Cf2etest-ie9%2Cf2etest-ie10%2Cf2etest-ie11%5C%22%5Cn%20%20%7D%5Cn%20%20...%5Cn%7D%22%2C%22id%22%3A%22C9tMZ%22%7D\\\"></card><p><br /></p><ol start=\\\"4\\\"><li>新建测试用例 <code>test/test.spec.js</code>（编写方法及案例可参考 mocha 官方文档：<a href=\\\"https://mochajs.org/\\\" target=\\\"_blank\\\">https://mochajs.org</a>）：</li></ol><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22describe('%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B'%2C%20function%20()%20%7B%5Cn%20%20%20%20it('1%E7%AD%89%E4%BA%8E1'%2C%20function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20expect(1).to.equal(1)%3B%5Cn%20%20%20%20%20%20%20%20console.log('logtest')%3B%5Cn%20%20%20%20%7D)%3B%5Cn%7D)%3B%22%2C%22id%22%3A%22iQSX7%22%7D\\\"></card><p><br /></p><ol start=\\\"5\\\"><li>开发运行 <code>npm run test</code>（连接本地 Chrome 浏览器，监听文件变更并自动触发单元测试，并显示覆盖率情况）。</li></ol><p><br /></p><ol start=\\\"6\\\"><li>持续集成运行 <code>npm run f2etest</code>（在远端多个浏览器中同时执行单元测试，并获取覆盖率数据）</li></ol>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:04.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-11T16:57:21.000Z\",\"updated_at\":\"2019-04-23T06:15:31.000Z\",\"published_at\":\"2019-04-11T17:37:04.000Z\",\"first_published_at\":\"2019-04-11T17:04:14.000Z\",\"word_count\":653,\"cover\":null,\"description\":\"一、WebDirver 云1.1 使用方法F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。F2etest WebDriver Hub 连接信息：host：f2etest.alibaba-inc.com po...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-about-us":"{\"id\":1544485,\"slug\":\"about-us\",\"title\":\"关于我们\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"8a0439a0\\\"><strong>前端艺术家</strong></h2><p><br /></p><p>我们是「前端艺术家」。</p><p><br /></p><p><strong><span style=\\\"color: #191F25;\\\">艺术</span></strong><span style=\\\"color: #191F25;\\\">，我们首先会想到特别优美的作品，艺术家通常将美表现到极致，这里与我们前端开发的理念非常类似，我们希望用美的视角去开发人机交互界面，把体验做到极致，用极致的视角去做我们的技术架构、工程效能及用户体验，这就是前端艺术家！</span></p><p><br /></p><p>我们服务于阿里巴巴国际站，也为集团输出前端及体验技术支撑，包括但不限于：Web 前端、移动前端、NodeJS、ServerLess，以及相应的工程效能服务。国际站，一达通、阿里卖家 App 等背后都有我们的身影。加入我们，一起服务海量用户、挑战业务和技术极限！</p><p><br /></p><p>我们热爱分享，在深圳的阿里中心举办了首届<a href=\\\"https://artist.alibaba.com/\\\" target=\\\"_blank\\\">《前端艺术家沙龙》</a>。</p><p><br /></p><p>我们拥抱开源，我们维护的著名开源项目，包括但不限于：</p><p><br /></p><p><span>F2etest - 多浏览器兼容性测试方案。</span></p><p><br /></p><p><span>UIRecorder - </span>一款零成本UI自动化录制工具<span>。</span></p><p><br /></p><p>NoPage - 一个更好的 CRUD 方案。</p><p><br /></p><p>加入我们，一起磨砺技艺，为开源事业添砖加瓦。</p><p><br /></p><p><br /></p><h2 id=\\\"258a4b3f\\\">钉钉服务群</h2><p><br /></p><p><img alt=\\\"TB184QkMIbpK1RjSZFyXXX_qFXa-300-300.png_190x190.jpg\\\" title=\\\"TB184QkMIbpK1RjSZFyXXX_qFXa-300-300.png_190x190.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/182712/1555470856085-7a6fdeb3-55ab-4a94-bbce-c9ae5dab8c9c.jpeg#align=left&amp;display=inline&amp;height=190&amp;name=TB184QkMIbpK1RjSZFyXXX_qFXa-300-300.png_190x190.jpg&amp;originHeight=190&amp;originWidth=190&amp;size=25380&amp;status=done&amp;width=190\\\" style=\\\"max-width: 600px; width: 190px;\\\" /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"8a0439a0\\\"><strong>前端艺术家</strong></h2><p><br /></p><p>我们是「前端艺术家」。</p><p><br /></p><p><strong><span style=\\\"color: #191F25;\\\">艺术</span></strong><span style=\\\"color: #191F25;\\\">，我们首先会想到特别优美的作品，艺术家通常将美表现到极致，这里与我们前端开发的理念非常类似，我们希望用美的视角去开发人机交互界面，把体验做到极致，用极致的视角去做我们的技术架构、工程效能及用户体验，这就是前端艺术家！<cursor /></span></p><p><br /></p><p>我们服务于阿里巴巴国际站，也为集团输出前端及体验技术支撑，包括但不限于：Web 前端、移动前端、NodeJS、ServerLess，以及相应的工程效能服务。国际站，一达通、阿里卖家 App 等背后都有我们的身影。加入我们，一起服务海量用户、挑战业务和技术极限！</p><p><br /></p><p>我们热爱分享，在深圳的阿里中心举办了首届<a href=\\\"https://artist.alibaba.com/\\\" target=\\\"_blank\\\">《前端艺术家沙龙》</a>。</p><p><br /></p><p>我们拥抱开源，我们维护的著名开源项目，包括但不限于：</p><p><br /></p><p><span>F2etest - 多浏览器兼容性测试方案。</span></p><p><br /></p><p><span>UIRecorder - </span>一款零成本UI自动化录制工具<span>。</span></p><p><br /></p><p>NoPage - 一个更好的 CRUD 方案。</p><p><br /></p><p>加入我们，一起磨砺技艺，为开源事业添砖加瓦。</p><p><br /></p><p><br /></p><h2 id=\\\"258a4b3f\\\">钉钉服务群</h2><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F182712%2F1555470856085-7a6fdeb3-55ab-4a94-bbce-c9ae5dab8c9c.jpeg%22%2C%22originWidth%22%3A190%2C%22originHeight%22%3A190%2C%22name%22%3A%22TB184QkMIbpK1RjSZFyXXX_qFXa-300-300.png_190x190.jpg%22%2C%22size%22%3A25380%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A190%2C%22height%22%3A190%7D\\\"></card></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-23T05:37:51.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-16T06:50:21.000Z\",\"updated_at\":\"2019-04-23T06:15:38.000Z\",\"published_at\":\"2019-04-23T05:37:51.000Z\",\"first_published_at\":\"2019-04-16T06:50:26.000Z\",\"word_count\":317,\"cover\":null,\"description\":\"前端艺术家我们是「前端艺术家」。艺术，我们首先会想到特别优美的作品，艺术家通常将美表现到极致，这里与我们前端开发的理念非常类似，我们希望用美的视角去开发人机交互界面，把体验做到极致，用极致的视角去做我们的技术架构、工程效能及用户体验，这就是前端艺术家！我们服务于阿里巴巴国际站，也为集团输出前端...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-architecture":"{\"id\":1486447,\"slug\":\"architecture\",\"title\":\"整体架构\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"3fe918c2\\\">一、名词释义</h2><p><br /></p><ul><li><strong>浏览器云</strong>： 提供真实的多浏览器兼容性环境，还原真实测试场景。</li><li><strong>WebDriver</strong>：<a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">https://w3c.github.io/webdriver/</a>，WebDriver 是一个远程控制接口，可以对用户代理进行<a href=\\\"https://zh.wikipedia.org/wiki/%E5%86%85%E7%9C%81_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)\\\" target=\\\"_blank\\\">内省</a>和控制。它提供了一种平台和语言中立的 <a href=\\\"https://en.wikipedia.org/wiki/Wire_protocol\\\" target=\\\"_blank\\\">wire protocol</a>，来作为进程外程序远程控制 Web 浏览器行为的一种方式。</li><li><strong>WebDriver 云</strong>：基于自动化测试工具 <a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">WebDriver</a>，快速稳定的支撑自动化测试脚本的运行。</li><li><a href=\\\"https://guacamole.apache.org/\\\" target=\\\"_blank\\\"><code>Guacamole</code></a>：无客户端的远程桌面网关，通俗一点来说则是，通过浏览器实现与 Windows 服务器的远程连接（一般情况我们是使用 RDP 客户端进行远程连接的），包含 <code>guacamole-client</code> 和 <code>guacd</code> 两个模块。</li><li><strong>RemoteApp</strong>：<a href=\\\"https://techcommunity.microsoft.com/t5/Enterprise-Mobility-Security/Introducing-RemoteApp-and-Desktop-Connections/ba-p/246803?collapse_discussion=true&amp;q=remoteApp&amp;search_type=thread\\\" target=\\\"_blank\\\">RemoteApp</a> 是微软在 Windows Server 2008 之后，在其系统中集成的一项服务功能，使用户可以通过远程桌面访问远端的桌面与程序，客户端本机无须安装系统与应用程序的情况下也能正常使用远端发布的各种的桌面与应用。</li></ul><p><br /></p><h2 id=\\\"f455c1a7\\\">二、技术架构</h2><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554715508864-30b9c0f8-b614-4a51-8882-65bf7a770f25.png#align=left&amp;display=inline&amp;height=898&amp;originHeight=1650&amp;originWidth=1370&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h3 id=\\\"c0e9cd8e\\\">2.1 F2etest-web</h3><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1554715508865-9c751174-69e1-47a9-b205-9bdbfed005bf.gif#align=left&amp;display=inline&amp;height=412&amp;originHeight=565&amp;originWidth=1024&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>我们将部署在 Linux 服务器上的模块统称为 F2etest-web，其主要职责是：</p><p><br /></p><ul><li>为浏览器云提供用户操作入口；</li><li>为 WebDriver 云提供负载均衡服务。<br />\\n具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web\\\" target=\\\"_blank\\\">《F2etest-web 架构》</a></li></ul><p><br /></p><h3 id=\\\"459d680c\\\">2.2 浏览器云</h3><p><br /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716548925-e18c5310-2978-4549-a0e8-1b23b01fe0b3.png#align=left&amp;display=inline&amp;height=494&amp;name=image.png&amp;originHeight=494&amp;originWidth=878&amp;size=339228&amp;status=done&amp;width=878\\\" style=\\\"max-width: 600px; width: 878px;\\\" /><br /></p><p><br /></p><p>浏览器云的理念主要是“打开即用”，基于多浏览兼容测试环境搭建的痛点，我们在一批 Windows Server 集群上分别安装了不同版本的浏览器，通过远程桌面协议的方式集成至 F2etest 平台。这样，所有用户都可以 F2etest 平台直接使用不同类型的浏览器，极大降低了用户搭建和维护测试环境的成本。</p><p>具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/browser-cloud\\\" target=\\\"_blank\\\">《浏览器云架构》</a></p><p><br /></p><h3 id=\\\"20613dfe\\\">2.3 WebDriver 云</h3><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554715508862-3dd44041-2ff7-4118-8fb9-a9174abd5ff6.png#align=left&amp;display=inline&amp;height=368&amp;originHeight=721&amp;originWidth=1462&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>WebDriver 利用浏览器原生的 API，封装了一层 WebDriver API，可以直接操作浏览器页面的 DOM 节点元素，甚至操作浏览器本身（截屏，窗口大小，启动，关闭，安装插件，配置证书之类的）。WebDriver 云则是基于 WebDriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。</p><p>具体实现原理请参考 <a href=\\\"https://www.yuque.com/artist/f2etest/webdriver-cloud\\\" target=\\\"_blank\\\">《WebDriver 云实现原理》</a>。</p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"3fe918c2\\\">一、名词释义</h2><p><br /></p><ul><li><strong>浏览器云</strong>： 提供真实的多浏览器兼容性环境，还原真实测试场景。</li><li><strong>WebDriver</strong>：<a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">https://w3c.github.io/webdriver/</a>，WebDriver 是一个远程控制接口，可以对用户代理进行<a href=\\\"https://zh.wikipedia.org/wiki/%E5%86%85%E7%9C%81_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)\\\" target=\\\"_blank\\\">内省</a>和控制。它提供了一种平台和语言中立的 <a href=\\\"https://en.wikipedia.org/wiki/Wire_protocol\\\" target=\\\"_blank\\\">wire protocol</a>，来作为进程外程序远程控制 Web 浏览器行为的一种方式。</li><li><strong>WebDriver 云</strong>：基于自动化测试工具 <a href=\\\"https://w3c.github.io/webdriver/\\\" target=\\\"_blank\\\">WebDriver</a>，快速稳定的支撑自动化测试脚本的运行。</li><li><a href=\\\"https://guacamole.apache.org/\\\" target=\\\"_blank\\\"><code>Guacamole</code></a>：无客户端的远程桌面网关，通俗一点来说则是，通过浏览器实现与 Windows 服务器的远程连接（一般情况我们是使用 RDP 客户端进行远程连接的），包含 <code>guacamole-client</code> 和 <code>guacd</code> 两个模块。</li><li><strong>RemoteApp</strong>：<a href=\\\"https://techcommunity.microsoft.com/t5/Enterprise-Mobility-Security/Introducing-RemoteApp-and-Desktop-Connections/ba-p/246803?collapse_discussion=true&amp;q=remoteApp&amp;search_type=thread\\\" target=\\\"_blank\\\">RemoteApp</a> 是微软在 Windows Server 2008 之后，在其系统中集成的一项服务功能，使用户可以通过远程桌面访问远端的桌面与程序，客户端本机无须安装系统与应用程序的情况下也能正常使用远端发布的各种的桌面与应用。</li></ul><p><br /></p><h2 id=\\\"f455c1a7\\\">二、技术架构</h2><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554715508864-30b9c0f8-b614-4a51-8882-65bf7a770f25.png%22%2C%22originWidth%22%3A1370%2C%22originHeight%22%3A1650%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A898%7D\\\"></card></p><p><br /></p><h3 id=\\\"c0e9cd8e\\\">2.1 F2etest-web</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1554715508865-9c751174-69e1-47a9-b205-9bdbfed005bf.gif%22%2C%22originWidth%22%3A1024%2C%22originHeight%22%3A565%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A412%7D\\\"></card></p><p><br /></p><p>我们将部署在 Linux 服务器上的模块统称为 F2etest-web，其主要职责是：</p><p><br /></p><ul><li>为浏览器云提供用户操作入口；</li><li>为 WebDriver 云提供负载均衡服务。<br />\\n具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web\\\" target=\\\"_blank\\\">《F2etest-web 架构》</a></li></ul><p><br /></p><h3 id=\\\"459d680c\\\">2.2 浏览器云</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716548925-e18c5310-2978-4549-a0e8-1b23b01fe0b3.png%22%2C%22originWidth%22%3A878%2C%22originHeight%22%3A494%2C%22name%22%3A%22image.png%22%2C%22size%22%3A339228%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A878%2C%22height%22%3A494%7D\\\"></card><br /></p><p><br /></p><p>浏览器云的理念主要是“打开即用”，基于多浏览兼容测试环境搭建的痛点，我们在一批 Windows Server 集群上分别安装了不同版本的浏览器，通过远程桌面协议的方式集成至 F2etest 平台。这样，所有用户都可以 F2etest 平台直接使用不同类型的浏览器，极大降低了用户搭建和维护测试环境的成本。</p><p>具体实现原理请参考<a href=\\\"https://www.yuque.com/artist/f2etest/browser-cloud\\\" target=\\\"_blank\\\">《浏览器云架构》</a></p><p><br /></p><h3 id=\\\"20613dfe\\\">2.3 WebDriver 云</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554715508862-3dd44041-2ff7-4118-8fb9-a9174abd5ff6.png%22%2C%22originWidth%22%3A1462%2C%22originHeight%22%3A721%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A368%7D\\\"></card></p><p><br /></p><p>WebDriver 利用浏览器原生的 API，封装了一层 WebDriver API，可以直接操作浏览器页面的 DOM 节点元素，甚至操作浏览器本身（截屏，窗口大小，启动，关闭，安装插件，配置证书之类的）。WebDriver 云则是基于 WebDriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。</p><p>具体实现原理请参考 <a href=\\\"https://www.yuque.com/artist/f2etest/webdriver-cloud\\\" target=\\\"_blank\\\">《WebDriver 云实现原理》</a>。</p><p><cursor /><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:39:44.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:24:37.000Z\",\"updated_at\":\"2019-04-23T06:14:53.000Z\",\"published_at\":\"2019-04-16T16:39:44.000Z\",\"first_published_at\":\"2019-04-08T09:25:48.000Z\",\"word_count\":604,\"cover\":null,\"description\":\"一、名词释义浏览器云： 提供真实的多浏览器兼容性环境，还原真实测试场景。WebDriver：https://w3c.github.io/webdriver/，WebDriver 是一个远程控制接口，可以对用户代理进行内省和控制。它提供了一种平台和语言中立的 wire protocol，来作为进...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-browser-cloud":"{\"id\":1486626,\"slug\":\"browser-cloud\",\"title\":\"浏览器云架构\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"cffab21d\\\">一、浏览器云的工作原理</h2><p><img alt=\\\"原理大图.jpg\\\" title=\\\"原理大图.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/182712/1554716628801-d0a3bc18-3707-41d5-b7b2-a8552ef4a03e.jpeg#align=left&amp;display=inline&amp;height=699&amp;name=%E5%8E%9F%E7%90%86%E5%A4%A7%E5%9B%BE.jpg&amp;originHeight=1150&amp;originWidth=806&amp;size=98615&amp;status=done&amp;width=490\\\" style=\\\"max-width: 600px; width: 490px;\\\" /></p><p><br /></p><p>浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 <span>Windows Server 为例。</span></p><p><br /></p><p>客户从浏览器启动应用，看到 Windows Server 的远程桌面，到和远程桌面的交互。过程涉及到浏览器云提供的三个比较关键的功能点。<strong>远程桌面</strong>，<strong>用户管理</strong>和<strong>启动应用。</strong></p><p><br /></p><h3 id=\\\"86916edb\\\">1.1 远程桌面</h3><p><br /></p><p>用户在访问 F2etest 门户，点击浏览器的 icon，进入如下界面。</p><p><br /></p><p><img alt=\\\"f2e-browser.jpg\\\" title=\\\"f2e-browser.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/182712/1554716628811-d4ec2863-e503-445b-a49e-3b30455840b7.jpeg#align=left&amp;display=inline&amp;height=393&amp;name=f2e-browser.jpg&amp;originHeight=1516&amp;originWidth=2878&amp;size=243089&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>用户<span>实际上</span>是建立了一个远程桌面的访问，通过浏览器直接访问到了 Windows Server 机器上了。远程桌面会话的建立是通过 Linux 机器上的 Guacamole Server 与 Windows Server 自身的远程桌面服务完成的。<span>Guacamole 是</span>一个提供远程桌面的解决方案的开源项目，用户通过浏览器就能操作虚拟机。</p><p><br /></p><p><span>Guacamole 提供了多种与远程机器的连接协议，</span><span>F2etest 使用的是只需要配置IP和端口号就可以连接的 RDP 协议。登录如下图所示，输入账号和密码即可连接。</span></p><p><img alt=\\\"Windows-Login.png\\\" title=\\\"Windows-Login.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716628810-2d0483f8-4f9e-4eea-a1d8-3d43ca253650.png#align=left&amp;display=inline&amp;height=337&amp;name=Windows-Login.png&amp;originHeight=337&amp;originWidth=747&amp;size=29883&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><br /></p><h3 id=\\\"3851ccf1\\\">1.2 用户管理</h3><p><br /></p><p>为了做到多个用户可以同时访问 F2etest 而不相互干扰，每个用户远程访问浏览器云是作为一个独立的用户。<span>浏览器云使用的 </span>Windows Server 服务器和 Linux 相似，是支持多用户独立访问的。多用户的管理是通过 <span>Windows Server 系统本身来实现的，新用户的添加是由 F2etest 实现的。</span></p><p><br /></p><h5 id=\\\"49a51f68\\\">添加用户</h5><p><br /></p><p>配置 IIS 服务器，将 vb 脚本 setuser.asp 添加到 IIS 服务，对外提供服务。</p><p><br /></p><pre><code>setuser.asp\\n\\nfunction setUserPassword(username, password)\\n    On Error Resume Next\\n    dim oSystem,oUser,oGroup\\n    \\n    Set oSystem=GetObject(&quot;WinNT://127.0.0.1&quot;)\\n    \\n    Set oUser=oSystem.GetObject(&quot;user&quot;,username)\\n\\n    if err &lt;&gt; 0 then\\n        err = 0\\n        ' 增加新用户\\n        Set oUser=oSystem.Create(&quot;user&quot;,username)\\n        oUser.SetPassword password\\n        oUser.Put &quot;userFlags&quot;, &amp;h10040 '密码永不过期\\n        oUser.Setinfo\\n        \\n        Set oGroup=oSystem.GetObject(&quot;Group&quot;,&quot;Users&quot;)\\n        oGroup.Add (&quot;winnt://&quot;&amp;username)\\n    else\\n        ' 修改密码\\n        oUser.SetPassword password\\n        oUser.Setinfo\\n    end if\\nend function </code></pre><p><br /></p><p>访问添加用户链接效果如下。</p><p><img alt=\\\"setuser.jpg\\\" title=\\\"setuser.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/182712/1554716628819-d1b3884b-4943-4c79-96b2-a0857df47832.jpeg#align=left&amp;display=inline&amp;height=514&amp;name=setuser.jpg&amp;originHeight=1268&amp;originWidth=1840&amp;size=131328&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h4 id=\\\"d41d8cd9\\\"><br /></h4><h3 id=\\\"7db0e8c6\\\">1.3 启动应用</h3><p><br /></p><p>用户在浏览器点击应用图标的时候，是怎么启动浏览器云上的应用的呢？F2etest 使用到了 RemoteApp 功能。RemoteApp 和桌面连接是一项用于访问工作区网络管理员提供的程序和桌面（远程计算机和虚拟计算机）的功能。当您在家时，您可以访问通常在工作时需要使用的所有程序和计算机。通过连接，所有这些资源都位于计算机上一个容易访问的文件夹中。几乎可以像在本地网络或自己的计算机上一样使用这些资源。</p><p><br /></p><p>以启动 Chrome 浏览器的脚本为例，首先会把 <strong>f2etest-browsers/app/特殊应用/chrome.bat </strong>文件添加到Windows Server 的 RemoteApp 服务中。</p><p><br /></p><p>chrome.bat 关键代码如下。</p><p><br /></p><pre><code>@echo off\\n\\nrem 请这里配置f2etest的域名\\nset f2etestDomain=f2etest.xxx.com\\nset appid=chrome\\n\\nrem 命令行参数\\nset proxymode=&quot;%1&quot;\\nset proxyurl=%2\\nset url=%3\\nset apiKey=%4\\n\\nrem 设置代理\\nset proxypath=&quot;HKCU\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Internet Settings&quot;\\nreg add %proxypath% /v &quot;ProxyEnable&quot; /t REG_DWORD /d 0 /f&gt;nul \\nset proxydef=\\nif %proxyurl% equ &quot;&quot; set proxydef=1\\nif %proxyurl% equ default set proxydef=1\\nif %proxyurl% equ &quot;default&quot; set proxydef=1\\nif defined proxydef set proxyurl=&quot;http://%f2etestDomain%/getHosts.pac?name=%USERNAME%&quot;\\nif %proxymode% equ &quot;noproxy&quot; (\\n\\tset proxyurl=&quot;&quot;\\n)\\nif %proxyurl% neq &quot;&quot; (\\n\\trem 开启代理\\n\\treg add %proxypath% /v &quot;AutoConfigURL&quot; /d %proxyurl% /f &gt;nul\\n) else (\\n\\trem 关闭代理\\n\\treg delete %proxypath% /v &quot;AutoConfigURL&quot; /f &gt; nul\\n)\\n\\nrem 打开应用\\ntaskkill /fi &quot;username eq %username%&quot; /s %computername% /u %username% /f -IM chrome.exe &gt;nul\\nstart /MAX &quot;&quot; &quot;C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot; --allow-no-sandbox-job %url% %proxyParam%\\n\\nrem 打点统计\\nstart &quot;&quot; curl &quot;http://%f2etestDomain%/applog?userid=%USERNAME%&amp;appid=%appid%&amp;isweb=%isWeb%&quot;\\n</code></pre><p><br /></p><p>通过接收请求 URL 链接里的参数来设置代理模式，代理 IP 等，最后启动本地的 Chrome 应用。</p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"cffab21d\\\"><anchor />一<focus />、浏览器云的工作原理</h2><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F182712%2F1554716628801-d0a3bc18-3707-41d5-b7b2-a8552ef4a03e.jpeg%22%2C%22originWidth%22%3A806%2C%22originHeight%22%3A1150%2C%22name%22%3A%22%E5%8E%9F%E7%90%86%E5%A4%A7%E5%9B%BE.jpg%22%2C%22size%22%3A98615%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A490%2C%22height%22%3A699%7D\\\"></card></p><p><br /></p><p>浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 <span>Windows Server 为例。</span></p><p><br /></p><p>客户从浏览器启动应用，看到 Windows Server 的远程桌面，到和远程桌面的交互。过程涉及到浏览器云提供的三个比较关键的功能点。<strong>远程桌面</strong>，<strong>用户管理</strong>和<strong>启动应用。</strong></p><p><br /></p><h3 id=\\\"86916edb\\\">1.1 远程桌面</h3><p><br /></p><p>用户在访问 F2etest 门户，点击浏览器的 icon，进入如下界面。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F182712%2F1554716628811-d4ec2863-e503-445b-a49e-3b30455840b7.jpeg%22%2C%22originWidth%22%3A2878%2C%22originHeight%22%3A1516%2C%22name%22%3A%22f2e-browser.jpg%22%2C%22size%22%3A243089%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A393%7D\\\"></card></p><p><br /></p><p>用户<span>实际上</span>是建立了一个远程桌面的访问，通过浏览器直接访问到了 Windows Server 机器上了。远程桌面会话的建立是通过 Linux 机器上的 Guacamole Server 与 Windows Server 自身的远程桌面服务完成的。<span>Guacamole 是</span>一个提供远程桌面的解决方案的开源项目，用户通过浏览器就能操作虚拟机。</p><p><br /></p><p><span>Guacamole 提供了多种与远程机器的连接协议，</span><span>F2etest 使用的是只需要配置IP和端口号就可以连接的 RDP 协议。登录如下图所示，输入账号和密码即可连接。</span></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716628810-2d0483f8-4f9e-4eea-a1d8-3d43ca253650.png%22%2C%22originWidth%22%3A747%2C%22originHeight%22%3A337%2C%22name%22%3A%22Windows-Login.png%22%2C%22size%22%3A29883%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A337%7D\\\"></card></p><p><br /></p><p><br /></p><h3 id=\\\"3851ccf1\\\">1.2 用户管理</h3><p><br /></p><p>为了做到多个用户可以同时访问 F2etest 而不相互干扰，每个用户远程访问浏览器云是作为一个独立的用户。<span>浏览器云使用的 </span>Windows Server 服务器和 Linux 相似，是支持多用户独立访问的。多用户的管理是通过 <span>Windows Server 系统本身来实现的，新用户的添加是由 F2etest 实现的。</span></p><p><br /></p><h5 id=\\\"49a51f68\\\">添加用户</h5><p><br /></p><p>配置 IIS 服务器，将 vb 脚本 setuser.asp 添加到 IIS 服务，对外提供服务。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22setuser.asp%5Cn%5Cnfunction%20setUserPassword(username%2C%20password)%5Cn%20%20%20%20On%20Error%20Resume%20Next%5Cn%20%20%20%20dim%20oSystem%2CoUser%2CoGroup%5Cn%20%20%20%20%5Cn%20%20%20%20Set%20oSystem%3DGetObject(%5C%22WinNT%3A%2F%2F127.0.0.1%5C%22)%5Cn%20%20%20%20%5Cn%20%20%20%20Set%20oUser%3DoSystem.GetObject(%5C%22user%5C%22%2Cusername)%5Cn%5Cn%20%20%20%20if%20err%20%3C%3E%200%20then%5Cn%20%20%20%20%20%20%20%20err%20%3D%200%5Cn%20%20%20%20%20%20%20%20'%20%E5%A2%9E%E5%8A%A0%E6%96%B0%E7%94%A8%E6%88%B7%5Cn%20%20%20%20%20%20%20%20Set%20oUser%3DoSystem.Create(%5C%22user%5C%22%2Cusername)%5Cn%20%20%20%20%20%20%20%20oUser.SetPassword%20password%5Cn%20%20%20%20%20%20%20%20oUser.Put%20%5C%22userFlags%5C%22%2C%20%26h10040%20'%E5%AF%86%E7%A0%81%E6%B0%B8%E4%B8%8D%E8%BF%87%E6%9C%9F%5Cn%20%20%20%20%20%20%20%20oUser.Setinfo%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20Set%20oGroup%3DoSystem.GetObject(%5C%22Group%5C%22%2C%5C%22Users%5C%22)%5Cn%20%20%20%20%20%20%20%20oGroup.Add%20(%5C%22winnt%3A%2F%2F%5C%22%26username)%5Cn%20%20%20%20else%5Cn%20%20%20%20%20%20%20%20'%20%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%5Cn%20%20%20%20%20%20%20%20oUser.SetPassword%20password%5Cn%20%20%20%20%20%20%20%20oUser.Setinfo%5Cn%20%20%20%20end%20if%5Cnend%20function%20%22%2C%22id%22%3A%22iOjXq%22%7D\\\"></card><p><br /></p><p>访问添加用户链接效果如下。</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F182712%2F1554716628819-d1b3884b-4943-4c79-96b2-a0857df47832.jpeg%22%2C%22originWidth%22%3A1840%2C%22originHeight%22%3A1268%2C%22name%22%3A%22setuser.jpg%22%2C%22size%22%3A131328%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A514%7D\\\"></card></p><h4 id=\\\"d41d8cd9\\\"><br /></h4><h3 id=\\\"7db0e8c6\\\">1.3 启动应用</h3><p><br /></p><p>用户在浏览器点击应用图标的时候，是怎么启动浏览器云上的应用的呢？F2etest 使用到了 RemoteApp 功能。RemoteApp 和桌面连接是一项用于访问工作区网络管理员提供的程序和桌面（远程计算机和虚拟计算机）的功能。当您在家时，您可以访问通常在工作时需要使用的所有程序和计算机。通过连接，所有这些资源都位于计算机上一个容易访问的文件夹中。几乎可以像在本地网络或自己的计算机上一样使用这些资源。</p><p><br /></p><p>以启动 Chrome 浏览器的脚本为例，首先会把 <strong>f2etest-browsers/app/特殊应用/chrome.bat </strong>文件添加到Windows Server 的 RemoteApp 服务中。</p><p><br /></p><p>chrome.bat 关键代码如下。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%40echo%20off%5Cn%5Cnrem%20%E8%AF%B7%E8%BF%99%E9%87%8C%E9%85%8D%E7%BD%AEf2etest%E7%9A%84%E5%9F%9F%E5%90%8D%5Cnset%20f2etestDomain%3Df2etest.xxx.com%5Cnset%20appid%3Dchrome%5Cn%5Cnrem%20%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0%5Cnset%20proxymode%3D%5C%22%251%5C%22%5Cnset%20proxyurl%3D%252%5Cnset%20url%3D%253%5Cnset%20apiKey%3D%254%5Cn%5Cnrem%20%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86%5Cnset%20proxypath%3D%5C%22HKCU%5C%5CSoftware%5C%5CMicrosoft%5C%5CWindows%5C%5CCurrentVersion%5C%5CInternet%20Settings%5C%22%5Cnreg%20add%20%25proxypath%25%20%2Fv%20%5C%22ProxyEnable%5C%22%20%2Ft%20REG_DWORD%20%2Fd%200%20%2Ff%3Enul%20%5Cnset%20proxydef%3D%5Cnif%20%25proxyurl%25%20equ%20%5C%22%5C%22%20set%20proxydef%3D1%5Cnif%20%25proxyurl%25%20equ%20default%20set%20proxydef%3D1%5Cnif%20%25proxyurl%25%20equ%20%5C%22default%5C%22%20set%20proxydef%3D1%5Cnif%20defined%20proxydef%20set%20proxyurl%3D%5C%22http%3A%2F%2F%25f2etestDomain%25%2FgetHosts.pac%3Fname%3D%25USERNAME%25%5C%22%5Cnif%20%25proxymode%25%20equ%20%5C%22noproxy%5C%22%20(%5Cn%5Ctset%20proxyurl%3D%5C%22%5C%22%5Cn)%5Cnif%20%25proxyurl%25%20neq%20%5C%22%5C%22%20(%5Cn%5Ctrem%20%E5%BC%80%E5%90%AF%E4%BB%A3%E7%90%86%5Cn%5Ctreg%20add%20%25proxypath%25%20%2Fv%20%5C%22AutoConfigURL%5C%22%20%2Fd%20%25proxyurl%25%20%2Ff%20%3Enul%5Cn)%20else%20(%5Cn%5Ctrem%20%E5%85%B3%E9%97%AD%E4%BB%A3%E7%90%86%5Cn%5Ctreg%20delete%20%25proxypath%25%20%2Fv%20%5C%22AutoConfigURL%5C%22%20%2Ff%20%3E%20nul%5Cn)%5Cn%5Cnrem%20%E6%89%93%E5%BC%80%E5%BA%94%E7%94%A8%5Cntaskkill%20%2Ffi%20%5C%22username%20eq%20%25username%25%5C%22%20%2Fs%20%25computername%25%20%2Fu%20%25username%25%20%2Ff%20-IM%20chrome.exe%20%3Enul%5Cnstart%20%2FMAX%20%5C%22%5C%22%20%5C%22C%3A%5C%5CProgram%20Files%20(x86)%5C%5CGoogle%5C%5CChrome%5C%5CApplication%5C%5Cchrome.exe%5C%22%20--allow-no-sandbox-job%20%25url%25%20%25proxyParam%25%5Cn%5Cnrem%20%E6%89%93%E7%82%B9%E7%BB%9F%E8%AE%A1%5Cnstart%20%5C%22%5C%22%20curl%20%5C%22http%3A%2F%2F%25f2etestDomain%25%2Fapplog%3Fuserid%3D%25USERNAME%25%26appid%3D%25appid%25%26isweb%3D%25isWeb%25%5C%22%5Cn%22%2C%22id%22%3A%226iWA7%22%7D\\\"></card><p><br /></p><p>通过接收请求 URL 链接里的参数来设置代理模式，代理 IP 等，最后启动本地的 Chrome 应用。</p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-10T07:44:08.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:43:45.000Z\",\"updated_at\":\"2019-04-23T06:15:01.000Z\",\"published_at\":\"2019-04-10T07:44:08.000Z\",\"first_published_at\":\"2019-04-08T09:46:57.000Z\",\"word_count\":1042,\"cover\":null,\"description\":\"一、浏览器云的工作原理浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 Windows Server 为例。客户从浏览器启动应用，看到 Windows Server 的远程桌面，到...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-browser-cloud-install":"{\"id\":1539695,\"slug\":\"browser-cloud-install\",\"title\":\"浏览器云部署\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建<strong>浏览器云</strong>最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"1ab99133\\\">二、目标</h2><p><br /></p><p>在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。</p><p><br /></p><h2 id=\\\"f4f988c6\\\">三、部署</h2><p><br /></p><p>要使 F2etest 可以运行起来，总结起来，在 <span>Windows Server 上我们要做如下的配置工作。</span></p><p><br /></p><ul><li>取消登陆密码复杂性 - F2etest 的登陆</li><li>禁用 IE ESC - 防止在浏览器操作时，按了 ESC 导致 IE 浏览器退出</li><li>安装远程桌面服务</li><li>配置远程桌面服务</li><li>部署 IIS 服务 - 提供新建用户服务脚本</li><li>配置应用程序 - <span>IE 8 浏览器与 </span><span>hostShare 应用</span></li></ul><h3 id=\\\"d41d8cd9\\\"><br /></h3><h4 id=\\\"57a30893\\\"><span>3.1 取消登陆密码复杂性</span></h4><p><span><br /></span></p><p>运行中输入 <code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\">gpedit.msc</span></code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> 打开本地策略编辑器</span></p><p><span><br /><img alt=\\\"0.jpg\\\" title=\\\"0.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407435808-ffe71809-a207-40ac-bece-7be4bc890381.jpeg#align=left&amp;display=inline&amp;height=561&amp;name=0.jpg&amp;originHeight=1008&amp;originWidth=816&amp;size=56381&amp;status=done&amp;width=454\\\" style=\\\"max-width: 600px; width: 454px;\\\" /></span></p><p><span><br /></span></p><p><span>修改 账户策略 - 密码策略</span></p><p><span><br /></span></p><p><span><img alt=\\\"1-1.jpg\\\" title=\\\"1-1.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407511180-4f34bb85-cb17-42f2-acc8-ab8199cc25f4.jpeg#align=left&amp;display=inline&amp;height=563&amp;name=1-1.jpg&amp;originHeight=1168&amp;originWidth=1548&amp;size=275351&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><h4 id=\\\"8f3043fb\\\">3.2 禁用 IE ESC</h4><p><br /></p><p>进入服务器管理</p><p><br /></p><p><img alt=\\\"44.jpg\\\" title=\\\"44.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407716281-c24d77ec-5445-4f8f-a47e-b4616c00dfda.jpeg#align=left&amp;display=inline&amp;height=647&amp;name=44.jpg&amp;originHeight=1206&amp;originWidth=1390&amp;size=217191&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>配置 IE ESC</p><p><br /></p><p><img alt=\\\"2.jpg\\\" title=\\\"2.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407635593-20f31ac7-9214-40b2-bfd4-7b113162ad07.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=2.jpg&amp;originHeight=737&amp;originWidth=1020&amp;size=151620&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h4 id=\\\"0851fc06\\\">3.3 安装远程桌面服务</h4><p><br /></p><p>服务器管理 - 角色 - 添加角色。</p><p><br /></p><p><img alt=\\\"3.jpg\\\" title=\\\"3.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407791771-86e26770-6e18-4de5-8be7-b665054aedd2.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=3.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=142805&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>角色服务，勾选远程桌面会话主机，远程桌面授权和远程桌面 Web 访问。</p><p><br /><img alt=\\\"4.jpg\\\" title=\\\"4.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407830429-f8bbed11-9b11-4a6b-861a-679d280fe97f.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=4.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=133428&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>应用程序兼容性，下一步。</p><p><br /><img alt=\\\"5.jpg\\\" title=\\\"5.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407889574-a3b6155b-7fb2-4b3d-b2c9-b73b6b26ed89.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=5.jpg&amp;originHeight=735&amp;originWidth=1020&amp;size=125641&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>身份验证方法，选择不需要使用网络级别身份验证，下一步。</p><p><br /><img alt=\\\"6.jpg\\\" title=\\\"6.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407921371-b5ed9314-dd13-4a49-b891-231066aca4a9.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=6.jpg&amp;originHeight=734&amp;originWidth=1018&amp;size=156132&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>授权模式，选择每用户，下一步。</p><p><br /></p><p><img alt=\\\"7.jpg\\\" title=\\\"7.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407980411-fec550d4-3f53-4ae2-b864-710885d80833.jpeg#align=left&amp;display=inline&amp;height=541&amp;name=7.jpg&amp;originHeight=736&amp;originWidth=1015&amp;size=138092&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>用户组，按照如下面所示，添加 Authenticated User，下一步。</p><p><br /></p><p><img alt=\\\"8.jpg\\\" title=\\\"8.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408007958-4d338e71-1d71-4fc0-ab55-b4ab354f462e.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=8.jpg&amp;originHeight=735&amp;originWidth=1019&amp;size=121055&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"9.jpg\\\" title=\\\"9.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408041993-048b7151-1dac-448d-a49a-ecdc9362a33a.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=9.jpg&amp;originHeight=737&amp;originWidth=1019&amp;size=121096&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><img alt=\\\"10.jpg\\\" title=\\\"10.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408057007-46611fa1-0b82-4ab5-a217-1d63693715d7.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=10.jpg&amp;originHeight=735&amp;originWidth=1019&amp;size=142227&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"11.jpg\\\" title=\\\"11.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408066915-161a1c11-806c-47c3-b9f3-285fd9250b4a.jpeg#align=left&amp;display=inline&amp;height=537&amp;name=11.jpg&amp;originHeight=737&amp;originWidth=1023&amp;size=122528&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>客户端体验，默认，下一步。</p><p><br /></p><p><img alt=\\\"12.jpg\\\" title=\\\"12.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408218764-5a287eee-dee0-49df-9a32-e63bf66e2125.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=12.jpg&amp;originHeight=738&amp;originWidth=1022&amp;size=146260&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>RD 授权配置，默认，下一步。</p><p><br /><img alt=\\\"13.jpg\\\" title=\\\"13.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408250098-c323ed01-587f-473c-ac61-2653ea8ccfce.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=13.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=157067&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>角色服务，按照下图勾选，勾选应用程序开发和管理工具，下一步。</p><p><br /></p><p><img alt=\\\"14.jpg\\\" title=\\\"14.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408291213-7af0cf48-f4ca-4b7b-a34a-cf19f21e086f.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=14.jpg&amp;originHeight=737&amp;originWidth=1019&amp;size=150836&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><img alt=\\\"15.jpg\\\" title=\\\"15.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408339605-06f4d256-e275-44cc-8eb2-d2842231ff2e.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=15.jpg&amp;originHeight=736&amp;originWidth=1016&amp;size=154964&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><p>确认安装，安装完成后重启机器。</p><p><br /><img alt=\\\"16.jpg\\\" title=\\\"16.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408365776-deba65fb-2282-4aa6-801f-620c43c7401a.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=16.jpg&amp;originHeight=736&amp;originWidth=1019&amp;size=160226&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><img alt=\\\"17.jpg\\\" title=\\\"17.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408392334-c7faabdb-d95e-4683-869b-47d554a9322b.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=17.jpg&amp;originHeight=739&amp;originWidth=1021&amp;size=111287&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"18.jpg\\\" title=\\\"18.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408403266-42b7b490-6880-430e-83e0-31dd3e93ec96.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=18.jpg&amp;originHeight=737&amp;originWidth=1022&amp;size=130665&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><h4 id=\\\"4c44eac0\\\">3.4 配置远程桌面服务</h4><p><br /></p><ul><li>激活远程桌面服务。</li></ul><p><br /></p><p>管理工具 - 远程桌面服务 - 远程桌面授权管理器。</p><p><br /><img alt=\\\"19.jpg\\\" title=\\\"19.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408488810-dc67c36b-dbaa-4b28-a76f-0e688d3842a9.jpeg#align=left&amp;display=inline&amp;height=453&amp;name=19.jpg&amp;originHeight=638&amp;originWidth=1050&amp;size=105792&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>右键，激活服务器。</p><p><br /></p><p><img alt=\\\"20.jpg\\\" title=\\\"20.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408528953-5a633c01-c11f-4a3f-85c7-07adab5ae397.jpeg#align=left&amp;display=inline&amp;height=429&amp;name=20.jpg&amp;originHeight=618&amp;originWidth=1075&amp;size=62121&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>激活向导，下一步。</p><p><br /><img alt=\\\"21.jpg\\\" title=\\\"21.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408552984-1afd9309-6abb-4631-9f08-58769af2636f.jpeg#align=left&amp;display=inline&amp;height=429&amp;name=21.jpg&amp;originHeight=619&amp;originWidth=1076&amp;size=94929&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>公司，姓，名，都可以随意填。</p><p><br /></p><p><img alt=\\\"22.jpg\\\" title=\\\"22.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408574450-6263856f-e577-4868-af7d-cc024c6dac90.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=22.jpg&amp;originHeight=567&amp;originWidth=548&amp;size=51030&amp;status=done&amp;width=548\\\" style=\\\"max-width: 600px; width: 548px;\\\" /></p><p><br /></p><p>不填，下一步。</p><p><br /><img alt=\\\"23.jpg\\\" title=\\\"23.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408606984-db439e8d-1baf-4a82-a747-762de784203e.jpeg#align=left&amp;display=inline&amp;height=572&amp;name=23.jpg&amp;originHeight=572&amp;originWidth=552&amp;size=50503&amp;status=done&amp;width=552\\\" style=\\\"max-width: 600px; width: 552px;\\\" /></p><p><br /></p><p>下确保“立即启动许可证安装向导”勾选，下一步。</p><p><br /><img alt=\\\"24.jpg\\\" title=\\\"24.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408619943-2224bdbd-04a6-46e5-ab09-3d1b7a9afdc5.jpeg#align=left&amp;display=inline&amp;height=565&amp;name=24.jpg&amp;originHeight=565&amp;originWidth=551&amp;size=49884&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>这里也是下一步。</p><p><br /></p><p><img alt=\\\"25.jpg\\\" title=\\\"25.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408674472-a97ef2ba-2712-48b5-9eb7-60cab0e28c99.jpeg#align=left&amp;display=inline&amp;height=566&amp;name=25.jpg&amp;originHeight=566&amp;originWidth=551&amp;size=57341&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>示例，不管，下一步。</p><p><br /><img alt=\\\"26.jpg\\\" title=\\\"26.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408700027-a27cc88d-5c2b-4fdb-aac2-179efba463d8.jpeg#align=left&amp;display=inline&amp;height=569&amp;name=26.jpg&amp;originHeight=569&amp;originWidth=550&amp;size=55839&amp;status=done&amp;width=550\\\" style=\\\"max-width: 600px; width: 550px;\\\" /></p><p><br /></p><p>协议号码填入“6565792”，下一步。</p><p><br /></p><p><img alt=\\\"27.jpg\\\" title=\\\"27.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408718538-63171a57-9972-4b74-ad34-5e2a0c51ede4.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=27.jpg&amp;originHeight=567&amp;originWidth=551&amp;size=33996&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>按图选择，下一步。</p><p><br /></p><p><img alt=\\\"28.jpg\\\" title=\\\"28.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408763737-ebc32bee-480b-4431-8448-b585ba42e266.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=28.jpg&amp;originHeight=567&amp;originWidth=551&amp;size=62961&amp;status=done&amp;width=551\\\" style=\\\"max-width: 600px; width: 551px;\\\" /></p><p><br /></p><p>完成。</p><p><br /><img alt=\\\"29.jpg\\\" title=\\\"29.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408787209-0de7ede5-cc57-4b85-aef1-9c446b833f8f.jpeg#align=left&amp;display=inline&amp;height=568&amp;name=29.jpg&amp;originHeight=568&amp;originWidth=550&amp;size=34414&amp;status=done&amp;width=550\\\" style=\\\"max-width: 600px; width: 550px;\\\" /></p><p><br /></p><h4 id=\\\"30122014\\\"><span>3.5 部署 IIS 服务</span></h4><p><span><br /></span></p><p>IIS 服务器主要是用来给 F2etest-web 调用创建 Windows 用户功能。</p><p><br /></p><p>拷贝 F2etest 源代码里的 <code>f2etest-client\\\\f2etest-browsers\\\\www</code> 下的 <strong>setuser</strong> 文件到<code>C:\\\\inetpub\\\\wwwroot</code> 下 并修改 <code>apikey</code> 为前面配置的 <code>key</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> <img alt=\\\"30.jpg\\\" title=\\\"30.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408983404-35ebfeba-6e0a-4542-9374-058cdf6b3bfd.jpeg#align=left&amp;display=inline&amp;height=320&amp;name=30.jpg&amp;originHeight=550&amp;originWidth=1282&amp;size=119135&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><p>编辑 setuser 文件，修改 <code>apiKey</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /><img alt=\\\"31.jpg\\\" title=\\\"31.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409014190-47b19460-aca4-4353-b239-fc275be606ce.jpeg#align=left&amp;display=inline&amp;height=430&amp;name=31.jpg&amp;originHeight=620&amp;originWidth=1076&amp;size=107100&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><p>进入 IIS 管理器。</p><p><br /></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><img alt=\\\"32.jpg\\\" title=\\\"32.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409048429-dabc8e04-bd75-4c02-80c7-3afd544f4bc6.jpeg#align=left&amp;display=inline&amp;height=511&amp;name=32.jpg&amp;originHeight=511&amp;originWidth=404&amp;size=70877&amp;status=done&amp;width=404\\\" style=\\\"max-width: 600px; width: 404px;\\\" /></span></p><p><br /></p><p>选择身份验证。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /></span></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><img alt=\\\"33-1.jpg\\\" title=\\\"33-1.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409099227-30b750c2-0536-4512-b970-0813237f48e7.jpeg#align=left&amp;display=inline&amp;height=470&amp;name=33-1.jpg&amp;originHeight=1402&amp;originWidth=2226&amp;size=461660&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></span></p><p><br /></p><p>右键匿名身份验证，编辑。</p><p><br /></p><p><img alt=\\\"34.jpg\\\" title=\\\"34.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409128431-39be6ae6-9088-4e36-845d-acc7bdcd0891.jpeg#align=left&amp;display=inline&amp;height=468&amp;name=34.jpg&amp;originHeight=700&amp;originWidth=1115&amp;size=117183&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>选择设置。</p><p><br /><img alt=\\\"35.jpg\\\" title=\\\"35.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409163537-0374c516-c091-4997-bd06-144ae91a8caf.jpeg#align=left&amp;display=inline&amp;height=470&amp;name=35.jpg&amp;originHeight=704&amp;originWidth=1117&amp;size=133044&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>填入 administrator 的账户与密码。</p><p><br /><img alt=\\\"36.jpg\\\" title=\\\"36.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409180080-3fcbf812-42c6-459b-be17-ef1a041c1391.jpeg#align=left&amp;display=inline&amp;height=469&amp;name=36.jpg&amp;originHeight=702&amp;originWidth=1116&amp;size=129208&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>访问 <a href=\\\"http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest\\\" target=\\\"_blank\\\">http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest</a>，如果看到页面输出 <strong>ok</strong>，代表  IIS服务设置成功。</p><p><br /><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/318847/1555409206387-7d0ae7f1-4514-45e6-a569-287d62180635.png#align=left&amp;display=inline&amp;height=858&amp;name=image.png&amp;originHeight=1716&amp;originWidth=2356&amp;size=221284&amp;status=done&amp;width=1178\\\" style=\\\"max-width: 600px; width: 1178px;\\\" /></p><p><br /></p><p><br /></p><h4 id=\\\"18c825a4\\\">3.6 <span>配置应用程序</span></h4><p><br /></p><p>复制 <code>f2etest-client\\\\f2etest-browsers\\\\curl</code> 中的所有文件到 <code>c:\\\\windows</code> 下面。</p><p><span><br /></span></p><p><span><img alt=\\\"38.jpg\\\" title=\\\"38.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409310828-31724197-c056-4025-864f-b33fc0ed5216.jpeg#align=left&amp;display=inline&amp;height=303&amp;name=38.jpg&amp;originHeight=1156&amp;originWidth=2846&amp;size=483022&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></span></p><p><br /></p><p>把 <code>f2etest-client\\\\f2etest-browsers</code> 下的 <strong>app</strong> 目录复制到 <strong>C</strong> 盘根目录，并重命名<strong>强制代理.bat</strong> 为 <strong>ie8.bat</strong>，<strong>禁用代理.bat</strong>为 <strong>hostsshare.bat</strong>。</p><p><br /></p><p><img alt=\\\"39.jpg\\\" title=\\\"39.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409423243-65e47ad4-83b5-42d2-8faf-fb03d26983ee.jpeg#align=left&amp;display=inline&amp;height=305&amp;name=39.jpg&amp;originHeight=1164&amp;originWidth=2848&amp;size=326580&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>然后修改两个 bat 中的 f2etestDomain 为 f2etest-web 的访问地址，其中 ie8.bat 中的 appid 请修改为 ie8 和<span>f2etest-web 的 </span>app.js 中配置的 id 保持一致。</p><p><br /><img alt=\\\"40.jpg\\\" title=\\\"40.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409433798-3a9f5421-01da-45a7-9956-a22bc5e8b3a8.jpeg#align=left&amp;display=inline&amp;height=367&amp;name=40.jpg&amp;originHeight=1270&amp;originWidth=2582&amp;size=485370&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>把源码中的 hostsShare-client 下的 build 文件夹修改为 hostsShare 并拷贝到 C 盘根目录。</p><p><br /></p><p><img alt=\\\"41.jpg\\\" title=\\\"41.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409536414-94c6e112-2a7a-4863-bd73-9f11e4ed0611.jpeg#align=left&amp;display=inline&amp;height=307&amp;name=41.jpg&amp;originHeight=1172&amp;originWidth=2848&amp;size=402950&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><p>管理工具 - 远程桌面服务 - RemoteApp 管理器</p><p><br /></p><p><img alt=\\\"42.jpg\\\" title=\\\"42.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409564698-59aafa3b-077e-4fd6-a702-e189a281a07b.jpeg#align=left&amp;display=inline&amp;height=514&amp;name=42.jpg&amp;originHeight=1194&amp;originWidth=1732&amp;size=283397&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>按照下图顺序添加</p><p><br /></p><p><img alt=\\\"47.jpg\\\" title=\\\"47.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410044530-a067d815-5d5e-4f7e-bb70-9d760a70e9d4.jpeg#align=left&amp;display=inline&amp;height=566&amp;name=47.jpg&amp;originHeight=1456&amp;originWidth=1920&amp;size=412194&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /><br /></p><p><br /></p><p>右键 hostsShare.bat 和 ie8.bat，选择属性。</p><p><br /><img alt=\\\"48.jpg\\\" title=\\\"48.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410086581-a92ddddc-86c6-41c9-9e8a-106f1d9c7f97.jpeg#align=left&amp;display=inline&amp;height=564&amp;name=48.jpg&amp;originHeight=1450&amp;originWidth=1918&amp;size=541301&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>选择允许任何命令行参数。</p><p><br /></p><p><img alt=\\\"49.jpg\\\" title=\\\"49.jpg\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410213088-6a67adce-5c25-4c04-b55e-09b8466d5224.jpeg#align=left&amp;display=inline&amp;height=565&amp;name=49.jpg&amp;originHeight=1454&amp;originWidth=1920&amp;size=372035&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建<strong>浏览器云</strong>最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"1ab99133\\\">二、目标</h2><p><br /></p><p>在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。</p><p><br /></p><h2 id=\\\"f4f988c6\\\">三、部署</h2><p><br /></p><p>要使 F2etest 可以运行起来，总结起来，在 <span>Windows Server 上我们要做如下的配置工作。</span></p><p><br /></p><ul><li>取消登陆密码复杂性 - F2etest 的登陆</li><li>禁用 IE ESC - 防止在浏览器操作时，按了 ESC 导致 IE 浏览器退出</li><li>安装远程桌面服务</li><li>配置远程桌面服务</li><li>部署 IIS 服务 - 提供新建用户服务脚本</li><li>配置应用程序 - <span>IE 8 浏览器与 </span><span>hostShare 应用</span></li></ul><h3 id=\\\"d41d8cd9\\\"><br /></h3><h4 id=\\\"57a30893\\\"><span>3.1 取消登陆密码复杂性</span></h4><p><span><br /></span></p><p>运行中输入 <code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\">gpedit.msc</span></code><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> 打开本地策略编辑器</span></p><p><span><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407435808-ffe71809-a207-40ac-bece-7be4bc890381.jpeg%22%2C%22originWidth%22%3A816%2C%22originHeight%22%3A1008%2C%22name%22%3A%220.jpg%22%2C%22size%22%3A56381%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A454%2C%22height%22%3A561%7D\\\"></card></span></p><p><span><br /></span></p><p><span>修改 账户策略 - 密码策略</span></p><p><span><br /></span></p><p><span><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407511180-4f34bb85-cb17-42f2-acc8-ab8199cc25f4.jpeg%22%2C%22originWidth%22%3A1548%2C%22originHeight%22%3A1168%2C%22name%22%3A%221-1.jpg%22%2C%22size%22%3A275351%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A563%7D\\\"></card></span></p><p><br /></p><h4 id=\\\"8f3043fb\\\">3.2 禁用 IE ESC</h4><p><br /></p><p>进入服务器管理</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407716281-c24d77ec-5445-4f8f-a47e-b4616c00dfda.jpeg%22%2C%22originWidth%22%3A1390%2C%22originHeight%22%3A1206%2C%22name%22%3A%2244.jpg%22%2C%22size%22%3A217191%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A647%7D\\\"></card></p><p><br /></p><p>配置 IE ESC</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407635593-20f31ac7-9214-40b2-bfd4-7b113162ad07.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A737%2C%22name%22%3A%222.jpg%22%2C%22size%22%3A151620%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\\\"></card></p><p><br /></p><h4 id=\\\"0851fc06\\\">3.3 安装远程桌面服务</h4><p><br /></p><p>服务器管理 - 角色 - 添加角色。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407791771-86e26770-6e18-4de5-8be7-b665054aedd2.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%223.jpg%22%2C%22size%22%3A142805%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>角色服务，勾选远程桌面会话主机，远程桌面授权和远程桌面 Web 访问。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407830429-f8bbed11-9b11-4a6b-861a-679d280fe97f.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%224.jpg%22%2C%22size%22%3A133428%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>应用程序兼容性，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407889574-a3b6155b-7fb2-4b3d-b2c9-b73b6b26ed89.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A735%2C%22name%22%3A%225.jpg%22%2C%22size%22%3A125641%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>身份验证方法，选择不需要使用网络级别身份验证，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407921371-b5ed9314-dd13-4a49-b891-231066aca4a9.jpeg%22%2C%22originWidth%22%3A1018%2C%22originHeight%22%3A734%2C%22name%22%3A%226.jpg%22%2C%22size%22%3A156132%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>授权模式，选择每用户，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407980411-fec550d4-3f53-4ae2-b864-710885d80833.jpeg%22%2C%22originWidth%22%3A1015%2C%22originHeight%22%3A736%2C%22name%22%3A%227.jpg%22%2C%22size%22%3A138092%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A541%7D\\\"></card></p><p><br /></p><p>用户组，按照如下面所示，添加 Authenticated User，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408007958-4d338e71-1d71-4fc0-ab55-b4ab354f462e.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A735%2C%22name%22%3A%228.jpg%22%2C%22size%22%3A121055%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408041993-048b7151-1dac-448d-a49a-ecdc9362a33a.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A737%2C%22name%22%3A%229.jpg%22%2C%22size%22%3A121096%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408057007-46611fa1-0b82-4ab5-a217-1d63693715d7.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A735%2C%22name%22%3A%2210.jpg%22%2C%22size%22%3A142227%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408066915-161a1c11-806c-47c3-b9f3-285fd9250b4a.jpeg%22%2C%22originWidth%22%3A1023%2C%22originHeight%22%3A737%2C%22name%22%3A%2211.jpg%22%2C%22size%22%3A122528%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A537%7D\\\"></card></p><p><br /></p><p>客户端体验，默认，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408218764-5a287eee-dee0-49df-9a32-e63bf66e2125.jpeg%22%2C%22originWidth%22%3A1022%2C%22originHeight%22%3A738%2C%22name%22%3A%2212.jpg%22%2C%22size%22%3A146260%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\\\"></card></p><p><br /></p><p>RD 授权配置，默认，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408250098-c323ed01-587f-473c-ac61-2653ea8ccfce.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%2213.jpg%22%2C%22size%22%3A157067%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card></p><p><br /></p><p>角色服务，按照下图勾选，勾选应用程序开发和管理工具，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408291213-7af0cf48-f4ca-4b7b-a34a-cf19f21e086f.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A737%2C%22name%22%3A%2214.jpg%22%2C%22size%22%3A150836%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408339605-06f4d256-e275-44cc-8eb2-d2842231ff2e.jpeg%22%2C%22originWidth%22%3A1016%2C%22originHeight%22%3A736%2C%22name%22%3A%2215.jpg%22%2C%22size%22%3A154964%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card><br /></p><p><br /></p><p>确认安装，安装完成后重启机器。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408365776-deba65fb-2282-4aa6-801f-620c43c7401a.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A736%2C%22name%22%3A%2216.jpg%22%2C%22size%22%3A160226%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\\\"></card><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408392334-c7faabdb-d95e-4683-869b-47d554a9322b.jpeg%22%2C%22originWidth%22%3A1021%2C%22originHeight%22%3A739%2C%22name%22%3A%2217.jpg%22%2C%22size%22%3A111287%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408403266-42b7b490-6880-430e-83e0-31dd3e93ec96.jpeg%22%2C%22originWidth%22%3A1022%2C%22originHeight%22%3A737%2C%22name%22%3A%2218.jpg%22%2C%22size%22%3A130665%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\\\"></card><br /></p><p><br /></p><h4 id=\\\"4c44eac0\\\">3.4 配置远程桌面服务</h4><p><br /></p><ul><li>激活远程桌面服务。</li></ul><p><br /></p><p>管理工具 - 远程桌面服务 - 远程桌面授权管理器。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408488810-dc67c36b-dbaa-4b28-a76f-0e688d3842a9.jpeg%22%2C%22originWidth%22%3A1050%2C%22originHeight%22%3A638%2C%22name%22%3A%2219.jpg%22%2C%22size%22%3A105792%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A453%7D\\\"></card></p><p><br /></p><p>右键，激活服务器。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408528953-5a633c01-c11f-4a3f-85c7-07adab5ae397.jpeg%22%2C%22originWidth%22%3A1075%2C%22originHeight%22%3A618%2C%22name%22%3A%2220.jpg%22%2C%22size%22%3A62121%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A429%7D\\\"></card></p><p><br /></p><p>激活向导，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408552984-1afd9309-6abb-4631-9f08-58769af2636f.jpeg%22%2C%22originWidth%22%3A1076%2C%22originHeight%22%3A619%2C%22name%22%3A%2221.jpg%22%2C%22size%22%3A94929%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A429%7D\\\"></card></p><p><br /></p><p>公司，姓，名，都可以随意填。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408574450-6263856f-e577-4868-af7d-cc024c6dac90.jpeg%22%2C%22originWidth%22%3A548%2C%22originHeight%22%3A567%2C%22name%22%3A%2222.jpg%22%2C%22size%22%3A51030%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A548%2C%22height%22%3A567%7D\\\"></card></p><p><br /></p><p>不填，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408606984-db439e8d-1baf-4a82-a747-762de784203e.jpeg%22%2C%22originWidth%22%3A552%2C%22originHeight%22%3A572%2C%22name%22%3A%2223.jpg%22%2C%22size%22%3A50503%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A552%2C%22height%22%3A572%7D\\\"></card></p><p><br /></p><p>下确保“立即启动许可证安装向导”勾选，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408619943-2224bdbd-04a6-46e5-ab09-3d1b7a9afdc5.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A565%2C%22name%22%3A%2224.jpg%22%2C%22size%22%3A49884%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A565%7D\\\"></card></p><p><br /></p><p>这里也是下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408674472-a97ef2ba-2712-48b5-9eb7-60cab0e28c99.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A566%2C%22name%22%3A%2225.jpg%22%2C%22size%22%3A57341%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A566%7D\\\"></card></p><p><br /></p><p>示例，不管，下一步。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408700027-a27cc88d-5c2b-4fdb-aac2-179efba463d8.jpeg%22%2C%22originWidth%22%3A550%2C%22originHeight%22%3A569%2C%22name%22%3A%2226.jpg%22%2C%22size%22%3A55839%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A550%2C%22height%22%3A569%7D\\\"></card></p><p><br /></p><p>协议号码填入“6565792”，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408718538-63171a57-9972-4b74-ad34-5e2a0c51ede4.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A567%2C%22name%22%3A%2227.jpg%22%2C%22size%22%3A33996%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A567%7D\\\"></card></p><p><br /></p><p>按图选择，下一步。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408763737-ebc32bee-480b-4431-8448-b585ba42e266.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A567%2C%22name%22%3A%2228.jpg%22%2C%22size%22%3A62961%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A567%7D\\\"></card></p><p><br /></p><p>完成。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408787209-0de7ede5-cc57-4b85-aef1-9c446b833f8f.jpeg%22%2C%22originWidth%22%3A550%2C%22originHeight%22%3A568%2C%22name%22%3A%2229.jpg%22%2C%22size%22%3A34414%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A550%2C%22height%22%3A568%7D\\\"></card></p><p><br /></p><h4 id=\\\"30122014\\\"><span>3.5 部署 IIS 服务</span></h4><p><span><br /></span></p><p>IIS 服务器主要是用来给 F2etest-web 调用创建 Windows 用户功能。</p><p><br /></p><p>拷贝 F2etest 源代码里的 <code>f2etest-client\\\\f2etest-browsers\\\\www</code> 下的 <strong>setuser</strong> 文件到<code>C:\\\\inetpub\\\\wwwroot</code> 下 并修改 <code>apikey</code> 为前面配置的 <code>key</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"> <card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408983404-35ebfeba-6e0a-4542-9374-058cdf6b3bfd.jpeg%22%2C%22originWidth%22%3A1282%2C%22originHeight%22%3A550%2C%22name%22%3A%2230.jpg%22%2C%22size%22%3A119135%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A320%7D\\\"></card></span></p><p><br /></p><p>编辑 setuser 文件，修改 <code>apiKey</code>。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409014190-47b19460-aca4-4353-b239-fc275be606ce.jpeg%22%2C%22originWidth%22%3A1076%2C%22originHeight%22%3A620%2C%22name%22%3A%2231.jpg%22%2C%22size%22%3A107100%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A430%7D\\\"></card></span></p><p><br /></p><p>进入 IIS 管理器。</p><p><br /></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409048429-dabc8e04-bd75-4c02-80c7-3afd544f4bc6.jpeg%22%2C%22originWidth%22%3A404%2C%22originHeight%22%3A511%2C%22name%22%3A%2232.jpg%22%2C%22size%22%3A70877%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A404%2C%22height%22%3A511%7D\\\"></card></span></p><p><br /></p><p>选择身份验证。</p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><br /></span></p><p><span class=\\\"lake-fontsize-12\\\" style=\\\"color: #333333;\\\"><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409099227-30b750c2-0536-4512-b970-0813237f48e7.jpeg%22%2C%22originWidth%22%3A2226%2C%22originHeight%22%3A1402%2C%22name%22%3A%2233-1.jpg%22%2C%22size%22%3A461660%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A470%7D\\\"></card></span></p><p><br /></p><p>右键匿名身份验证，编辑。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409128431-39be6ae6-9088-4e36-845d-acc7bdcd0891.jpeg%22%2C%22originWidth%22%3A1115%2C%22originHeight%22%3A700%2C%22name%22%3A%2234.jpg%22%2C%22size%22%3A117183%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A468%7D\\\"></card></p><p><br /></p><p>选择设置。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409163537-0374c516-c091-4997-bd06-144ae91a8caf.jpeg%22%2C%22originWidth%22%3A1117%2C%22originHeight%22%3A704%2C%22name%22%3A%2235.jpg%22%2C%22size%22%3A133044%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A470%7D\\\"></card></p><p><br /></p><p>填入 administrator 的账户与密码。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409180080-3fcbf812-42c6-459b-be17-ef1a041c1391.jpeg%22%2C%22originWidth%22%3A1116%2C%22originHeight%22%3A702%2C%22name%22%3A%2236.jpg%22%2C%22size%22%3A129208%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A469%7D\\\"></card></p><p><br /></p><p>访问 <a href=\\\"http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest\\\" target=\\\"_blank\\\">http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest</a>，如果看到页面输出 <strong>ok</strong>，代表  IIS服务设置成功。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F318847%2F1555409206387-7d0ae7f1-4514-45e6-a569-287d62180635.png%22%2C%22originWidth%22%3A2356%2C%22originHeight%22%3A1716%2C%22name%22%3A%22image.png%22%2C%22size%22%3A221284%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1178%2C%22height%22%3A858%7D\\\"></card></p><p><br /></p><p><br /></p><h4 id=\\\"18c825a4\\\">3.6 <span>配置应用程序</span></h4><p><br /></p><p>复制 <code>f2etest-client\\\\f2etest-browsers\\\\curl</code> 中的所有文件到 <code>c:\\\\windows</code> 下面。</p><p><span><br /></span></p><p><span><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409310828-31724197-c056-4025-864f-b33fc0ed5216.jpeg%22%2C%22originWidth%22%3A2846%2C%22originHeight%22%3A1156%2C%22name%22%3A%2238.jpg%22%2C%22size%22%3A483022%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A303%7D\\\"></card><br /></span></p><p><br /></p><p>把 <code>f2etest-client\\\\f2etest-browsers</code> 下的 <strong>app</strong> 目录复制到 <strong>C</strong> 盘根目录，并重命名<strong>强制代理.bat</strong> 为 <strong>ie8.bat</strong>，<strong>禁用代理.bat</strong>为 <strong>hostsshare.bat</strong>。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409423243-65e47ad4-83b5-42d2-8faf-fb03d26983ee.jpeg%22%2C%22originWidth%22%3A2848%2C%22originHeight%22%3A1164%2C%22name%22%3A%2239.jpg%22%2C%22size%22%3A326580%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A305%7D\\\"></card></p><p><br /></p><p>然后修改两个 bat 中的 f2etestDomain 为 f2etest-web 的访问地址，其中 ie8.bat 中的 appid 请修改为 ie8 和<span>f2etest-web 的 </span>app.js 中配置的 id 保持一致。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409433798-3a9f5421-01da-45a7-9956-a22bc5e8b3a8.jpeg%22%2C%22originWidth%22%3A2582%2C%22originHeight%22%3A1270%2C%22name%22%3A%2240.jpg%22%2C%22size%22%3A485370%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A367%7D\\\"></card></p><p><br /></p><p>把源码中的 hostsShare-client 下的 build 文件夹修改为 hostsShare 并拷贝到 C 盘根目录。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409536414-94c6e112-2a7a-4863-bd73-9f11e4ed0611.jpeg%22%2C%22originWidth%22%3A2848%2C%22originHeight%22%3A1172%2C%22name%22%3A%2241.jpg%22%2C%22size%22%3A402950%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A307%7D\\\"></card><br /></p><p><br /></p><p>管理工具 - 远程桌面服务 - RemoteApp 管理器</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409564698-59aafa3b-077e-4fd6-a702-e189a281a07b.jpeg%22%2C%22originWidth%22%3A1732%2C%22originHeight%22%3A1194%2C%22name%22%3A%2242.jpg%22%2C%22size%22%3A283397%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A514%7D\\\"></card></p><p><br /></p><p>按照下图顺序添加</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410044530-a067d815-5d5e-4f7e-bb70-9d760a70e9d4.jpeg%22%2C%22originWidth%22%3A1920%2C%22originHeight%22%3A1456%2C%22name%22%3A%2247.jpg%22%2C%22size%22%3A412194%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A566%7D\\\"></card><br /></p><p><br /></p><p>右键 hostsShare.bat 和 ie<cursor />8.bat，选择属性。</p><p><br /><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410086581-a92ddddc-86c6-41c9-9e8a-106f1d9c7f97.jpeg%22%2C%22originWidth%22%3A1918%2C%22originHeight%22%3A1450%2C%22name%22%3A%2248.jpg%22%2C%22size%22%3A541301%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A564%7D\\\"></card></p><p><br /></p><p>选择允许任何命令行参数。</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410213088-6a67adce-5c25-4c04-b55e-09b8466d5224.jpeg%22%2C%22originWidth%22%3A1920%2C%22originHeight%22%3A1454%2C%22name%22%3A%2249.jpg%22%2C%22size%22%3A372035%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A565%7D\\\"></card></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:37:23.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-15T10:08:00.000Z\",\"updated_at\":\"2019-04-23T06:15:17.000Z\",\"published_at\":\"2019-04-16T16:37:23.000Z\",\"first_published_at\":\"2019-04-15T10:08:04.000Z\",\"word_count\":832,\"cover\":null,\"description\":\"一、前言本部署教程旨在搭建浏览器云最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。二、目标在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。三、部署要使 F2etest 可以运行起来，总结起来，在 ...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-browser-cloud-usage":"{\"id\":1520849,\"slug\":\"browser-cloud-usage\",\"title\":\"如何使用浏览器云\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"77e4d6df\\\"><span>一、浏览器云</span></h2><p><br /></p><h3 id=\\\"54ae9400\\\"><span>1.1 使用方法</span></h3><p><br /></p><p><span>如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。</span></p><p><span><br /></span></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1555001729207-49f92046-b831-4c89-85d5-108165816cc4.gif#align=left&amp;display=inline&amp;height=412&amp;originHeight=565&amp;originWidth=1024&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><br /></p><h3 id=\\\"bdb9c89a\\\">1.2 hostShare</h3><p><br /></p><p>在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认情况下（没有配置 hosts），我们通过浏览器云访问都是线上环境。因此，我们提供 hostShare 功能，可以通过配置 hosts 的方式，访问不同环境，如下图所示：</p><p><br /></p><p><img alt=\\\"Kapture 2019-04-08 at 13.54.34.gif\\\" title=\\\"Kapture 2019-04-08 at 13.54.34.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1555001729209-62fd768e-b0f0-48b5-b2fb-d21b7797f399.gif#align=left&amp;display=inline&amp;height=340&amp;name=Kapture%202019-04-08%20at%2013.54.34.gif&amp;originHeight=581&amp;originWidth=1274&amp;size=1246232&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"9b3daeb4\\\">1.3 asyncAllUser</h3><p>        初次使用浏览器云时，会初始化用户信息并存入 DB，同时将用户信息同步至浏览器云对应的 Windows 服务器集群的 User Group 中。然而，当我们变更 Windows 服务器的时候，需要将用户信息同步至变更的 Windows 服务器中，这里我们提供了 API <span>(http://f2etest.xxx.com/asyncAllUser)，</span>可直接通过 HTTP 接口访问的方式触发。</p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"77e4d6df\\\"><span>一、浏览器云</span></h2><p><br /></p><h3 id=\\\"54ae9400\\\"><span>1.1 使用方法</span></h3><p><br /></p><p><span>如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。</span></p><p><span><br /></span></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1555001729207-49f92046-b831-4c89-85d5-108165816cc4.gif%22%2C%22originWidth%22%3A1024%2C%22originHeight%22%3A565%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A412%7D\\\"></card></p><p><br /></p><p><br /></p><h3 id=\\\"bdb9c89a\\\">1.2 hostShare</h3><p><br /></p><p>在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认情况下（没有配置 hosts），我们通过浏览器云访问都是线上环境。因此，我们提供 hostShare 功能，可以通过配置 hosts 的方式，访问不同环境，如下图所示：</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1555001729209-62fd768e-b0f0-48b5-b2fb-d21b7797f399.gif%22%2C%22originWidth%22%3A1274%2C%22originHeight%22%3A581%2C%22name%22%3A%22Kapture%202019-04-08%20at%2013.54.34.gif%22%2C%22size%22%3A1246232%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A340%7D\\\"></card></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"9b3daeb4\\\">1.3 asyncAllUser</h3><p>        初次使用浏览器云时，会初始化用户信息并存入 DB，同时将用户信息同步至浏览器云对应的 Windows 服务器集群的 User Group 中。然而，当我们变更 Windows 服务器的时候，需要将用户信息同步至变更的 Windows 服务器中，这里我们提供了 API <span>(http://f2etest.xxx.com/asyncAllUser)，</span>可直接通过 HTTP 接<cursor />口访问的方式触发。</p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T16:57:10.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-11T16:55:23.000Z\",\"updated_at\":\"2019-04-23T06:15:27.000Z\",\"published_at\":\"2019-04-11T16:57:10.000Z\",\"first_published_at\":\"2019-04-11T16:57:10.000Z\",\"word_count\":282,\"cover\":null,\"description\":\"一、浏览器云1.1 使用方法如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。1.2 hostShare在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-dzw3kv":"{\"id\":1405654,\"slug\":\"dzw3kv\",\"title\":\"1.浏览器云\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":94302,\"description\":\"F2etest是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":2,\"likes_count\":0,\"watches_count\":1,\"content_updated_at\":\"2019-03-21T03:17:21.628Z\",\"updated_at\":\"2019-03-21T03:17:21.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":2,\"public_books_count\":2,\"followers_count\":2,\"following_count\":0,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-03-21T03:16:10.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":94302,\"creator\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":2,\"public_books_count\":2,\"followers_count\":2,\"following_count\":0,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-03-21T03:16:10.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<p><br /></p>\",\"body_lake\":\"<!doctype lake><p><br /><cursor /></p>\",\"public\":1,\"status\":null,\"likes_count\":0,\"comments_count\":0,\"content_updated_at\":\"2019-03-21T03:16:40.000Z\",\"deleted_at\":null,\"created_at\":\"2019-03-21T03:16:15.000Z\",\"updated_at\":\"2019-03-21T03:16:40.000Z\",\"published_at\":\"2019-03-21T03:16:40.000Z\",\"first_published_at\":\"2019-03-21T03:16:40.000Z\",\"word_count\":0,\"cover\":null,\"description\":\"\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-f2etest-web":"{\"id\":1486475,\"slug\":\"f2etest-web\",\"title\":\"F2etest-web 架构\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"70c02cfa\\\">一、技术架构</h2><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554715723463-06aa0bcb-8e8a-4589-b37c-ebcee554f132.png#align=left&amp;display=inline&amp;height=633&amp;originHeight=1160&amp;originWidth=1366&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h3 id=\\\"95d6074b\\\">1.1 接入层</h3><p><br /></p><p>选用高性能的 <code>Nginx</code> 来提供统一接入服务，主要使用其反向代理服务：</p><p><br /></p><ul><li>NodeJS Web Application 的 <code>3000</code> 端口；</li><li>Guacamole Client 的 <code>8080</code> 端口；</li><li>WebDriver 的 <code>4444</code> 端口。</li></ul><p><br /></p><h3 id=\\\"1404f1d0\\\">1.2 应用层</h3><p><br /></p><p><strong>Node Web Application</strong></p><p>提供了一个漂亮的 Web 界面来方便用户发起远程连接并启动配置在 Windows Server 上的 RemoteApp。</p><p><br /></p><ul><li>Users 用户管理：初始化用户信息并在 Windows Server 中创建用户。</li><li>Logs 日志管理：用户日志记录入库。</li><li>WebDriver: WebDriver 节点管理。</li><li>RDP: 远程连接管理。</li><li>SSO：单点登录，用于访问控制。</li><li>API: 开放接口。</li></ul><p><br /></p><p><strong>guacamole-client</strong></p><p>与用户实际交互的部分，它主要将用户的实际远程连接信息传递给 <code>guacd</code> 服务。</p><p><br /></p><h3 id=\\\"1b26625a\\\">1.3 数据层</h3><p><br /></p><p>选用 MySQL 存储数据，用以存储日志、用户信息以及 WebDriver 节点等。</p><p><br /></p><h3 id=\\\"88e6be02\\\">1.4 服务层</h3><p><br /></p><p><code>guacd</code> 是 <code>Guacamole</code> 的核心，它动态加载对远程桌面协议的支持，并根据从 <code>guacamole-client</code> 收到的指令来连接到远程桌面。</p><p><br /></p><h2 id=\\\"96edf5b8\\\">二、配置详解</h2><p><br /></p><p><code>F2etest-web</code> 主要包含以下 4 个配置文件：</p><p><br /></p><h3 id=\\\"c1a9669b\\\">2.1 免登配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/etc/guacamole/noauth-config.xml</code></p><p>由于官方版本的 <code>Guacamole</code> 有登录限制，我们基于官方版进行了简单的定制和增强。</p></blockquote><p><br /></p><p>每一条 <code>config</code> 对应界面上一个应用，其格式如下：</p><p><br /></p><pre data-lang=\\\"xml\\\"><code>&lt;configs&gt;\\n    &lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;\\n        &lt;param name=&quot;hostname&quot; value=&quot;192.168.56.102&quot; /&gt;\\n        &lt;param name=&quot;port&quot; value=&quot;3389&quot; /&gt;\\n        &lt;param name=&quot;enable-drive&quot; value=&quot;true&quot; /&gt;\\n        &lt;param name=&quot;drive-path&quot; value=&quot;/home/guacdshare&quot; /&gt;\\n    &lt;/config&gt;\\n&lt;/configs&gt;</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>&lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;</code>: 远程连接的服务器名称以及协议，其中 <code>name</code> 对应<strong>应用配置</strong>中的 <code>server</code>，<code>protocol</code> 均为 <code>rdp</code>；</li><li><code>hostname</code>: 远程连接的 IP 地址，即 Windows Server 的 <code>IP</code> 地址；</li><li><code>enable-drive</code>: 启用文件传输功能，文件将存储在 <code>drive-path</code> 参数指定的目录中，如果启用了文件传输，则必需指定 <code>drive-path</code>，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>；</li><li><code>drive-path</code>: 文件传输在 Linux Server 上的存储位置，如果未开启 <code>enable-drive</code>，此参数会被忽略，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>。</li></ul><p><br /></p><h3 id=\\\"baddf3e1\\\">2.2 应用配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/app.json</code></p></blockquote><p><br /></p><p>数组中每一条记录对应界面上一个应用，其格式示例如下：</p><p><br /></p><pre data-lang=\\\"json\\\"><code>[\\n  {\\n    &quot;id&quot;: &quot;hostsshare&quot;,\\n    &quot;name&quot;: &quot;hosts&quot;,\\n    &quot;server&quot;: &quot;f2etest-ie11&quot;,\\n    &quot;program&quot;: &quot;c:\\\\\\\\app\\\\\\\\hostsshare.bat&quot;\\n  },\\n  {\\n    &quot;id&quot;: &quot;ie6&quot;,\\n    &quot;name&quot;: &quot;IE 6&quot;,\\n    &quot;server&quot;: &quot;f2etest-ie6&quot;,\\n    &quot;program&quot;: &quot;c:\\\\\\\\app\\\\\\\\ie6.bat&quot;\\n  },\\n  {\\n    &quot;id&quot;: &quot;ie7&quot;,\\n    &quot;name&quot;: &quot;IE 7&quot;,\\n    &quot;server&quot;: &quot;f2etest-ie7&quot;,\\n    &quot;program&quot;: &quot;c:\\\\\\\\app\\\\\\\\ie7.bat&quot;\\n  }\\n]</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>：界面上显示对应的图标（文件夹位置：<code>/home/f2etest-web/public/imgs/ico</code>）；</li><li><code>name</code>：界面图标下方展示的应用名称；</li><li><code>server</code>：用于拼接 URL 来调用 <code>guacamole-client</code>，最后实现远程连接到 Windows Server。</li><li><code>program</code>：Windows Server 中配置的启动文件（用于打开对应的应用）位置。</li></ul><p><br /></p><h3 id=\\\"58c92670\\\">2.3 服务器配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/server.json</code></p></blockquote><p><br /></p><p>数组中每条数据对应一台 Windows 服务器。</p><p><br /></p><pre data-lang=\\\"json\\\"><code>[\\n  {\\n    &quot;id&quot;: &quot;f2etest-ie6&quot;,\\n    &quot;ip&quot;: &quot;10.0.0.1&quot;,\\n    &quot;remoteApp&quot;: false\\n  },\\n  {\\n    &quot;id&quot;: &quot;f2etest-ie7&quot;,\\n    &quot;ip&quot;: &quot;10.0.0.2&quot;,\\n    &quot;remoteApp&quot;: false\\n  },\\n  {\\n    &quot;id&quot;: &quot;f2etest-ie8&quot;,\\n    &quot;ip&quot;: &quot;10.0.0.3&quot;,\\n    &quot;remoteApp&quot;: true\\n  }\\n]</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>: 服务器名称，必须与应用配置中的 <code>server</code> 名称保持一致；</li><li><code>ip</code>: 对应的服务器 <code>IP</code> 地址；</li><li><code>remoteApp</code>: 是否开启远程应用模式，只有在开启的情况下才能打开 Windows Server 上的应用。</li></ul><p><br /></p><h3 id=\\\"1534b4e9\\\">2.4 站点配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/site.json</code></p></blockquote><p><br /></p><p>NodeJS Web 的站点配置文件：</p><p><br /></p><pre><code>{\\n    &quot;port&quot;: 3000,\\n    &quot;name&quot;: &quot;F2eTest&quot;,\\n    &quot;about&quot;: &quot;浏览器云测平台&quot;,\\n    &quot;icon&quot;: &quot;/favicon.ico&quot;,\\n    &quot;dbHost&quot;: &quot;127.0.0.1&quot;,\\n    &quot;dbUser&quot;: &quot;root&quot;,\\n    &quot;dbPass&quot;: &quot;&quot;,\\n    &quot;dbTable&quot;: &quot;f2etest&quot;,\\n    &quot;clientApiKey&quot;:&quot;f2etest&quot;,\\n    &quot;guacamoleApi&quot;: &quot;http://127.0.0.1/guacamole/client.xhtml&quot;,\\n    &quot;footer&quot;: &quot;&quot;,\\n    &quot;wdEnabled&quot;: false,\\n    &quot;wdCheckNodesInterval&quot;: 5000,\\n    &quot;wdCheckNodesParallelLimit&quot;: 16\\n}</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>port</code>: Web 应用启动后所占用的端口号；</li><li><code>name</code>: 站点名称，作用于页面 <code>title</code> 及页头 <code>logo</code> 处；</li><li><code>about</code>: 作用于页面 <code>title</code>；</li><li><code>icon</code>：站点 <code>ico</code> 图标，文件位于 <code>/home/f2etest-web/public/favicon.ico</code>，需存放在 <code>public</code> 目录；</li><li><code>dbHost</code>： 数据库 IP ；</li><li><code>dbUser</code>：数据库用户名；</li><li><code>dbPass</code>：数据库密码；</li><li><code>dbTable</code>：数据库库名称；</li><li><code>clientApiKey</code>：初始化 Windows Server 用户所用到的 <code>key</code>，与 Windows Server 上的 <code>C:\\\\inetpub\\\\wwwroot\\\\setUser.asp</code> 中的 <code>key</code> 保持一致；</li><li><code>guacamoleApi</code>：<code>guacamole-client</code> 服务地址，供浏览器访问调用，<code>host</code> 与 <code>Node Web</code> 一致;</li><li><code>footer</code>：页尾文案；</li><li><code>wdEnabled</code>：是否开启 WebDriver 云；</li><li><code>wdCheckNodesInterval</code>：定时检查 WebDriver 节点健康度（空闲、运行中、不可用）频率，单位 <code>ms</code>；</li><li><code>wdCheckNodesParallelLimit</code>：定时检查节点并发限制。</li></ul><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"70c02cfa\\\">一、技术架构</h2><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554715723463-06aa0bcb-8e8a-4589-b37c-ebcee554f132.png%22%2C%22originWidth%22%3A1366%2C%22originHeight%22%3A1160%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A633%7D\\\"></card></p><p><br /></p><h3 id=\\\"95d6074b\\\">1.1 接入层</h3><p><br /></p><p>选用高性能的 <code>Nginx</code> 来提供统一接入服务，主要使用其反向代理服务：</p><p><br /></p><ul><li>NodeJS Web Application 的 <code>3000</code> 端口；</li><li>Guacamole Client 的 <code>8080</code> 端口；</li><li>WebDriver 的 <code>4444</code> 端口。</li></ul><p><br /></p><h3 id=\\\"1404f1d0\\\">1.2 应用层</h3><p><br /></p><p><strong>Node Web Application</strong></p><p>提供了一个漂亮的 Web 界面来方便用户发起远程连接并启动配置在 Windows Server 上的 RemoteApp。</p><p><br /></p><ul><li>Users 用户管理：初始化用户信息并在 Windows Server 中创建用户。</li><li>Logs 日志管理：用户日志记录入库。</li><li>WebDriver: WebDriver 节点管理。</li><li>RDP: 远程连接管理。</li><li>SSO：单点登录，用于访问控制。</li><li>API: 开放接口。</li></ul><p><br /></p><p><strong>guacamole-client</strong></p><p>与用户实际交互的部分，它主要将用户的实际远程连接信息传递给 <code>guacd</code> 服务。</p><p><br /></p><h3 id=\\\"1b26625a\\\">1.3 数据层</h3><p><br /></p><p>选用 MySQL 存储数据，用以存储日志、用户信息以及 WebDriver 节点等。</p><p><br /></p><h3 id=\\\"88e6be02\\\">1.4 服务层</h3><p><br /></p><p><code>guacd</code> 是 <code>Guacamole</code> 的核心，它动态加载对远程桌面协议的支持，并根据从 <code>guacamole-client</code> 收到的指令来连接到远程桌面。</p><p><br /></p><h2 id=\\\"96edf5b8\\\">二、配置详解</h2><p><br /></p><p><code>F2etest-web</code> 主要包含以下 4 个配置文件：</p><p><br /></p><h3 id=\\\"c1a9669b\\\">2.1 免登配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/etc/guacamole/noauth-config.xml</code></p><p>由于官方版本的 <code>Guacamole</code> 有登录限制，我们基于官方版进行了简单的定制和增强。</p></blockquote><p><br /></p><p>每一条 <code>config</code> 对应界面上一个应用，其格式如下：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%227fbcd1ef%22%2C%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cconfigs%3E%5Cn%20%20%20%20%3Cconfig%20name%3D%5C%22f2etest-ie8%5C%22%20protocol%3D%5C%22rdp%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22hostname%5C%22%20value%3D%5C%22192.168.56.102%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22port%5C%22%20value%3D%5C%223389%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22enable-drive%5C%22%20value%3D%5C%22true%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22drive-path%5C%22%20value%3D%5C%22%2Fhome%2Fguacdshare%5C%22%20%2F%3E%5Cn%20%20%20%20%3C%2Fconfig%3E%5Cn%3C%2Fconfigs%3E%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>&lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;</code>: 远程连接的服务器名称以及协议，其中 <code>name</code> 对应<strong>应用配置</strong>中的 <code>server</code>，<code>protocol</code> 均为 <code>rdp</code>；</li><li><code>hostname</code>: 远程连接的 IP 地址，即 Windows Server 的 <code>IP</code> 地址；</li><li><code>enable-drive</code>: 启用文件传输功能，文件将存储在 <code>drive-path</code> 参数指定的目录中，如果启用了文件传输，则必需指定 <code>drive-path</code>，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>；</li><li><code>drive-path</code>: 文件传输在 Linux Server 上的存储位置，如果未开启 <code>enable-drive</code>，此参数会被忽略，<a href=\\\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\\\" target=\\\"_blank\\\">更多参考信息</a>。</li></ul><p><br /></p><h3 id=\\\"baddf3e1\\\">2.2 应用配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/app.json</code></p></blockquote><p><br /></p><p>数组中每一条记录对应界面上一个应用，其格式示例如下：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%227a77434b%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22hostsshare%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22hosts%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie11%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Chostsshare.bat%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22ie6%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22IE%206%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie6%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Cie6.bat%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22ie7%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22IE%207%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie7%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Cie7.bat%5C%22%5Cn%20%20%7D%5Cn%5D%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>：界面上显示对应的图标（文件夹位置：<code>/home/f2etest-web/public/imgs/ico</code>）；</li><li><code>name</code>：界面图标下方展示的应用名称；</li><li><code>server</code>：用于拼接 URL 来调用 <code>guacamole-client</code>，最后实现远程连接到 Windows Server。</li><li><code>program</code>：Windows Server 中配置的启动文件（用于打开对应的应用）位置。</li></ul><p><br /></p><h3 id=\\\"58c92670\\\">2.3 服务器配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/server.json</code></p></blockquote><p><br /></p><p>数组中每条数据对应一台 Windows 服务器。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%227ce37b93%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie6%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.1%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20false%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie7%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.2%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20false%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie8%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.3%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20true%5Cn%20%20%7D%5Cn%5D%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>: 服务器名称，必须与应用配置中的 <code>server</code> 名称保持一致；</li><li><code>ip</code>: 对应的服务器 <code>IP</code> 地址；</li><li><code>remoteApp</code>: 是否开启远程应用模式，只有在开启的情况下才能打开 Windows Server 上的应用。</li></ul><p><br /></p><h3 id=\\\"1534b4e9\\\">2.4 站点配置</h3><p><cursor /><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/site.json</code></p></blockquote><p><br /></p><p>NodeJS Web 的站点配置文件：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22eb731f66%22%2C%22code%22%3A%22%7B%5Cn%20%20%20%20%5C%22port%5C%22%3A%203000%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22F2eTest%5C%22%2C%5Cn%20%20%20%20%5C%22about%5C%22%3A%20%5C%22%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BA%91%E6%B5%8B%E5%B9%B3%E5%8F%B0%5C%22%2C%5Cn%20%20%20%20%5C%22icon%5C%22%3A%20%5C%22%2Ffavicon.ico%5C%22%2C%5Cn%20%20%20%20%5C%22dbHost%5C%22%3A%20%5C%22127.0.0.1%5C%22%2C%5Cn%20%20%20%20%5C%22dbUser%5C%22%3A%20%5C%22root%5C%22%2C%5Cn%20%20%20%20%5C%22dbPass%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%5C%22dbTable%5C%22%3A%20%5C%22f2etest%5C%22%2C%5Cn%20%20%20%20%5C%22clientApiKey%5C%22%3A%5C%22f2etest%5C%22%2C%5Cn%20%20%20%20%5C%22guacamoleApi%5C%22%3A%20%5C%22http%3A%2F%2F127.0.0.1%2Fguacamole%2Fclient.xhtml%5C%22%2C%5Cn%20%20%20%20%5C%22footer%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%5C%22wdEnabled%5C%22%3A%20false%2C%5Cn%20%20%20%20%5C%22wdCheckNodesInterval%5C%22%3A%205000%2C%5Cn%20%20%20%20%5C%22wdCheckNodesParallelLimit%5C%22%3A%2016%5Cn%7D%22%7D\\\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>port</code>: Web 应用启动后所占用的端口号；</li><li><code>name</code>: 站点名称，作用于页面 <code>title</code> 及页头 <code>logo</code> 处；</li><li><code>about</code>: 作用于页面 <code>title</code>；</li><li><code>icon</code>：站点 <code>ico</code> 图标，文件位于 <code>/home/f2etest-web/public/favicon.ico</code>，需存放在 <code>public</code> 目录；</li><li><code>dbHost</code>： 数据库 IP ；</li><li><code>dbUser</code>：数据库用户名；</li><li><code>dbPass</code>：数据库密码；</li><li><code>dbTable</code>：数据库库名称；</li><li><code>clientApiKey</code>：初始化 Windows Server 用户所用到的 <code>key</code>，与 Windows Server 上的 <code>C:\\\\inetpub\\\\wwwroot\\\\setUser.asp</code> 中的 <code>key</code> 保持一致；</li><li><code>guacamoleApi</code>：<code>guacamole-client</code> 服务地址，供浏览器访问调用，<code>host</code> 与 <code>Node Web</code> 一致;</li><li><code>footer</code>：页尾文案；</li><li><code>wdEnabled</code>：是否开启 WebDriver 云；</li><li><code>wdCheckNodesInterval</code>：定时检查 WebDriver 节点健康度（空闲、运行中、不可用）频率，单位 <code>ms</code>；</li><li><code>wdCheckNodesParallelLimit</code>：定时检查节点并发限制。</li></ul><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T01:55:38.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:28:29.000Z\",\"updated_at\":\"2019-04-23T06:14:57.000Z\",\"published_at\":\"2019-04-17T01:55:38.000Z\",\"first_published_at\":\"2019-04-08T09:29:27.000Z\",\"word_count\":1243,\"cover\":null,\"description\":\"一、技术架构1.1 接入层选用高性能的 Nginx 来提供统一接入服务，主要使用其反向代理服务：NodeJS Web Application 的 3000 端口；Guacamole Client 的 8080 端口；WebDriver 的 4444 端口。1.2 应用层Node Web App...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-f2etest-web-install":"{\"id\":1486763,\"slug\":\"f2etest-web-install\",\"title\":\"F2etest-web 部署\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"9cbd9b0f\\\">二、部署</h2><p><br /></p><blockquote><p>请预先在 CentOS 机器上安装最新版的 <code>Docker</code>，如已安装请忽略，安装教程：<a href=\\\"https://www.yuque.com/grasilife/docker/install-centos\\\" target=\\\"_blank\\\">https://www.yuque.com/grasilife/docker/install-centos</a>，</p></blockquote><p><br /></p><pre data-lang=\\\"bash\\\"><code># 获取 `f2etest-web` 镜像\\ndocker pull registry.cn-hangzhou.aliyuncs.com/f2etest/f2etest-web\\n\\n# 启动容器\\n# 映射本地端口，这里已 80 为例，请确保此端口未被占用\\n# 如果 80 被占用，请修改为其它可用端口，例如 8080 端口：-p 8080:80\\ndocker run -dit --privileged -p 80:80 --name f2etest registry.cn-hangzhou.aliyuncs.com/f2etest/f2etest-web\\n\\n# 进入容器\\ndocker exec -it f2etest bash\\n\\n# 初始化数据库表并启动 Web\\nsource setup.sh</code></pre><p><br /></p><h2 id=\\\"7bc1a177\\\">三、配置</h2><p><br /></p><blockquote><p>主要配置 Windows Server IP 地址，其他相关配置已预设。</p></blockquote><p><br /></p><p>先进入容器，已进入请忽略。（<code>docker exec -it f2etest bash</code>）</p><p><br /></p><h3 id=\\\"5ab70705\\\">3.1 站点配置</h3><p><br /></p><pre data-lang=\\\"bash\\\"><code>vi /home/f2etest-web/conf/site.json</code></pre><p><br /></p><p>修改 <code>guacamoleApi</code> 字段，IP 地址改为 CentOS 机器 IP 地址，端口号改为运行容器时映射的本地端口号，<strong>80</strong> 端口可忽略。</p><p><br /></p><p>假设 CentOS IP 地址为 <strong>10.1.1.1</strong>，容器映射的端口号为 <strong>8080</strong>：</p><p><br /></p><pre data-lang=\\\"json\\\"><code>&quot;guacamoleApi&quot;: &quot;http://10.1.1.1:8080/guacamole/client.xhtml&quot;,</code></pre><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9</a></p><p><br /></p><h3 id=\\\"949f1586\\\">3.2 服务器配置</h3><p><br /></p><pre data-lang=\\\"bash\\\"><code>vi /home/f2etest-web/conf/server.json</code></pre><p><br /></p><p>修改数组中第一条记录的 <code>ip</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><pre data-lang=\\\"bash\\\"><code># 重启 web\\npm2 restart 0</code></pre><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#58c92670\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#58c92670</a></p><p><br /></p><h3 id=\\\"1434e7e4\\\">3.3 免登配置</h3><p><br /></p><pre data-lang=\\\"bash\\\"><code>vi /etc/guacamole/noauth-config.xml</code></pre><p><br /></p><p>修改 <code>&lt;param name=&quot;hostname&quot; value=&quot;192.168.1.102&quot; /&gt;</code> 中的 <code>value</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><pre data-lang=\\\"bash\\\"><code># 重启 tomcat8\\nservice tomcat8 restart</code></pre><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b</a></p><p><br /></p><h2 id=\\\"03225136\\\">4. 相关服务</h2><p><br /></p><ul><li><code>nginx</code></li><li><code>tomcat8</code></li><li><code>guacd</code></li><li><code>pm2</code></li><li><code>mysql</code></li></ul><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"858e7e78\\\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\\\"9cbd9b0f\\\">二、部署</h2><p><br /></p><blockquote><p>请预先在 CentOS 机器上安装最新版的 <code>Docker</code>，如已安装请忽略，安装教程：<a href=\\\"https://www.yuque.com/grasilife/docker/install-centos\\\" target=\\\"_blank\\\">https://www.yuque.com/grasilife/docker/install-centos</a>，</p></blockquote><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E8%8E%B7%E5%8F%96%20%60f2etest-web%60%20%E9%95%9C%E5%83%8F%5Cndocker%20pull%20registry.cn-hangzhou.aliyuncs.com%2Ff2etest%2Ff2etest-web%5Cn%5Cn%23%20%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%5Cn%23%20%E6%98%A0%E5%B0%84%E6%9C%AC%E5%9C%B0%E7%AB%AF%E5%8F%A3%EF%BC%8C%E8%BF%99%E9%87%8C%E5%B7%B2%2080%20%E4%B8%BA%E4%BE%8B%EF%BC%8C%E8%AF%B7%E7%A1%AE%E4%BF%9D%E6%AD%A4%E7%AB%AF%E5%8F%A3%E6%9C%AA%E8%A2%AB%E5%8D%A0%E7%94%A8%5Cn%23%20%E5%A6%82%E6%9E%9C%2080%20%E8%A2%AB%E5%8D%A0%E7%94%A8%EF%BC%8C%E8%AF%B7%E4%BF%AE%E6%94%B9%E4%B8%BA%E5%85%B6%E5%AE%83%E5%8F%AF%E7%94%A8%E7%AB%AF%E5%8F%A3%EF%BC%8C%E4%BE%8B%E5%A6%82%208080%20%E7%AB%AF%E5%8F%A3%EF%BC%9A-p%208080%3A80%5Cndocker%20run%20-dit%20--privileged%20-p%2080%3A80%20--name%20f2etest%20registry.cn-hangzhou.aliyuncs.com%2Ff2etest%2Ff2etest-web%5Cn%5Cn%23%20%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8%5Cndocker%20exec%20-it%20f2etest%20bash%5Cn%5Cn%23%20%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%B9%B6%E5%90%AF%E5%8A%A8%20Web%5Cnsource%20setup.sh%22%2C%22id%22%3A%228ac400ad%22%7D\\\"></card><p><br /></p><h2 id=\\\"7bc1a177\\\">三、配置</h2><p><br /></p><blockquote><p>主要配置 Windows Server IP 地址，其他相关配置已预设。</p></blockquote><p><br /></p><p>先进入容器，已进入请忽略。（<code>docker exec -it f2etest bash</code>）</p><p><br /></p><h3 id=\\\"5ab70705\\\">3.1 站点配置</h3><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%225d42321a%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22vi%20%2Fhome%2Ff2etest-web%2Fconf%2Fsite.json%22%7D\\\"></card><p><br /></p><p>修改 <code>guacamoleApi</code> 字段，IP 地址改为 CentOS 机器 IP 地址，端口号改为运行容器时映射的本地端口号，<strong>80</strong> 端口可忽略。</p><p><br /></p><p>假设 CentOS IP 地址为 <strong>10.1.1.1</strong>，容器映射的端口号为 <strong>8080</strong>：</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%5C%22guacamoleApi%5C%22%3A%20%5C%22http%3A%2F%2F10.1.1.1%3A8080%2Fguacamole%2Fclient.xhtml%5C%22%2C%22%2C%22id%22%3A%2240716bc0%22%7D\\\"></card><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#1534b4e9</a></p><p><br /></p><h3 id=\\\"949f1586\\\">3.2 服务器配置</h3><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22d50a2a06%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22vi%20%2Fhome%2Ff2etest-web%2Fconf%2Fserver.json%22%7D\\\"></card><p><br /></p><p>修改数组中第一条记录的 <code>ip</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22857726b5%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E9%87%8D%E5%90%AF%20web%5Cnpm2%20restart%200%22%7D\\\"></card><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#58c92670\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#58c92670</a></p><p><br /></p><h3 id=\\\"1434e7e4\\\">3.3 免登配置</h3><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%221447f943%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22vi%20%2Fetc%2Fguacamole%2Fnoauth-config.xml%22%7D\\\"></card><p><br /></p><p>修改 <code>&lt;param name=&quot;hostname&quot; value=&quot;192.168.1.102&quot; /&gt;</code> 中的 <code>value</code> 为 Windows Server 的 IP 地址。</p><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22id%22%3A%22657d2999%22%2C%22mode%22%3A%22bash%22%2C%22code%22%3A%22%23%20%E9%87%8D%E5%90%AF%20tomcat8%5Cnservice%20tomcat8%20restart%22%7D\\\"></card><p><br /></p><p>了解更多：<a href=\\\"https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b\\\" target=\\\"_blank\\\">https://www.yuque.com/artist/f2etest/f2etest-web#c1a9669b<cursor /></a></p><p><br /></p><h2 id=\\\"03225136\\\">4. 相关服务</h2><p><br /></p><ul><li><code>nginx</code></li><li><code>tomcat8</code></li><li><code>guacd</code></li><li><code>pm2</code></li><li><code>mysql</code></li></ul><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:43:42.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T10:02:36.000Z\",\"updated_at\":\"2019-04-23T06:15:09.000Z\",\"published_at\":\"2019-04-16T16:43:42.000Z\",\"first_published_at\":\"2019-04-08T10:04:38.000Z\",\"word_count\":434,\"cover\":null,\"description\":\"一、前言本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。二、部署请预先在 CentOS 机器上安装最新版的 Docker，如已安装请忽略，安装教程：https://www.yuque.com/grasilife/docker/install...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-faq":"{\"id\":1544487,\"slug\":\"faq\",\"title\":\"FAQ\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"b4dd5aa7\\\">激活 RD 授权管理器</h2><p><br /></p><p><strong>Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器</strong></p><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1555498401487-f3c6e72b-006d-4d8c-85f7-badf0a588a27.png#align=left&amp;display=inline&amp;height=434&amp;originHeight=798&amp;originWidth=1372&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><strong>A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。</strong></p><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1555498435716-849c69de-5182-4200-9d30-44764b470978.png#align=left&amp;display=inline&amp;height=434&amp;originHeight=798&amp;originWidth=1372&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h2 id=\\\"d41d8cd9\\\"><br /></h2><h2 id=\\\"5e5d4d99\\\">打开浏览器</h2><p><br /></p><p><strong>A: 远程可以用 IE 打开，通过 Web 打不开网页。</strong></p><p><br /></p><p><img src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1555498497388-94587b53-fcd4-4222-8d9f-2b2a2120cea7.png#align=left&amp;display=inline&amp;height=805&amp;originHeight=1182&amp;originWidth=1096&amp;size=0&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p><strong>A：检测 IE 代理设置，如果不需要代理，可以不勾选。</strong></p><p><br /></p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"b4dd5aa7\\\">激活 RD 授权管理器</h2><p><br /></p><p><strong>Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器</strong></p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1555498401487-f3c6e72b-006d-4d8c-85f7-badf0a588a27.png%22%2C%22originWidth%22%3A1372%2C%22originHeight%22%3A798%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A434%7D\\\"></card></p><p><br /></p><p><strong>A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。</strong></p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1555498435716-849c69de-5182-4200-9d30-44764b470978.png%22%2C%22originWidth%22%3A1372%2C%22originHeight%22%3A798%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A434%7D\\\"></card></p><p><br /></p><h2 id=\\\"d41d8cd9\\\"><br /></h2><h2 id=\\\"5e5d4d99\\\">打开浏览器</h2><p><br /></p><p><strong>A: 远程可以用 IE 打开，通过 Web 打不开网页。<cursor /></strong></p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1555498497388-94587b53-fcd4-4222-8d9f-2b2a2120cea7.png%22%2C%22originWidth%22%3A1096%2C%22originHeight%22%3A1182%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A805%7D\\\"></card></p><p><br /></p><p><strong>A：检测 IE 代理设置，如果不需要代理，可以不勾选。</strong></p><p><br /></p><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":3,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T10:58:45.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-16T06:50:30.000Z\",\"updated_at\":\"2019-04-23T06:15:35.000Z\",\"published_at\":\"2019-04-17T10:58:45.000Z\",\"first_published_at\":\"2019-04-16T06:50:33.000Z\",\"word_count\":119,\"cover\":null,\"description\":\"激活 RD 授权管理器Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。打开浏览器A: 远程可以用 IE 打开，通过 Web 打不开网页。A：检测 IE 代理设置，如果不需要代理，...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-intro":"{\"id\":1485930,\"slug\":\"intro\",\"title\":\"F2etest 简介\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h1 id=\\\"5dc2da18\\\">一、浏览器测试痛点</h1><p><br /></p><p>多浏览器兼容性<strong>人肉测试</strong>，我们一般有三种解决方案：</p><p><br /></p><ol start=\\\"1\\\"><li>本机安装大量的<strong>虚拟机</strong>，一个浏览器一个虚拟机；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：真实；</li><li>缺点：消耗硬盘资源，消耗 CPU 资源，<strong>效率低下。</strong></li></ul><p><br /></p><ol start=\\\"2\\\"><li>使用 IETester 等模拟软件；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：体积小，资源消耗小；</li><li>缺点：<strong>不真实</strong>，很多特性不能代表真实浏览器。</li></ul><p><br /></p><ol start=\\\"3\\\"><li>公共机器提供多种浏览器。</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：不需要本地安装，不消耗本机资源；</li><li>缺点：资源利用率低，整体资源消耗高。</li></ul><p><br /></p><h1 id=\\\"a64bf9df\\\">二、什么是 F2etest</h1><p><br /></p><p>F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案<span>，</span><span>优势是：</span></p><p><span><br /></span></p><ol start=\\\"1\\\"><li><span style=\\\"color: #000000;\\\"><strong>10 倍以上硬件利用率</strong></span>，降低企业运营成本；</li><li>提供非常棒的桌面用户体验，极大的提高测试效率；</li><li>浏览器云提供<strong>真实浏览器环境</strong>，还原真实测试场景；</li><li>WebDriver 云快速稳定的支撑自动化测试脚本运行。</li></ol><p><br /></p><h3 id=\\\"a7b2c0a2\\\">2.1 浏览器云</h3><p><br /></p><p><img alt=\\\"f2etest.gif\\\" title=\\\"f2etest.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1554711886739-c17d4ec4-6f57-4a06-8c8c-5e9dbeffdb26.gif#align=left&amp;display=inline&amp;height=412&amp;name=f2etest.gif&amp;originHeight=565&amp;originWidth=1024&amp;size=3733830&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>浏览器云提供的是真实的浏览器环境，能够满足<strong>手工的兼容性测试</strong>回归场景，对于<strong>自动化测试脚本的回归</strong>，F2etest 同样提供了 WebDriver 云的方案，<span>可以使用任何支持的编程语言开发测试脚本，并且可以在大多数现代 Web 浏览器中直接运行，</span><span>包括 </span><span>JavaScript、</span><span>C#、Java、Perl、PHP、Python 和 Ruby。</span></p><p><br /></p><h3 id=\\\"85bd106a\\\">2.2 WebDriver 云</h3><p><br /></p><p><span>WebDriver </span>云则是在<span> WebDriver </span>方案的基础上，实现的一套<span> WebDriver Hub </span>解决方案，可以对外提供并调度海量的执行机节点，并提供了以下功能拓展：</p><p><br /></p><ul><li><span>10</span>倍以上硬件利用率：传统<span> WebDriver 1</span>台执行机仅能跑一个<span> Job</span>，而我们一台机器可以高并发跑<span> N </span>个<span> Job</span>，理论上硬件利用率相当于传统节点的<span> 10 </span>倍以上；</li><li>支持独立<span> hosts </span>绑定：每次申请节点时，可以指定不同的<span> hosts </span>绑定，保证同一台机器上不同节点的<span> Job </span>不会相互干扰。</li></ul><p><br /></p><p><img alt=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" title=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1554711886753-217fbcf9-4348-40dc-948a-a6d31838a345.gif#align=left&amp;display=inline&amp;height=420&amp;name=Kapture%202019-04-01%20at%2011.53.49.gif&amp;originHeight=494&amp;originWidth=878&amp;size=8012768&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><p>后面的章节将对 F2etest 的架构<span>原理</span>、安装部署以及使用进行<span>详细讲述</span>。</p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h1 id=\\\"5dc2da18\\\">一、浏览器测试痛点</h1><p><br /></p><p>多浏览器兼容性<strong>人肉测试</strong>，我们一般有三种解决方案：</p><p><br /></p><ol start=\\\"1\\\"><li>本机安装大量的<strong>虚拟机</strong>，一个浏览器一个虚拟机；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：真实；</li><li>缺点：消耗硬盘资源，消耗 CPU 资源，<strong>效率低下。</strong></li></ul><p><br /></p><ol start=\\\"2\\\"><li>使用 IETester 等模拟软件；</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：体积小，资源消耗小；</li><li>缺点：<strong>不真实</strong>，很多特性不能代表真实浏览器。</li></ul><p><br /></p><ol start=\\\"3\\\"><li>公共机器提供多种浏览器。</li></ol><ul data-lake-indent=\\\"1\\\"><li>优点：不需要本地安装，不消耗本机资源；</li><li>缺点：资源利用率低，整体资源消耗高。</li></ul><p><br /></p><h1 id=\\\"a64bf9df\\\">二、什么是 F2etest</h1><p><br /></p><p>F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案<span>，</span><span>优势是：</span></p><p><span><br /></span></p><ol start=\\\"1\\\"><li><span style=\\\"color: #000000;\\\"><strong>10 倍以上硬件利用率</strong></span>，降低企业运营成本；</li><li>提供非常棒的桌面用户体验，极大的提高测试效率；</li><li>浏览器云提供<strong>真实浏览器环境</strong>，还原真实测试场景；</li><li>WebDriver 云快速稳定的支撑自动化测试脚本运行。</li></ol><p><br /></p><h3 id=\\\"a7b2c0a2\\\">2.1 浏览器云</h3><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1554711886739-c17d4ec4-6f57-4a06-8c8c-5e9dbeffdb26.gif%22%2C%22originWidth%22%3A1024%2C%22originHeight%22%3A565%2C%22name%22%3A%22f2etest.gif%22%2C%22size%22%3A3733830%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A412%7D\\\"></card></p><p><br /></p><p>浏览器云提供的是真实的浏览器环境，能够满足<strong>手工的兼容性测试</strong>回归场景，对于<strong>自动化测试脚本的回归</strong>，F2etest 同样提供了 WebDriver 云的方案，<span>可以使用任何支持的编程语言开发测试脚本，并且可以在大多数现代 Web 浏览器中直接运行，</span><span>包括 </span><span>JavaScript、</span><span>C#、Java、Perl、PHP、Python 和 Ruby。</span></p><p><br /></p><h3 id=\\\"85bd106a\\\">2.2 WebDriver 云</h3><p><br /></p><p><span>WebDriver </span>云则是在<span> WebDriver </span>方案的基础上，实现的一套<span> WebDriver Hub </span>解决方案，可以对外提供并调度海量的执行机节点，并提供了以下功能拓展：</p><p><br /></p><ul><li><span>10</span>倍以上硬件利用率：传统<span> WebDriver 1</span>台执行机仅能跑一个<span> Job</span>，而我们一台机器可以高并发跑<span> N </span>个<span> Job</span>，理论上硬件利用率相当于传统节点的<span> 10 </span>倍以上；</li><li>支持独立<span> hosts </span>绑定：每次申请节点时，可以指定不同的<span> hosts </span>绑定，保证同一台机器上不同节点的<span> Job </span>不会相互干扰。</li></ul><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1554711886753-217fbcf9-4348-40dc-948a-a6d31838a345.gif%22%2C%22originWidth%22%3A878%2C%22originHeight%22%3A494%2C%22name%22%3A%22Kapture%202019-04-01%20at%2011.53.49.gif%22%2C%22size%22%3A8012768%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A420%7D\\\"></card></p><p><br /></p><p>后面的章节将对 F2etest 的架构<span>原理</span>、安装部署以及使用进行<span>详细讲述</span>。<cursor /></p><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:33.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T08:23:48.000Z\",\"updated_at\":\"2019-04-23T06:14:48.000Z\",\"published_at\":\"2019-04-11T17:37:33.000Z\",\"first_published_at\":\"2019-04-08T08:33:20.000Z\",\"word_count\":558,\"cover\":null,\"description\":\"一、浏览器测试痛点多浏览器兼容性人肉测试，我们一般有三种解决方案：本机安装大量的虚拟机，一个浏览器一个虚拟机；优点：真实；缺点：消耗硬盘资源，消耗 CPU 资源，效率低下。使用 IETester 等模拟软件；优点：体积小，资源消耗小；缺点：不真实，很多特性不能代表真实浏览器。公共机器提供多种浏...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-undefined":"[{\"id\":1544487,\"slug\":\"faq\",\"title\":\"FAQ\",\"description\":\"激活 RD 授权管理器Q: 激活RD授权管理器时候选择自动连接方式提示无法联系服务器A: 确保你机器能联网，然后多试几次，这个不是很稳定，不行重启网卡或服务器；确保 IE 没有设置代理。打开浏览器A: 远程可以用 IE 打开，通过 Web 打不开网页。A：检测 IE 代理设置，如果不需要代理，...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":3,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T10:58:45.000Z\",\"created_at\":\"2019-04-16T06:50:30.000Z\",\"updated_at\":\"2019-04-23T06:15:35.000Z\",\"published_at\":\"2019-04-17T10:58:45.000Z\",\"first_published_at\":\"2019-04-16T06:50:33.000Z\",\"draft_version\":12,\"last_editor_id\":182712,\"word_count\":119,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1544485,\"slug\":\"about-us\",\"title\":\"关于我们\",\"description\":\"前端艺术家我们是「前端艺术家」。艺术，我们首先会想到特别优美的作品，艺术家通常将美表现到极致，这里与我们前端开发的理念非常类似，我们希望用美的视角去开发人机交互界面，把体验做到极致，用极致的视角去做我们的技术架构、工程效能及用户体验，这就是前端艺术家！我们服务于阿里巴巴国际站，也为集团输出前端...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-23T05:37:51.000Z\",\"created_at\":\"2019-04-16T06:50:21.000Z\",\"updated_at\":\"2019-04-23T06:15:38.000Z\",\"published_at\":\"2019-04-23T05:37:51.000Z\",\"first_published_at\":\"2019-04-16T06:50:26.000Z\",\"draft_version\":5,\"last_editor_id\":182712,\"word_count\":317,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1539695,\"slug\":\"browser-cloud-install\",\"title\":\"浏览器云部署\",\"description\":\"一、前言本部署教程旨在搭建浏览器云最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。二、目标在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。三、部署要使 F2etest 可以运行起来，总结起来，在 ...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:37:23.000Z\",\"created_at\":\"2019-04-15T10:08:00.000Z\",\"updated_at\":\"2019-04-23T06:15:17.000Z\",\"published_at\":\"2019-04-16T16:37:23.000Z\",\"first_published_at\":\"2019-04-15T10:08:04.000Z\",\"draft_version\":110,\"last_editor_id\":182712,\"word_count\":832,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1520852,\"slug\":\"webdriver-cloud-usage\",\"title\":\"如何使用 WebDriver 云\",\"description\":\"一、WebDirver 云1.1 使用方法F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。F2etest WebDriver Hub 连接信息：host：f2etest.alibaba-inc.com po...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:04.000Z\",\"created_at\":\"2019-04-11T16:57:21.000Z\",\"updated_at\":\"2019-04-23T06:15:31.000Z\",\"published_at\":\"2019-04-11T17:37:04.000Z\",\"first_published_at\":\"2019-04-11T17:04:14.000Z\",\"draft_version\":8,\"last_editor_id\":182712,\"word_count\":653,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1520849,\"slug\":\"browser-cloud-usage\",\"title\":\"如何使用浏览器云\",\"description\":\"一、浏览器云1.1 使用方法如下图所示为已集成至 F2etest 平台的浏览器列表，根据需要点击对应的浏览器图标，即可跳转至安装有对应浏览器的远程桌面页面，操作体验跟桌面操作一致。1.2 hostShare在实际测试场景中，可能存在多套测试环境的情况，比如日常环境、预发环境、线上环境，而在默认...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T16:57:10.000Z\",\"created_at\":\"2019-04-11T16:55:23.000Z\",\"updated_at\":\"2019-04-23T06:15:27.000Z\",\"published_at\":\"2019-04-11T16:57:10.000Z\",\"first_published_at\":\"2019-04-11T16:57:10.000Z\",\"draft_version\":4,\"last_editor_id\":182712,\"word_count\":282,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486777,\"slug\":\"webdriver-cloud-install\",\"title\":\"WebDriver 云的安装部署\",\"description\":\"一、安装运行本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像1.1 安装并配置远程桌面服务增加角色选择远程桌面服务勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问选择不适用网络级别身份验证授权模式选择按用户选择用户组...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":5,\"comments_count\":0,\"content_updated_at\":\"2019-04-23T05:44:30.000Z\",\"created_at\":\"2019-04-08T10:04:48.000Z\",\"updated_at\":\"2019-04-23T06:15:22.000Z\",\"published_at\":\"2019-04-23T05:44:30.000Z\",\"first_published_at\":\"2019-04-08T10:06:01.000Z\",\"draft_version\":20,\"last_editor_id\":292665,\"word_count\":1105,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":292665,\"type\":\"User\",\"login\":\"micosty\",\"name\":\"Micosty\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-18T02:28:23.000Z\",\"updated_at\":\"2019-03-22T09:58:23.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486763,\"slug\":\"f2etest-web-install\",\"title\":\"F2etest-web 部署\",\"description\":\"一、前言本部署教程旨在搭建 F2etest 最小体验版，请预先准备 CentOS 7 虚拟机或物理机 1 台。二、部署请预先在 CentOS 机器上安装最新版的 Docker，如已安装请忽略，安装教程：https://www.yuque.com/grasilife/docker/install...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:43:42.000Z\",\"created_at\":\"2019-04-08T10:02:36.000Z\",\"updated_at\":\"2019-04-23T06:15:09.000Z\",\"published_at\":\"2019-04-16T16:43:42.000Z\",\"first_published_at\":\"2019-04-08T10:04:38.000Z\",\"draft_version\":7,\"last_editor_id\":182712,\"word_count\":434,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486655,\"slug\":\"webdriver-cloud\",\"title\":\"WebDriver 云实现原理\",\"description\":\"一、WebDriver 云架构WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构F2etest-web 是 webdriver 云的用户界面层，对于 f2etest-webdriv...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:41:02.000Z\",\"created_at\":\"2019-04-08T09:47:26.000Z\",\"updated_at\":\"2019-04-23T06:15:05.000Z\",\"published_at\":\"2019-04-16T16:41:02.000Z\",\"first_published_at\":\"2019-04-08T09:53:17.000Z\",\"draft_version\":6,\"last_editor_id\":182712,\"word_count\":419,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486626,\"slug\":\"browser-cloud\",\"title\":\"浏览器云架构\",\"description\":\"一、浏览器云的工作原理浏览器云为用户的请求访问提供了一个真实的运行环境，如何把远端 Windows Server 上访问的情况提供给客户，成为了浏览器云需要解决的问题，原理解析以单机的 Windows Server 为例。客户从浏览器启动应用，看到 Windows Server 的远程桌面，到...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-10T07:44:08.000Z\",\"created_at\":\"2019-04-08T09:43:45.000Z\",\"updated_at\":\"2019-04-23T06:15:01.000Z\",\"published_at\":\"2019-04-10T07:44:08.000Z\",\"first_published_at\":\"2019-04-08T09:46:57.000Z\",\"draft_version\":8,\"last_editor_id\":292665,\"word_count\":1042,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":292665,\"type\":\"User\",\"login\":\"micosty\",\"name\":\"Micosty\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/jpeg/anonymous/1552876087667-04d174b6-6f65-4eab-941e-22608c8c7fe0.jpeg?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":0,\"created_at\":\"2019-03-18T02:28:23.000Z\",\"updated_at\":\"2019-03-22T09:58:23.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486475,\"slug\":\"f2etest-web\",\"title\":\"F2etest-web 架构\",\"description\":\"一、技术架构1.1 接入层选用高性能的 Nginx 来提供统一接入服务，主要使用其反向代理服务：NodeJS Web Application 的 3000 端口；Guacamole Client 的 8080 端口；WebDriver 的 4444 端口。1.2 应用层Node Web App...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-17T01:55:38.000Z\",\"created_at\":\"2019-04-08T09:28:29.000Z\",\"updated_at\":\"2019-04-23T06:14:57.000Z\",\"published_at\":\"2019-04-17T01:55:38.000Z\",\"first_published_at\":\"2019-04-08T09:29:27.000Z\",\"draft_version\":7,\"last_editor_id\":182712,\"word_count\":1243,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1486447,\"slug\":\"architecture\",\"title\":\"整体架构\",\"description\":\"一、名词释义浏览器云： 提供真实的多浏览器兼容性环境，还原真实测试场景。WebDriver：https://w3c.github.io/webdriver/，WebDriver 是一个远程控制接口，可以对用户代理进行内省和控制。它提供了一种平台和语言中立的 wire protocol，来作为进...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:39:44.000Z\",\"created_at\":\"2019-04-08T09:24:37.000Z\",\"updated_at\":\"2019-04-23T06:14:53.000Z\",\"published_at\":\"2019-04-16T16:39:44.000Z\",\"first_published_at\":\"2019-04-08T09:25:48.000Z\",\"draft_version\":10,\"last_editor_id\":182712,\"word_count\":604,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"},{\"id\":1485930,\"slug\":\"intro\",\"title\":\"F2etest 简介\",\"description\":\"一、浏览器测试痛点多浏览器兼容性人肉测试，我们一般有三种解决方案：本机安装大量的虚拟机，一个浏览器一个虚拟机；优点：真实；缺点：消耗硬盘资源，消耗 CPU 资源，效率低下。使用 IETester 等模拟软件；优点：体积小，资源消耗小；缺点：不真实，很多特性不能代表真实浏览器。公共机器提供多种浏...\",\"user_id\":182712,\"book_id\":245753,\"format\":\"lake\",\"public\":1,\"status\":1,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:33.000Z\",\"created_at\":\"2019-04-08T08:23:48.000Z\",\"updated_at\":\"2019-04-23T06:14:48.000Z\",\"published_at\":\"2019-04-11T17:37:33.000Z\",\"first_published_at\":\"2019-04-08T08:33:20.000Z\",\"draft_version\":15,\"last_editor_id\":182712,\"word_count\":558,\"cover\":null,\"custom_description\":null,\"last_editor\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"book\":null,\"_serializer\":\"v2.doc\"}]","linshuoting-f2etest-webdriver-cloud":"{\"id\":1486655,\"slug\":\"webdriver-cloud\",\"title\":\"WebDriver 云实现原理\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h1 id=\\\"96bab6ea\\\">一、WebDriver 云架构</h1><p><br /></p><p><span>WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构</span></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716858950-dc86ef14-8b0f-497a-a21d-5e0bb7771e2d.png#align=left&amp;display=inline&amp;height=721&amp;name=image.png&amp;originHeight=721&amp;originWidth=1462&amp;size=140068&amp;status=done&amp;width=1462\\\" style=\\\"max-width: 600px; width: 1462px;\\\" /></p><p><br /></p><p><strong>F2etest-web </strong>是 webdriver 云的用户界面层，</p><ul><li>对于 f2etest-webdriver 模块提供了 API 做<strong>健康检查</strong>的上报，并将节点定时上报的状态（空闲、工作、离线）存储在 DB 中。</li><li>对于服务调用方，则根据节点上报的状态，找到空闲的节点，分配到不同的节点地址。</li></ul><p><br /></p><p>来细看 f2etest-webdriver 的实现</p><ul><li><strong>WebDriver Proxy </strong>是 node.js 实现的一个 WebDriver 会话管理程序，负责启动 <strong><span>Selenium，</span></strong>上报节点状态和<span>代理</span>设置，监听<span>端口是 4000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 40001 端口</span>。</li><li><strong><span>Selenium </span></strong><span>监听的端口是 5000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 50001 端口。</span></li><li><strong><span>ChromeDriver, IEDriver, FirefoxDriver </span></strong><span>由浏览器厂商提供，</span>是网站测试架构 selenium 的基础部分，主要是通过 http 通信实现的，它们是 selenium 和浏览器进行通信的桥梁。</li><li><strong>Daemon </strong>守护进程（openAllNode.bat），监听远程桌面节点是否都存活，若节点进程挂掉，则会重新启动node.rdp，进而重启节点。</li></ul><p><br /></p><h1 id=\\\"1dc0ea59\\\">二、f2etest-webdriver 调用流程</h1><p><br /></p><p>上报的 WebDriver 节点存活状态：</p><p><br /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554716858959-a6a33339-e0f0-4bb4-915a-ff3d0fb4de41.png#align=left&amp;display=inline&amp;height=512&amp;name=image.png&amp;originHeight=1024&amp;originWidth=2460&amp;size=906045&amp;status=done&amp;width=1230\\\" style=\\\"max-width: 600px; width: 1230px;\\\" /></p><p><br /></p><h1 id=\\\"122777f4\\\">三、小结</h1><p><br /></p><p>WebDriver 云原理并不复杂，难点在于机器部署的成本高，这一点也造成了推广使用的成本高，有两种解决方案，一是提供打包好的镜像文件，供直接下载。二是提供 Windows Docker 镜像，将在博客专栏节中进行探讨。</p>\",\"body_lake\":\"<!doctype lake><h1 id=\\\"96bab6ea\\\">一、WebDriver <cursor />云架构</h1><p><br /></p><p><span>WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构</span></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716858950-dc86ef14-8b0f-497a-a21d-5e0bb7771e2d.png%22%2C%22originWidth%22%3A1462%2C%22originHeight%22%3A721%2C%22name%22%3A%22image.png%22%2C%22size%22%3A140068%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1462%2C%22height%22%3A721%7D\\\"></card></p><p><br /></p><p><strong>F2etest-web </strong>是 webdriver 云的用户界面层，</p><ul><li>对于 f2etest-webdriver 模块提供了 API 做<strong>健康检查</strong>的上报，并将节点定时上报的状态（空闲、工作、离线）存储在 DB 中。</li><li>对于服务调用方，则根据节点上报的状态，找到空闲的节点，分配到不同的节点地址。</li></ul><p><br /></p><p>来细看 f2etest-webdriver 的实现</p><ul><li><strong>WebDriver Proxy </strong>是 node.js 实现的一个 WebDriver 会话管理程序，负责启动 <strong><span>Selenium，</span></strong>上报节点状态和<span>代理</span>设置，监听<span>端口是 4000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 40001 端口</span>。</li><li><strong><span>Selenium </span></strong><span>监听的端口是 5000{1-8}，1-8 为节点的序号，如 node01，</span><span>则监听 50001 端口。</span></li><li><strong><span>ChromeDriver, IEDriver, FirefoxDriver </span></strong><span>由浏览器厂商提供，</span>是网站测试架构 selenium 的基础部分，主要是通过 http 通信实现的，它们是 selenium 和浏览器进行通信的桥梁。</li><li><strong>Daemon </strong>守护进程（openAllNode.bat），监听远程桌面节点是否都存活，若节点进程挂掉，则会重新启动node.rdp，进而重启节点。</li></ul><p><br /></p><h1 id=\\\"1dc0ea59\\\">二、f2etest-webdriver 调用流程</h1><p><br /></p><p>上报的 WebDriver 节点存活状态：</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554716858959-a6a33339-e0f0-4bb4-915a-ff3d0fb4de41.png%22%2C%22originWidth%22%3A2460%2C%22originHeight%22%3A1024%2C%22name%22%3A%22image.png%22%2C%22size%22%3A906045%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1230%2C%22height%22%3A512%7D\\\"></card></p><p><br /></p><h1 id=\\\"122777f4\\\">三、小结</h1><p><br /></p><p>WebDriver 云原理并不复杂，难点在于机器部署的成本高，这一点也造成了推广使用的成本高，有两种解决方案，一是提供打包好的镜像文件，供直接下载。二是提供 Windows Docker 镜像，将在博客专栏节中进行探讨。</p>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-16T16:41:02.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T09:47:26.000Z\",\"updated_at\":\"2019-04-23T06:15:05.000Z\",\"published_at\":\"2019-04-16T16:41:02.000Z\",\"first_published_at\":\"2019-04-08T09:53:17.000Z\",\"word_count\":419,\"cover\":null,\"description\":\"一、WebDriver 云架构WebDriver 云则是基于 Webdriver 实现的一套 WebDriver Hub 解决方案，提供并调度执行自动化测试的工作节点。下面我们来看下它的基本架构F2etest-web 是 webdriver 云的用户界面层，对于 f2etest-webdriv...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-webdriver-cloud-install":"{\"id\":1486777,\"slug\":\"webdriver-cloud-install\",\"title\":\"WebDriver 云的安装部署\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h1 id=\\\"cafb404e\\\">一、安装运行</h1><p>本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像</p><h3 id=\\\"8eb6c870\\\">1.1 安装并配置远程桌面服务</h3><ul><li>增加角色</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187708-bd8d9fe7-3b9a-481c-98f4-5a69ecf4fdfc.png#align=left&amp;display=inline&amp;height=858&amp;name=image.png&amp;originHeight=1716&amp;originWidth=2880&amp;size=381151&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>选择远程桌面服务</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187691-46402cf6-1cf1-42a5-afd2-7c383c0460a2.png#align=left&amp;display=inline&amp;height=857&amp;name=image.png&amp;originHeight=1714&amp;originWidth=2880&amp;size=487041&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187691-9677110c-8e53-441e-bd69-2c01e939c6a7.png#align=left&amp;display=inline&amp;height=854&amp;name=image.png&amp;originHeight=1708&amp;originWidth=2880&amp;size=475112&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>选择不适用网络级别身份验证</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187710-8e9f1df0-ba91-4c7a-8bb5-062238738b3f.png#align=left&amp;display=inline&amp;height=855&amp;name=image.png&amp;originHeight=1710&amp;originWidth=2876&amp;size=518693&amp;status=done&amp;width=1438\\\" style=\\\"max-width: 600px; width: 1438px;\\\" /></p><p><br /></p><ul><li>授权模式选择按用户</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187717-f58a5049-c6fe-4d98-a3c5-4ae1ed7c9e16.png#align=left&amp;display=inline&amp;height=854&amp;name=image.png&amp;originHeight=1708&amp;originWidth=2880&amp;size=487534&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>选择用户组</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187726-eba87859-2ce3-45c2-9902-1122b8a6b962.png#align=left&amp;display=inline&amp;height=856&amp;name=image.png&amp;originHeight=1712&amp;originWidth=2880&amp;size=485506&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187715-7bc983ef-7f3e-44c1-a252-fc2d2edbccf5.png#align=left&amp;display=inline&amp;height=856&amp;name=image.png&amp;originHeight=1712&amp;originWidth=2880&amp;size=452726&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>客户端体验(默认，点Next)</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187733-32b53f9b-8eec-4796-aa33-75f856c8d951.png#align=left&amp;display=inline&amp;height=859&amp;name=image.png&amp;originHeight=1718&amp;originWidth=2880&amp;size=500387&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>RD授权模式（默认，Next）</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187741-086d79f7-aa09-4040-9713-8a2e254813f7.png#align=left&amp;display=inline&amp;height=858&amp;name=image.png&amp;originHeight=1716&amp;originWidth=2880&amp;size=525160&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>勾选(IIS - ASP)</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187726-9bc781c9-ca1a-4d8b-be34-729980af3a61.png#align=left&amp;display=inline&amp;height=857&amp;name=image.png&amp;originHeight=1714&amp;originWidth=2876&amp;size=516861&amp;status=done&amp;width=1438\\\" style=\\\"max-width: 600px; width: 1438px;\\\" /></p><p><br /></p><ul><li>开始安装</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187751-fe48b49e-b7ba-4f41-a0db-ef4ed2b8cd27.png#align=left&amp;display=inline&amp;height=856&amp;name=image.png&amp;originHeight=1712&amp;originWidth=2880&amp;size=526102&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>重启服务器</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187753-ef73e3dc-bf5e-4ac4-899d-4cfec0fddb3a.png#align=left&amp;display=inline&amp;height=855&amp;name=image.png&amp;originHeight=1710&amp;originWidth=2880&amp;size=496827&amp;status=done&amp;width=1440\\\" style=\\\"max-width: 600px; width: 1440px;\\\" /></p><p><br /></p><ul><li>激活授权服务器</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187757-9727cac1-9dd2-42ff-9e17-aa05d5abbbb6.png#align=left&amp;display=inline&amp;height=644&amp;name=image.png&amp;originHeight=1288&amp;originWidth=1626&amp;size=277559&amp;status=done&amp;width=813\\\" style=\\\"max-width: 600px; width: 813px;\\\" /></p><p><br /></p><ul><li>右键 -&gt; 激活服务</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187755-b8ec1d61-4108-4f20-bd23-6cae1b3259ef.png#align=left&amp;display=inline&amp;height=625&amp;name=image.png&amp;originHeight=1250&amp;originWidth=2160&amp;size=123878&amp;status=done&amp;width=1080\\\" style=\\\"max-width: 600px; width: 1080px;\\\" /></p><p><br /></p><ul><li>选择自动连接</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187756-88e34d23-e4c1-4de1-8c8d-c1aa2681120e.png#align=left&amp;display=inline&amp;height=624&amp;name=image.png&amp;originHeight=1248&amp;originWidth=2154&amp;size=165128&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187770-ed119f36-e2b9-4a53-b5a4-e853182fd29e.png#align=left&amp;display=inline&amp;height=622&amp;name=image.png&amp;originHeight=1244&amp;originWidth=2156&amp;size=167466&amp;status=done&amp;width=1078\\\" style=\\\"max-width: 600px; width: 1078px;\\\" /></p><p><br /></p><ul><li>开始激活引导</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187766-f343ca3f-2c61-4674-9e76-79d5aeef6e76.png#align=left&amp;display=inline&amp;height=622&amp;name=image.png&amp;originHeight=1244&amp;originWidth=2156&amp;size=263126&amp;status=done&amp;width=1078\\\" style=\\\"max-width: 600px; width: 1078px;\\\" /></p><p><br /></p><ul><li>选择企业协议</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187773-e10d626e-01ba-4363-9869-9255527e4bd6.png#align=left&amp;display=inline&amp;height=625&amp;name=image.png&amp;originHeight=1250&amp;originWidth=2162&amp;size=167547&amp;status=done&amp;width=1081\\\" style=\\\"max-width: 600px; width: 1081px;\\\" /></p><p>填写协议号码</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187773-16e08e7a-3fe1-4151-b0ee-a1410113cc96.png#align=left&amp;display=inline&amp;height=625&amp;name=image.png&amp;originHeight=1250&amp;originWidth=2154&amp;size=129118&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></p><p><br /></p><ul><li>许可证用户选择按用户</li></ul><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187778-524937df-e2bf-44a1-ae7b-4536f85299bd.png#align=left&amp;display=inline&amp;height=624&amp;name=image.png&amp;originHeight=1248&amp;originWidth=2158&amp;size=180832&amp;status=done&amp;width=1079\\\" style=\\\"max-width: 600px; width: 1079px;\\\" /></p><p><br /></p><ul><li>激活完成</li></ul><p><strong><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187783-8f88c7b3-e53d-496a-b81d-7eb83ebc9519.png#align=left&amp;display=inline&amp;height=627&amp;name=image.png&amp;originHeight=1254&amp;originWidth=2154&amp;size=243829&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></strong></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187796-64c6e09d-c469-4cba-af14-ef961bff36a3.png#align=left&amp;display=inline&amp;height=623&amp;name=image.png&amp;originHeight=1246&amp;originWidth=2154&amp;size=105918&amp;status=done&amp;width=1077\\\" style=\\\"max-width: 600px; width: 1077px;\\\" /></p><h3 id=\\\"9971dbcf\\\">1.2 安装NodeJs</h3><p>安装请访问官网：<a href=\\\"https://nodejs.org/\\\" target=\\\"_blank\\\"><span>https://nodejs.org</span></a>，如果已安装好，请略过</p><p><strong>为了稳定，建议安装LTS版本</strong></p><p><strong><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187796-10c3b607-349e-430c-9ef1-b3a1b27e2c81.png#align=left&amp;display=inline&amp;height=192&amp;name=image.png&amp;originHeight=384&amp;originWidth=500&amp;size=23426&amp;status=done&amp;width=250\\\" style=\\\"max-width: 600px; width: 250px;\\\" /></strong></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"3c733ab0\\\">1.3 安装Java</h3><p> 安装请访问官网：<a href=\\\"https://java.com/zh_CN/download/\\\" target=\\\"_blank\\\"><span>https://java.com/zh_CN/download/</span></a></p><p> 用于运行WebDriver Server(Selenium2)</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187809-cf5ff82e-1e8e-4919-b104-5d060737d887.png#align=left&amp;display=inline&amp;height=192&amp;name=image.png&amp;originHeight=383&amp;originWidth=706&amp;size=29156&amp;status=done&amp;width=353\\\" style=\\\"max-width: 600px; width: 353px;\\\" /></p><h3 id=\\\"d41d8cd9-1\\\"><br /></h3><h3 id=\\\"1a4291e4\\\">1.4 下载f2etest-webdriver</h3><p>下载并拷贝 <a href=\\\"https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver\\\" target=\\\"_blank\\\">https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver</a>，放到C盘更目录下C:\\\\f2etest-webdriver</p><h3 id=\\\"d41d8cd9-2\\\"><br /></h3><h3 id=\\\"8bda3f3c\\\">1.5 初始化子节点账号数据</h3><p>1<span>. 命令行输入：`gpedit.msc`，</span>关闭密码复杂性要求</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187802-1e1257d1-37dc-4335-9f15-4fbb7386dda2.png#align=left&amp;display=inline&amp;height=621&amp;name=image.png&amp;originHeight=1242&amp;originWidth=1874&amp;size=232297&amp;status=done&amp;width=937\\\" style=\\\"max-width: 600px; width: 937px;\\\" /></p><p><br /></p><p>2<span>. </span>双击`批量设置节点用户.vbs`文件，输入需要初始化的节点数量，例如：8</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187811-ba10022f-b826-4e1b-bd46-77c3dd940f21.png#align=left&amp;display=inline&amp;height=492&amp;name=image.png&amp;originHeight=984&amp;originWidth=1718&amp;size=147123&amp;status=done&amp;width=859\\\" style=\\\"max-width: 600px; width: 859px;\\\" /></p><p><br /></p><p>3. 在本地用户和组中可看到已经初始化好的8个节点用户</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187815-6e9f081b-806c-4224-8eff-087f2f9a71e3.png#align=left&amp;display=inline&amp;height=738&amp;name=image.png&amp;originHeight=1476&amp;originWidth=2040&amp;size=200197&amp;status=done&amp;width=1020\\\" style=\\\"max-width: 600px; width: 1020px;\\\" /></p><p>4. 删除多页的节点rdp文件，只保留8个，与节点用户保持一致</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187827-65a236a1-73b1-4fec-9c37-5cf05c109b93.png#align=left&amp;display=inline&amp;height=181&amp;name=image.png&amp;originHeight=362&amp;originWidth=637&amp;size=48324&amp;status=done&amp;width=319\\\" style=\\\"max-width: 600px; width: 319px;\\\" /></p><p><br /></p><h3 id=\\\"ba609199\\\">1.6 初始化环境变量</h3><p>将`C:\\\\f2etest-webdriver\\\\webdriver\\\\`文件夹添加到PATH环境变量中</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187824-604d0c99-58a7-4993-b750-570124f17c0f.png#align=left&amp;display=inline&amp;height=600&amp;name=image.png&amp;originHeight=1200&amp;originWidth=2020&amp;size=252051&amp;status=done&amp;width=1010\\\" style=\\\"max-width: 600px; width: 1010px;\\\" /></p><p><br /></p><h3 id=\\\"90f916c3\\\">1.7 关闭IE增强配置</h3><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187827-c958321f-c678-4e22-9ad1-f1dc6a2ad5dc.png#align=left&amp;display=inline&amp;height=478&amp;name=image.png&amp;originHeight=730&amp;originWidth=1140&amp;size=88584&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187863-bd249556-5c42-4aa1-af53-67a0d7be8f21.png#align=left&amp;display=inline&amp;height=497&amp;name=image.png&amp;originHeight=599&amp;originWidth=899&amp;size=117771&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h3 id=\\\"d41d8cd9-3\\\"><br /></h3><h3 id=\\\"dc00dd3e\\\">1.8 安装Chrome</h3><p>这里有个点要注意的是Chrome版本要与Chrome Webdriver的版本对上，如Chrome 73 要对应Chrome WebDriver 73</p><p>附：webdriver下载链接<a href=\\\"https://sites.google.com/a/chromium.org/chromedriver/downloads\\\" target=\\\"_blank\\\">https://sites.google.com/a/chromium.org/chromedriver/downloads</a></p><h3 id=\\\"d41d8cd9-4\\\"><br /></h3><h3 id=\\\"557d2443\\\">1.9 禁用防火墙</h3><p style=\\\"text-indent: 2em;\\\">防止WebDriver命令无法转发至本机</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187844-bd72236c-70ae-49f0-8c81-786cadaa9aff.png#align=left&amp;display=inline&amp;height=598&amp;name=image.png&amp;originHeight=1196&amp;originWidth=1794&amp;size=165936&amp;status=done&amp;width=897\\\" style=\\\"max-width: 600px; width: 897px;\\\" /></p><p><br /></p><h3 id=\\\"7f2b1e2f\\\">1.10 设置服务器每天定时重启</h3><p><span>1. </span>添加计划任务</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187851-8f471e5a-6ff8-4b6e-84a1-afe739cfae61.png#align=left&amp;display=inline&amp;height=734&amp;name=image.png&amp;originHeight=1468&amp;originWidth=2296&amp;size=442859&amp;status=done&amp;width=1148\\\" style=\\\"max-width: 600px; width: 1148px;\\\" /></p><p>2. 命令输入：shutdown /f /r /t 30</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187857-d5316020-174f-4185-a3b3-e8c640583a5d.png#align=left&amp;display=inline&amp;height=733&amp;name=image.png&amp;originHeight=1466&amp;originWidth=2290&amp;size=391090&amp;status=done&amp;width=1145\\\" style=\\\"max-width: 600px; width: 1145px;\\\" /></p><p>3. 时间建议选择在凌晨5点左右</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187884-92edda92-1704-4b18-8552-4d4c2e0cd1a8.png#align=left&amp;display=inline&amp;height=734&amp;name=image.png&amp;originHeight=1468&amp;originWidth=2284&amp;size=458663&amp;status=done&amp;width=1142\\\" style=\\\"max-width: 600px; width: 1142px;\\\" /></p><p>4. 创建完成</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187893-5771fc57-510f-411f-a8db-43042e76a612.png#align=left&amp;display=inline&amp;height=249&amp;name=image.png&amp;originHeight=498&amp;originWidth=1354&amp;size=38807&amp;status=done&amp;width=677\\\" style=\\\"max-width: 600px; width: 677px;\\\" /></p><p><span style=\\\"background-color: transparent;\\\">1.11 初始化webdriver节点</span><br /></p><p>1. 执行`RDP.exe`</p><p>2. password处输入：`hello1234`</p><p>3. 点击`Encrypt按钮`</p><p>4. 复制出加密后的Hash</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187902-3192db8a-bf9c-4443-a945-a2342a5396c9.png#align=left&amp;display=inline&amp;height=138&amp;name=image.png&amp;originHeight=276&amp;originWidth=679&amp;size=32760&amp;status=done&amp;width=340\\\" style=\\\"max-width: 600px; width: 340px;\\\" /></p><p><span style=\\\"background-color: #D9D9D9;\\\">注：由于不同系统生成的Hash不同，因此，这个值需要在每台执行机上进行动态生成并替换</span></p><p><br /></p><p>5. 替换当前子文件夹中所有rdp扩展名的文件，替换password_hash为刚才复制的加密后Hash</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187908-4dda5d23-1be8-40d3-a92d-c61f98105993.png#align=left&amp;display=inline&amp;height=667&amp;name=image.png&amp;originHeight=1334&amp;originWidth=1504&amp;size=159457&amp;status=done&amp;width=752\\\" style=\\\"max-width: 600px; width: 752px;\\\" /></p><p><br /></p><p>6. 修改`webdriver/opennode.bat`</p><ol start=\\\"1\\\"><li>修改f2etestHost变量为f2etest服务部署的IP地址或域名</li><li>browsers变量修改为本机所部署的浏览器名称，多个浏览器以逗号间隔，浏览器名称和浏览器版本号之间以空格间隔，例如: IE 11,Chrome,Firefox</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187915-2a880c53-a291-428b-8736-56b02458eee6.png#align=left&amp;display=inline&amp;height=306&amp;name=image.png&amp;originHeight=611&amp;originWidth=1026&amp;size=55565&amp;status=done&amp;width=513\\\" style=\\\"max-width: 600px; width: 513px;\\\" /></p><p><br /></p><h3 id=\\\"ee330611\\\">1.12 启动节点</h3><ol start=\\\"1\\\"><li>执行<code>rdp\\\\openAllNode.bat</code>，然后打开一次所有的IE浏览器，进行首次初始化，同时启用所有安全区域的保护模式</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187963-4742b558-4780-4ed1-9547-807980725afc.png#align=left&amp;display=inline&amp;height=745&amp;name=image.png&amp;originHeight=1490&amp;originWidth=2702&amp;size=298751&amp;status=done&amp;width=1351\\\" style=\\\"max-width: 600px; width: 1351px;\\\" /></p><ol start=\\\"2\\\"><li>第1步完成后，执行<code>rdp\\\\initAllNodes.bat</code>，批量添加启动批处理</li></ol><p><br /></p><ol start=\\\"3\\\"><li>所有节点初始化完成后，将<code>rdp\\\\openAllNode.bat</code>添加快捷方式到Administrator账号的系统自动启动文件夹，以实现开机自动打开所有的WebDriver节点</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187924-d3059296-996b-4a12-a630-5365e1ef2b54.png#align=left&amp;display=inline&amp;height=136&amp;name=image.png&amp;originHeight=271&amp;originWidth=250&amp;size=19733&amp;status=done&amp;width=125\\\" style=\\\"max-width: 600px; width: 125px;\\\" /></p><p><br /></p><ol start=\\\"4\\\"><li>命令行输入：<code>netplwiz</code>，在高级用户控制面板中，取消对<code>“要使用本机，用户需输入用户名和密码(E)”</code>项的勾选。系统将弹出窗口要求输入默认登录系统的用户名和密码，输入完成后点击确定</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187927-54143e99-2523-4085-991a-4de65ce1c0af.png#align=left&amp;display=inline&amp;height=252&amp;name=image.png&amp;originHeight=503&amp;originWidth=467&amp;size=41419&amp;status=done&amp;width=234\\\" style=\\\"max-width: 600px; width: 234px;\\\" /></p><ol start=\\\"5\\\"><li style=\\\"padding-left: 22px;\\\">重启操作系统，如果正常的话，所有节点在3分钟左右之后应该会自动启动</li></ol><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187934-0efa9554-99c6-4067-ab66-a5b12ab2815d.png#align=left&amp;display=inline&amp;height=166&amp;name=image.png&amp;originHeight=331&amp;originWidth=666&amp;size=16816&amp;status=done&amp;width=333\\\" style=\\\"max-width: 600px; width: 333px;\\\" /></p><p><br /></p><p>6.关闭保护模式（需要到每个节点的远程桌面中关闭）</p><p>IE浏览器 -&gt; Ineternet选项，安全，对应4个Tab都需要关闭保护模式，否则报“Unexpected error launching Internet Explorer. Protected Mode settings are not the same for all zones”的错误</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998187942-1d52b0c3-33f9-45ed-ad3a-a2d2bed7f4ff.png#align=left&amp;display=inline&amp;height=497&amp;name=image.png&amp;originHeight=599&amp;originWidth=899&amp;size=117771&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><h2 id=\\\"a16df528\\\">二、节点测试与验证</h2><p>使用UIRecorder 示例项目 来进行WebDriver的验证</p><h4 id=\\\"052d8f63\\\">2.1 执行UIRecorder测试脚本</h4><p>配置config.json</p><pre data-lang=\\\"json\\\"><code>{\\n    &quot;webdriver&quot;: {\\n        &quot;host&quot;: &quot;你的webdriver节点IP&quot;,\\n        &quot;port&quot;: &quot;4001&quot;,\\n        &quot;browsers&quot;: &quot;ie11, chrome&quot;\\n    }\\n }</code></pre><p>端口是4001对应node01, 以此类推4008对应node08</p><p><br /></p><p>运行测试脚本 source run.sh sample/test.spec.js</p><p><img alt=\\\"image.png\\\" title=\\\"image.png\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/png/292665/1555998188000-669e018a-86e9-434d-9ea4-f2a0c72ae21f.png#align=left&amp;display=inline&amp;height=368&amp;name=image.png&amp;originHeight=368&amp;originWidth=545&amp;size=48287&amp;status=done&amp;width=545\\\" style=\\\"max-width: 600px; width: 545px;\\\" /></p><p>验证通过</p><p><br /></p>\",\"body_lake\":\"<!doctype lake><h1 id=\\\"cafb404e\\\">一、安装运行</h1><p>本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像</p><h3 id=\\\"8eb6c870\\\">1.1 安装并配置远程桌面服务</h3><ul><li>增加角色</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187708-bd8d9fe7-3b9a-481c-98f4-5a69ecf4fdfc.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1716%2C%22name%22%3A%22image.png%22%2C%22size%22%3A381151%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A858%7D\\\"></card></p><p><br /></p><ul><li>选择远程桌面服务</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187691-46402cf6-1cf1-42a5-afd2-7c383c0460a2.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1714%2C%22name%22%3A%22image.png%22%2C%22size%22%3A487041%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A857%7D\\\"></card></p><p><br /></p><ul><li>勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187691-9677110c-8e53-441e-bd69-2c01e939c6a7.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1708%2C%22name%22%3A%22image.png%22%2C%22size%22%3A475112%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A854%7D\\\"></card></p><p><br /></p><ul><li>选择不适用网络级别身份验证</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187710-8e9f1df0-ba91-4c7a-8bb5-062238738b3f.png%22%2C%22originWidth%22%3A2876%2C%22originHeight%22%3A1710%2C%22name%22%3A%22image.png%22%2C%22size%22%3A518693%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1438%2C%22height%22%3A855%7D\\\"></card></p><p><br /></p><ul><li>授权模式选择按用户</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187717-f58a5049-c6fe-4d98-a3c5-4ae1ed7c9e16.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1708%2C%22name%22%3A%22image.png%22%2C%22size%22%3A487534%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A854%7D\\\"></card></p><p><br /></p><ul><li>选择用户组</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187726-eba87859-2ce3-45c2-9902-1122b8a6b962.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1712%2C%22name%22%3A%22image.png%22%2C%22size%22%3A485506%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A856%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187715-7bc983ef-7f3e-44c1-a252-fc2d2edbccf5.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1712%2C%22name%22%3A%22image.png%22%2C%22size%22%3A452726%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A856%7D\\\"></card></p><p><br /></p><ul><li>客户端体验(默认，点Next)</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187733-32b53f9b-8eec-4796-aa33-75f856c8d951.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1718%2C%22name%22%3A%22image.png%22%2C%22size%22%3A500387%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A859%7D\\\"></card></p><p><br /></p><ul><li>RD授权模式（默认，Next）</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187741-086d79f7-aa09-4040-9713-8a2e254813f7.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1716%2C%22name%22%3A%22image.png%22%2C%22size%22%3A525160%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A858%7D\\\"></card></p><p><br /></p><ul><li>勾选(IIS - ASP)</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187726-9bc781c9-ca1a-4d8b-be34-729980af3a61.png%22%2C%22originWidth%22%3A2876%2C%22originHeight%22%3A1714%2C%22name%22%3A%22image.png%22%2C%22size%22%3A516861%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1438%2C%22height%22%3A857%7D\\\"></card></p><p><br /></p><ul><li>开始安装</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187751-fe48b49e-b7ba-4f41-a0db-ef4ed2b8cd27.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1712%2C%22name%22%3A%22image.png%22%2C%22size%22%3A526102%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A856%7D\\\"></card></p><p><br /></p><ul><li>重启服务器</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187753-ef73e3dc-bf5e-4ac4-899d-4cfec0fddb3a.png%22%2C%22originWidth%22%3A2880%2C%22originHeight%22%3A1710%2C%22name%22%3A%22image.png%22%2C%22size%22%3A496827%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1440%2C%22height%22%3A855%7D\\\"></card></p><p><br /></p><ul><li>激活授权服务器</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187757-9727cac1-9dd2-42ff-9e17-aa05d5abbbb6.png%22%2C%22originWidth%22%3A1626%2C%22originHeight%22%3A1288%2C%22name%22%3A%22image.png%22%2C%22size%22%3A277559%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A813%2C%22height%22%3A644%7D\\\"></card></p><p><br /></p><ul><li>右键 -&gt; 激活服务</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187755-b8ec1d61-4108-4f20-bd23-6cae1b3259ef.png%22%2C%22originWidth%22%3A2160%2C%22originHeight%22%3A1250%2C%22name%22%3A%22image.png%22%2C%22size%22%3A123878%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1080%2C%22height%22%3A625%7D\\\"></card></p><p><br /></p><ul><li>选择自动连接</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187756-88e34d23-e4c1-4de1-8c8d-c1aa2681120e.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1248%2C%22name%22%3A%22image.png%22%2C%22size%22%3A165128%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A624%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187770-ed119f36-e2b9-4a53-b5a4-e853182fd29e.png%22%2C%22originWidth%22%3A2156%2C%22originHeight%22%3A1244%2C%22name%22%3A%22image.png%22%2C%22size%22%3A167466%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1078%2C%22height%22%3A622%7D\\\"></card></p><p><br /></p><ul><li>开始激活引导</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187766-f343ca3f-2c61-4674-9e76-79d5aeef6e76.png%22%2C%22originWidth%22%3A2156%2C%22originHeight%22%3A1244%2C%22name%22%3A%22image.png%22%2C%22size%22%3A263126%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1078%2C%22height%22%3A622%7D\\\"></card></p><p><br /></p><ul><li>选择企业协议</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187773-e10d626e-01ba-4363-9869-9255527e4bd6.png%22%2C%22originWidth%22%3A2162%2C%22originHeight%22%3A1250%2C%22name%22%3A%22image.png%22%2C%22size%22%3A167547%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1081%2C%22height%22%3A625%7D\\\"></card></p><p>填写协议号码</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187773-16e08e7a-3fe1-4151-b0ee-a1410113cc96.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1250%2C%22name%22%3A%22image.png%22%2C%22size%22%3A129118%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A625%7D\\\"></card></p><p><br /></p><ul><li>许可证用户选择按用户</li></ul><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187778-524937df-e2bf-44a1-ae7b-4536f85299bd.png%22%2C%22originWidth%22%3A2158%2C%22originHeight%22%3A1248%2C%22name%22%3A%22image.png%22%2C%22size%22%3A180832%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1079%2C%22height%22%3A624%7D\\\"></card></p><p><br /></p><ul><li>激活完成</li></ul><p><strong><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187783-8f88c7b3-e53d-496a-b81d-7eb83ebc9519.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1254%2C%22name%22%3A%22image.png%22%2C%22size%22%3A243829%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A627%7D\\\"></card></strong></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187796-64c6e09d-c469-4cba-af14-ef961bff36a3.png%22%2C%22originWidth%22%3A2154%2C%22originHeight%22%3A1246%2C%22name%22%3A%22image.png%22%2C%22size%22%3A105918%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1077%2C%22height%22%3A623%7D\\\"></card></p><h3 id=\\\"9971dbcf\\\">1.2 安装NodeJs</h3><p>安装请访问官网：<a href=\\\"https://nodejs.org/\\\" target=\\\"_blank\\\"><span>https://nodejs.org</span></a>，如果已安装好，请略过</p><p><strong>为了稳定，建议安装LTS版本</strong></p><p><strong><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187796-10c3b607-349e-430c-9ef1-b3a1b27e2c81.png%22%2C%22originWidth%22%3A500%2C%22originHeight%22%3A384%2C%22name%22%3A%22image.png%22%2C%22size%22%3A23426%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A250%2C%22height%22%3A192%7D\\\"></card></strong></p><h3 id=\\\"d41d8cd9\\\"><br /></h3><h3 id=\\\"3c733ab0\\\">1.3 安装Java</h3><p> 安装请访问官网：<a href=\\\"https://java.com/zh_CN/download/\\\" target=\\\"_blank\\\"><span>https://java.com/zh_CN/download/</span></a></p><p> 用于运行WebDriver Server(Selenium2)</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187809-cf5ff82e-1e8e-4919-b104-5d060737d887.png%22%2C%22originWidth%22%3A706%2C%22originHeight%22%3A383%2C%22name%22%3A%22image.png%22%2C%22size%22%3A29156%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A353%2C%22height%22%3A192%7D\\\"></card></p><h3 id=\\\"d41d8cd9-1\\\"><br /></h3><h3 id=\\\"1a4291e4\\\">1.4 下载f2etest-webdriver</h3><p>下载并拷贝 <a href=\\\"https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver\\\" target=\\\"_blank\\\">https://github.com/alibaba/f2etest/tree/master/f2etest-client/f2etest-webdriver</a>，放到C盘更目录下C:\\\\f2etest-webdriver</p><h3 id=\\\"d41d8cd9-2\\\"><br /></h3><h3 id=\\\"8bda3f3c\\\">1.5 初始化子节点账号数据</h3><p>1<span>. 命令行输入：`gpedit.msc`，</span>关闭密码复杂性要求</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187802-1e1257d1-37dc-4335-9f15-4fbb7386dda2.png%22%2C%22originWidth%22%3A1874%2C%22originHeight%22%3A1242%2C%22name%22%3A%22image.png%22%2C%22size%22%3A232297%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A937%2C%22height%22%3A621%7D\\\"></card></p><p><br /></p><p>2<span>. </span>双击`批量设置节点用户.vbs`文件，输入需要初始化的节点数量，例如：8</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187811-ba10022f-b826-4e1b-bd46-77c3dd940f21.png%22%2C%22originWidth%22%3A1718%2C%22originHeight%22%3A984%2C%22name%22%3A%22image.png%22%2C%22size%22%3A147123%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A859%2C%22height%22%3A492%7D\\\"></card></p><p><br /></p><p>3. 在本地用户和组中可看到已经初始化好的8个节点用户</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187815-6e9f081b-806c-4224-8eff-087f2f9a71e3.png%22%2C%22originWidth%22%3A2040%2C%22originHeight%22%3A1476%2C%22name%22%3A%22image.png%22%2C%22size%22%3A200197%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1020%2C%22height%22%3A738%7D\\\"></card></p><p>4. 删除多页的节点rdp文件，只保留8个，与节点用户保持一致</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187827-65a236a1-73b1-4fec-9c37-5cf05c109b93.png%22%2C%22originWidth%22%3A637%2C%22originHeight%22%3A362%2C%22name%22%3A%22image.png%22%2C%22size%22%3A48324%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A319%2C%22height%22%3A181%7D\\\"></card></p><p><br /></p><h3 id=\\\"ba609199\\\">1.6 初始化环境变量</h3><p>将`C:\\\\f2etest-webdriver\\\\webdriver\\\\`文件夹添加到PATH环境变量中</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187824-604d0c99-58a7-4993-b750-570124f17c0f.png%22%2C%22originWidth%22%3A2020%2C%22originHeight%22%3A1200%2C%22name%22%3A%22image.png%22%2C%22size%22%3A252051%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1010%2C%22height%22%3A600%7D\\\"></card></p><p><br /></p><h3 id=\\\"90f916c3\\\">1.7 关闭IE增强配置</h3><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187827-c958321f-c678-4e22-9ad1-f1dc6a2ad5dc.png%22%2C%22originWidth%22%3A1140%2C%22originHeight%22%3A730%2C%22name%22%3A%22image.png%22%2C%22size%22%3A88584%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A478%7D\\\"></card></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187863-bd249556-5c42-4aa1-af53-67a0d7be8f21.png%22%2C%22originWidth%22%3A899%2C%22originHeight%22%3A599%2C%22name%22%3A%22image.png%22%2C%22size%22%3A117771%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A497%7D\\\"></card></p><h3 id=\\\"d41d8cd9-3\\\"><br /></h3><h3 id=\\\"dc00dd3e\\\">1.8 安装Chrome</h3><p>这里有个点要注意的是Chrome版本要与Chrome Webdriver的版本对上，如Chrome 73 要对应Chrome WebDriver 73</p><p>附：webdriver下载链接<a href=\\\"https://sites.google.com/a/chromium.org/chromedriver/downloads\\\" target=\\\"_blank\\\">https://sites.google.com/a/chromium.org/chromedriver/downloads</a></p><h3 id=\\\"d41d8cd9-4\\\"><br /></h3><h3 id=\\\"557d2443\\\">1.9 禁用防火墙</h3><p style=\\\"text-indent: 2em;\\\">防止WebDriver命令无法转发至本机</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187844-bd72236c-70ae-49f0-8c81-786cadaa9aff.png%22%2C%22originWidth%22%3A1794%2C%22originHeight%22%3A1196%2C%22name%22%3A%22image.png%22%2C%22size%22%3A165936%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A897%2C%22height%22%3A598%7D\\\"></card></p><p><br /></p><h3 id=\\\"7f2b1e2f\\\">1.10 设置服务器每天定时重启</h3><p><span>1. </span>添加计划任务</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187851-8f471e5a-6ff8-4b6e-84a1-afe739cfae61.png%22%2C%22originWidth%22%3A2296%2C%22originHeight%22%3A1468%2C%22name%22%3A%22image.png%22%2C%22size%22%3A442859%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1148%2C%22height%22%3A734%7D\\\"></card></p><p>2. 命令输入：shutdown /f /r /t 30</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187857-d5316020-174f-4185-a3b3-e8c640583a5d.png%22%2C%22originWidth%22%3A2290%2C%22originHeight%22%3A1466%2C%22name%22%3A%22image.png%22%2C%22size%22%3A391090%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1145%2C%22height%22%3A733%7D\\\"></card></p><p>3. 时间建议选择在凌晨5点左右</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187884-92edda92-1704-4b18-8552-4d4c2e0cd1a8.png%22%2C%22originWidth%22%3A2284%2C%22originHeight%22%3A1468%2C%22name%22%3A%22image.png%22%2C%22size%22%3A458663%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1142%2C%22height%22%3A734%7D\\\"></card></p><p>4. 创建完成</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187893-5771fc57-510f-411f-a8db-43042e76a612.png%22%2C%22originWidth%22%3A1354%2C%22originHeight%22%3A498%2C%22name%22%3A%22image.png%22%2C%22size%22%3A38807%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A677%2C%22height%22%3A249%7D\\\"></card></p><p><span style=\\\"background-color: transparent;\\\">1.11 初始化webdriver节点</span><br /></p><p>1. 执行`RDP.exe`</p><p>2. password处输入：`hello1234`</p><p>3. 点击`Encrypt按钮`</p><p>4. 复制出加密后的Hash</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187902-3192db8a-bf9c-4443-a945-a2342a5396c9.png%22%2C%22originWidth%22%3A679%2C%22originHeight%22%3A276%2C%22name%22%3A%22image.png%22%2C%22size%22%3A32760%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A340%2C%22height%22%3A138%7D\\\"></card></p><p><span style=\\\"background-color: #D9D9D9;\\\">注：由于不同系统生成的Hash不同，因此，这个值需要在每台执行机上进行动态生成并替换</span></p><p><br /></p><p>5. 替换当前子文件夹中所有rdp扩展名的文件，替换password_hash为刚才复制的加密后Hash</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187908-4dda5d23-1be8-40d3-a92d-c61f98105993.png%22%2C%22originWidth%22%3A1504%2C%22originHeight%22%3A1334%2C%22name%22%3A%22image.png%22%2C%22size%22%3A159457%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A752%2C%22height%22%3A667%7D\\\"></card></p><p><br /></p><p>6. 修改`webdriver/opennode.bat`</p><ol start=\\\"1\\\"><li>修改f2etestHost变量为f2etest服务部署的IP地址或域名</li><li>browsers变量修改为本机所部署的浏览器名称，多个浏览器以逗号间隔，浏览器名称和浏览器版本号之间以空格间隔，例如: IE 11,Chrome,Firefox</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187915-2a880c53-a291-428b-8736-56b02458eee6.png%22%2C%22originWidth%22%3A1026%2C%22originHeight%22%3A611%2C%22name%22%3A%22image.png%22%2C%22size%22%3A55565%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A513%2C%22height%22%3A306%7D\\\"></card></p><p><br /></p><h3 id=\\\"ee330611\\\">1.12 启动节点</h3><ol start=\\\"1\\\"><li>执行<code>rdp\\\\openAllNode.bat</code>，然后打开一次所有的IE浏览器，进行首次初始化，同时启用所有安全区域的保护模式</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187963-4742b558-4780-4ed1-9547-807980725afc.png%22%2C%22originWidth%22%3A2702%2C%22originHeight%22%3A1490%2C%22name%22%3A%22image.png%22%2C%22size%22%3A298751%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1351%2C%22height%22%3A745%7D\\\"></card></p><ol start=\\\"2\\\"><li>第1步完成后，执行<code>rdp\\\\initAllNodes.bat</code>，批量添加启动批处理</li></ol><p><br /></p><ol start=\\\"3\\\"><li>所有节点初始化完成后，将<code>rdp\\\\openAllNode.bat</code>添加快捷方式到Administrator账号的系统自动启动文件夹，以实现开机自动打开所有的WebDriver节点</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187924-d3059296-996b-4a12-a630-5365e1ef2b54.png%22%2C%22originWidth%22%3A250%2C%22originHeight%22%3A271%2C%22name%22%3A%22image.png%22%2C%22size%22%3A19733%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A125%2C%22height%22%3A136%7D\\\"></card></p><p><br /></p><ol start=\\\"4\\\"><li>命令行输入：<code>netplwiz</code>，在高级用户控制面板中，取消对<code>“要使用本机，用户需输入用户名和密码(E)”</code>项的勾选。系统将弹出窗口要求输入默认登录系统的用户名和密码，输入完成后点击确定</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187927-54143e99-2523-4085-991a-4de65ce1c0af.png%22%2C%22originWidth%22%3A467%2C%22originHeight%22%3A503%2C%22name%22%3A%22image.png%22%2C%22size%22%3A41419%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A234%2C%22height%22%3A252%7D\\\"></card></p><ol start=\\\"5\\\"><li style=\\\"padding-left: 22px;\\\">重启操作系统，如果正常的话，所有节点在3分钟左右之后应该会自动启动</li></ol><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187934-0efa9554-99c6-4067-ab66-a5b12ab2815d.png%22%2C%22originWidth%22%3A666%2C%22originHeight%22%3A331%2C%22name%22%3A%22image.png%22%2C%22size%22%3A16816%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A333%2C%22height%22%3A166%7D\\\"></card></p><p><br /></p><p>6.关闭保护模式（需要到每个节点的远程桌面中关闭）</p><p>IE浏览器 -&gt; Ineternet选项，安全，对应4个Tab都需要关闭保护模式，否则报“Unexpected error launching Internet Explorer. Protected Mode settings are not the same for all zones”的错误</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998187942-1d52b0c3-33f9-45ed-ad3a-a2d2bed7f4ff.png%22%2C%22originWidth%22%3A899%2C%22originHeight%22%3A599%2C%22name%22%3A%22image.png%22%2C%22size%22%3A117771%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A497%7D\\\"></card></p><h2 id=\\\"a16df528\\\">二、节点测试与验证</h2><p>使用UIRecorder 示例项目 来进行WebDriver的验证</p><h4 id=\\\"052d8f63\\\">2.1 执行UIRecorder测试脚本</h4><p>配置config.json</p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%20%20%5C%22webdriver%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%5C%22host%5C%22%3A%20%5C%22%E4%BD%A0%E7%9A%84webdriver%E8%8A%82%E7%82%B9IP%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%5C%22port%5C%22%3A%20%5C%224001%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%5C%22browsers%5C%22%3A%20%5C%22ie11%2C%20chrome%5C%22%5Cn%20%20%20%20%7D%5Cn%20%7D%22%2C%22id%22%3A%22Om86h%22%7D\\\"></card><p>端口是4001对应node01, 以此类推4008对应node08</p><p><br /></p><p>运行测试脚本 source run.sh sample/test.spec.js</p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F292665%2F1555998188000-669e018a-86e9-434d-9ea4-f2a0c72ae21f.png%22%2C%22originWidth%22%3A545%2C%22originHeight%22%3A368%2C%22name%22%3A%22image.png%22%2C%22size%22%3A48287%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A545%2C%22height%22%3A368%7D\\\"></card></p><p>验证通过</p><p><br /></p>\",\"public\":1,\"status\":null,\"likes_count\":5,\"comments_count\":0,\"content_updated_at\":\"2019-04-23T05:44:30.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-08T10:04:48.000Z\",\"updated_at\":\"2019-04-23T06:15:22.000Z\",\"published_at\":\"2019-04-23T05:44:30.000Z\",\"first_published_at\":\"2019-04-08T10:06:01.000Z\",\"word_count\":1105,\"cover\":null,\"description\":\"一、安装运行本文以Windows Server 2008系统配置为例，后续会出基于WinServer 2016版本的docker镜像1.1 安装并配置远程桌面服务增加角色选择远程桌面服务勾选远程桌面会话主机、远程桌面授权、远程桌面Web访问选择不适用网络级别身份验证授权模式选择按用户选择用户组...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-webdriver-cloud-usage":"{\"id\":1520852,\"slug\":\"webdriver-cloud-usage\",\"title\":\"如何使用 WebDriver 云\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":296279,\"description\":\"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":12,\"likes_count\":0,\"watches_count\":2,\"content_updated_at\":\"2019-04-23T05:44:30.303Z\",\"updated_at\":\"2019-04-23T06:32:14.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":\"F&D艺术家   \\nhttps://github.com/Stngle\",\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":1,\"public_books_count\":0,\"followers_count\":3,\"following_count\":2,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-04-23T05:43:09.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":182712,\"creator\":{\"id\":182712,\"type\":\"User\",\"login\":\"undead25\",\"name\":\"双龙\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":0,\"public_books_count\":0,\"followers_count\":0,\"following_count\":1,\"created_at\":\"2018-09-26T16:45:26.000Z\",\"updated_at\":\"2019-04-04T03:00:41.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<h2 id=\\\"d3e49b3d\\\">一、WebDirver 云</h2><p><br /></p><h3 id=\\\"54ae9400\\\">1.1 使用方法</h3><p><br /></p><p>F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。</p><p><br /></p><ul><li>F2etest WebDriver Hub 连接信息：</li></ul><p><br /></p><pre><code>host：f2etest.alibaba-inc.com\\nport：4444</code></pre><p><br /></p><ul><li>初始化时提交的扩展（<span>查询地址：</span><a href=\\\"http://f2etest.xxx.com/webdriver\\\" target=\\\"_blank\\\">http://f2etest.xxx.com/webdriver</a>）：</li></ul><p><br /></p><pre><code>f2etest.userid：用户唯一标志 id\\nf2etest.apiKey：useid 对应的唯一 key\\nf2etest.hosts：hosts 绑定（可选）</code></pre><p><br /></p><h3 id=\\\"5a88867b\\\">1.2 节点参数须知</h3><p><br /></p><ul><li><strong>WebDriver 闲置超时</strong>：60 秒（任务会话意外中断，60 秒后会自动结束，如果希望增加调试时间，请定时发起一次任意操作，以延后回收时间）。</li></ul><p><br /></p><ul><li><strong>节点回收轮询</strong>：5 秒（节点会话结束后，5 秒内会被重新放入执行机池）。</li></ul><p><br /></p><h2 id=\\\"85defb8f\\\">二、结合 UIRecorder 使用</h2><p><br /></p><h3 id=\\\"cb24786d\\\">2.1 概述</h3><p><br /></p><p>UIRecorder 是一款 “一端录制，多端使用” 的便捷 UI 自动化测试回归工具:</p><p><br /></p><p><img alt=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" title=\\\"Kapture 2019-04-01 at 11.53.49.gif\\\" src=\\\"https://cdn.nlark.com/yuque/0/2019/gif/182712/1555001859084-139881ad-2aa6-43e5-957f-32edb4d4db3d.gif#align=left&amp;display=inline&amp;height=420&amp;name=Kapture%202019-04-01%20at%2011.53.49.gif&amp;originHeight=494&amp;originWidth=878&amp;size=8012768&amp;status=done&amp;width=746\\\" style=\\\"max-width: 600px; width: 746px;\\\" /></p><p><br /></p><h3 id=\\\"997fd607\\\">2.2 使用方法</h3><p><br /></p><p>UIRecorder 调用 F2etest WebDriver Hub 的方法我们已经做了一层封装，只需简单修改配置文件，即可调用 WebDriver Hub。</p><p>       </p><ul><li><code>config.json</code> 主要字段含义如下：</li></ul><p><br /></p><pre data-lang=\\\"json\\\"><code>{\\n    &quot;webdriver&quot;: {\\n        &quot;host&quot;: &quot;f2etest.xxx.com&quot;,\\t\\t\\t\\t\\t\\t\\t\\t// webdriver hub 的 host，本地则 127.0.0.1\\n        &quot;port&quot;: &quot;4444&quot;,\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// 默认端口号为 4444\\n        &quot;f2etest.userid&quot;: &quot;xxx&quot;,\\t\\t\\t\\t\\t\\t\\t\\t\\t// 用户唯一标志（鉴权使用）\\n        &quot;f2etest.apiKey&quot;: &quot;xxx&quot;,\\t\\t\\t\\t\\t\\t\\t\\t\\t// 用户唯一 key（鉴权使用）\\n        &quot;browsers&quot;: &quot;chrome&quot;\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t// 指定回归测试浏览器类型\\n    },\\n}</code></pre><p><br /></p><h2 id=\\\"968945a5\\\">三、JS 单元测试</h2><p><br /></p><h3 id=\\\"a0255241\\\">3.1 概述</h3><p><br /></p><p>JS 单元测试对于 JS 组件是最基础的质量覆盖手段，逻辑越复杂，使用率越高，单元测试的编写价值就越大。我们主要提供了基于 Karma 配合 F2etest 的执行机来实现JS单元测试的多浏览器持续集成解决方案。</p><p><br /></p><h3 id=\\\"47c32961\\\">3.2 使用方法</h3><p><br /></p><ol start=\\\"1\\\"><li>安装开发依赖：<code>npm i mocha karma karma-mocha-reporter karma-expect karma-coverage karma-chrome-laucher karma-webdriver-laucher --save-dev</code> 。</li></ol><p><br /></p><ol start=\\\"2\\\"><li>在 <a href=\\\"http://f2etest.alibaba-inc.com/jsunit\\\" target=\\\"_blank\\\">http://f2etest.alibaba-inc.com/jsunit</a> 下载 <code>karma.conf.js</code> 文件。</li></ol><p><br /></p><ol start=\\\"3\\\"><li>编辑 <code>package.json</code> 如下：</li></ol><p><br /></p><pre data-lang=\\\"json\\\"><code>{\\n  ...\\n  &quot;scripts&quot;: {\\n    &quot;test&quot;: &quot;./node_modules/.bin/karma start&quot;,\\n    &quot;f2etest&quot;: &quot;./node_modules/.bin/karma start --single-run --browsers f2etest-chrome,f2etest-firefox,f2etest-ie8,f2etest-ie9,f2etest-ie10,f2etest-ie11&quot;\\n  }\\n  ...\\n}</code></pre><p><br /></p><ol start=\\\"4\\\"><li>新建测试用例 <code>test/test.spec.js</code>（编写方法及案例可参考 mocha 官方文档：<a href=\\\"https://mochajs.org/\\\" target=\\\"_blank\\\">https://mochajs.org</a>）：</li></ol><p><br /></p><pre data-lang=\\\"javascript\\\"><code>describe('测试用例', function () {\\n    it('1等于1', function () {\\n        expect(1).to.equal(1);\\n        console.log('logtest');\\n    });\\n});</code></pre><p><br /></p><ol start=\\\"5\\\"><li>开发运行 <code>npm run test</code>（连接本地 Chrome 浏览器，监听文件变更并自动触发单元测试，并显示覆盖率情况）。</li></ol><p><br /></p><ol start=\\\"6\\\"><li>持续集成运行 <code>npm run f2etest</code>（在远端多个浏览器中同时执行单元测试，并获取覆盖率数据）</li></ol>\",\"body_lake\":\"<!doctype lake><h2 id=\\\"d3e49b3d\\\">一、WebDirver 云</h2><p><br /></p><h3 id=\\\"54ae9400\\\">1.1 使用方法</h3><p><br /></p><p>F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。</p><p><br /></p><ul><li>F2etest WebDriver Hub 连接信息：</li></ul><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22host%EF%BC%9Af2etest.alibaba-inc.com%5Cnport%EF%BC%9A4444%22%2C%22id%22%3A%22Mz2hA%22%7D\\\"></card><p><br /></p><ul><li>初始化时提交的扩展（<span>查询地址：</span><a href=\\\"http://f2etest.xxx.com/webdriver\\\" target=\\\"_blank\\\">http://f2etest.xxx.com/webdriver</a>）：</li></ul><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22f2etest.userid%EF%BC%9A%E7%94%A8%E6%88%B7%E5%94%AF%E4%B8%80%E6%A0%87%E5%BF%97%20id%5Cnf2etest.apiKey%EF%BC%9Auseid%20%E5%AF%B9%E5%BA%94%E7%9A%84%E5%94%AF%E4%B8%80%20key%5Cnf2etest.hosts%EF%BC%9Ahosts%20%E7%BB%91%E5%AE%9A%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89%22%2C%22id%22%3A%22fhaQB%22%7D\\\"></card><p><br /></p><h3 id=\\\"5a88867b\\\">1.2 节点参数须知</h3><p><br /></p><ul><li><strong>WebDriver 闲置超时</strong>：60 秒（任务会话意外中断，60 秒后会自动结束，如果希望增加调试时间，请定时发起一次任意操作，以延后回收时间）。</li></ul><p><br /></p><ul><li><strong>节点回收轮询</strong>：5 秒（节点会话结束后，5 秒内会被重新放入执行机池）。</li></ul><p><br /></p><h2 id=\\\"85defb8f\\\">二、结合 UIRecorder 使用</h2><p><br /></p><h3 id=\\\"cb24786d\\\">2.1 概述</h3><p><br /></p><p>UIRecorder 是一款 “一端录制，多端使用” 的便捷 UI 自动化测试回归工具:</p><p><br /></p><p><card type=\\\"inline\\\" name=\\\"image\\\" value=\\\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fgif%2F182712%2F1555001859084-139881ad-2aa6-43e5-957f-32edb4d4db3d.gif%22%2C%22originWidth%22%3A878%2C%22originHeight%22%3A494%2C%22name%22%3A%22Kapture%202019-04-01%20at%2011.53.49.gif%22%2C%22size%22%3A8012768%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A420%7D\\\"></card></p><p><br /></p><h3 id=\\\"997fd607\\\">2.2 使用方法</h3><p><br /></p><p>UIRecorder 调用 F2etest WebDriver Hub 的方法我们已经做了一层封装，只需简单修改配置文件，即可调用 WebDriver Hub。</p><p>       </p><ul><li><code>config.json</code> 主要字段含义如下：</li></ul><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%20%20%5C%22webdriver%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%5C%22host%5C%22%3A%20%5C%22f2etest.xxx.com%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20webdriver%20hub%20%E7%9A%84%20host%EF%BC%8C%E6%9C%AC%E5%9C%B0%E5%88%99%20127.0.0.1%5Cn%20%20%20%20%20%20%20%20%5C%22port%5C%22%3A%20%5C%224444%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E9%BB%98%E8%AE%A4%E7%AB%AF%E5%8F%A3%E5%8F%B7%E4%B8%BA%204444%5Cn%20%20%20%20%20%20%20%20%5C%22f2etest.userid%5C%22%3A%20%5C%22xxx%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E7%94%A8%E6%88%B7%E5%94%AF%E4%B8%80%E6%A0%87%E5%BF%97%EF%BC%88%E9%89%B4%E6%9D%83%E4%BD%BF%E7%94%A8%EF%BC%89%5Cn%20%20%20%20%20%20%20%20%5C%22f2etest.apiKey%5C%22%3A%20%5C%22xxx%5C%22%2C%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E7%94%A8%E6%88%B7%E5%94%AF%E4%B8%80%20key%EF%BC%88%E9%89%B4%E6%9D%83%E4%BD%BF%E7%94%A8%EF%BC%89%5Cn%20%20%20%20%20%20%20%20%5C%22browsers%5C%22%3A%20%5C%22chrome%5C%22%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E6%8C%87%E5%AE%9A%E5%9B%9E%E5%BD%92%E6%B5%8B%E8%AF%95%E6%B5%8F%E8%A7%88%E5%99%A8%E7%B1%BB%E5%9E%8B%5Cn%20%20%20%20%7D%2C%5Cn%7D%22%2C%22id%22%3A%22rIAI4%22%7D\\\"></card><p><br /></p><h2 id=\\\"968945a5\\\">三、JS 单元测试</h2><p><br /></p><h3 id=\\\"a0255241\\\">3.1 概述</h3><p><br /></p><p>JS 单元测试对于 JS 组件是最基础的质量覆盖手段，逻辑越复杂，使用率越高，单元测试的编写价值就越大。我们主要提供了基于 Karma 配合 F2etest 的执行机来实现JS单元测试的多浏览器持续集成解决方案。</p><p><br /></p><h3 id=\\\"47c32961\\\">3.2 使用方法</h3><p><br /></p><ol start=\\\"1\\\"><li>安装开发依赖：<code>npm i mocha karma karma-mocha-reporter karma-expect karma-coverage karma-chrome-laucher karma-webdriver-laucher --save-dev</code> 。</li></ol><p><br /></p><ol start=\\\"2\\\"><li>在 <a href=\\\"http://f2etest.alibaba-inc.com/jsunit\\\" target=\\\"_blank\\\">http://f2etest.alibaba-inc.com/jsunit</a> 下载 <code>karma.conf.js</code> 文件。</li></ol><p><br /></p><ol start=\\\"3\\\"><li>编辑 <code>package.json</code> 如下：<cursor /></li></ol><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20...%5Cn%20%20%5C%22scripts%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22test%5C%22%3A%20%5C%22.%2Fnode_modules%2F.bin%2Fkarma%20start%5C%22%2C%5Cn%20%20%20%20%5C%22f2etest%5C%22%3A%20%5C%22.%2Fnode_modules%2F.bin%2Fkarma%20start%20--single-run%20--browsers%20f2etest-chrome%2Cf2etest-firefox%2Cf2etest-ie8%2Cf2etest-ie9%2Cf2etest-ie10%2Cf2etest-ie11%5C%22%5Cn%20%20%7D%5Cn%20%20...%5Cn%7D%22%2C%22id%22%3A%22C9tMZ%22%7D\\\"></card><p><br /></p><ol start=\\\"4\\\"><li>新建测试用例 <code>test/test.spec.js</code>（编写方法及案例可参考 mocha 官方文档：<a href=\\\"https://mochajs.org/\\\" target=\\\"_blank\\\">https://mochajs.org</a>）：</li></ol><p><br /></p><card type=\\\"block\\\" name=\\\"codeblock\\\" value=\\\"data:%7B%22mode%22%3A%22javascript%22%2C%22code%22%3A%22describe('%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B'%2C%20function%20()%20%7B%5Cn%20%20%20%20it('1%E7%AD%89%E4%BA%8E1'%2C%20function%20()%20%7B%5Cn%20%20%20%20%20%20%20%20expect(1).to.equal(1)%3B%5Cn%20%20%20%20%20%20%20%20console.log('logtest')%3B%5Cn%20%20%20%20%7D)%3B%5Cn%7D)%3B%22%2C%22id%22%3A%22iQSX7%22%7D\\\"></card><p><br /></p><ol start=\\\"5\\\"><li>开发运行 <code>npm run test</code>（连接本地 Chrome 浏览器，监听文件变更并自动触发单元测试，并显示覆盖率情况）。</li></ol><p><br /></p><ol start=\\\"6\\\"><li>持续集成运行 <code>npm run f2etest</code>（在远端多个浏览器中同时执行单元测试，并获取覆盖率数据）</li></ol>\",\"public\":1,\"status\":null,\"likes_count\":4,\"comments_count\":0,\"content_updated_at\":\"2019-04-11T17:37:04.000Z\",\"deleted_at\":null,\"created_at\":\"2019-04-11T16:57:21.000Z\",\"updated_at\":\"2019-04-23T06:15:31.000Z\",\"published_at\":\"2019-04-11T17:37:04.000Z\",\"first_published_at\":\"2019-04-11T17:04:14.000Z\",\"word_count\":653,\"cover\":null,\"description\":\"一、WebDirver 云1.1 使用方法F2etest WebDriver 云使用标准的 WebDriver 协议，所有支持 WebDriver 协议的客户端，都可以直接使用。F2etest WebDriver Hub 连接信息：host：f2etest.alibaba-inc.com po...\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}","linshuoting-f2etest-yvvber":"{\"id\":1405662,\"slug\":\"yvvber\",\"title\":\"2.Webdriver云\",\"book_id\":245753,\"book\":{\"id\":245753,\"type\":\"Book\",\"slug\":\"f2etest\",\"name\":\"F2etest\",\"user_id\":94302,\"description\":\"F2etest是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。\",\"creator_id\":94302,\"public\":1,\"items_count\":2,\"likes_count\":0,\"watches_count\":1,\"content_updated_at\":\"2019-03-21T03:17:21.628Z\",\"updated_at\":\"2019-03-21T03:17:21.000Z\",\"created_at\":\"2019-03-21T03:15:48.000Z\",\"namespace\":\"linshuoting/f2etest\",\"user\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":2,\"public_books_count\":2,\"followers_count\":2,\"following_count\":0,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-03-21T03:16:10.000Z\",\"_serializer\":\"v2.user\"},\"_serializer\":\"v2.book\"},\"user_id\":94302,\"creator\":{\"id\":94302,\"type\":\"User\",\"login\":\"linshuoting\",\"name\":\"说听(Stngle)\",\"description\":null,\"avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png\",\"large_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_320,h_320\",\"medium_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_160,h_160\",\"small_avatar_url\":\"https://cdn.nlark.com/yuque/0/2018/png/94302/1542640403102-21f866b2-922b-45d7-941f-128ff110cc3b.png?x-oss-process=image/resize,m_fill,w_80,h_80\",\"books_count\":2,\"public_books_count\":2,\"followers_count\":2,\"following_count\":0,\"created_at\":\"2018-03-21T12:59:06.000Z\",\"updated_at\":\"2019-03-21T03:16:10.000Z\",\"_serializer\":\"v2.user\"},\"format\":\"lake\",\"body\":\"\",\"body_draft\":\"\",\"body_html\":\"<p><br /></p>\",\"body_lake\":\"<!doctype lake><p><br /><cursor /></p>\",\"public\":1,\"status\":null,\"likes_count\":0,\"comments_count\":0,\"content_updated_at\":\"2019-03-21T03:16:58.000Z\",\"deleted_at\":null,\"created_at\":\"2019-03-21T03:16:45.000Z\",\"updated_at\":\"2019-03-21T03:16:58.000Z\",\"published_at\":\"2019-03-21T03:16:58.000Z\",\"first_published_at\":\"2019-03-21T03:16:58.000Z\",\"word_count\":0,\"cover\":null,\"description\":\"\",\"custom_description\":null,\"_serializer\":\"v2.doc_detail\"}"};

export default data;
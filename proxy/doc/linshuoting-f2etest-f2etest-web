{"id":1486475,"slug":"f2etest-web","title":"F2etest-web 架构","book_id":245753,"book":{"id":245753,"type":"Book","slug":"f2etest","name":"F2etest","user_id":296279,"description":"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。","creator_id":94302,"public":1,"items_count":12,"likes_count":0,"watches_count":2,"content_updated_at":"2019-04-23T05:44:30.303Z","updated_at":"2019-04-23T06:32:14.000Z","created_at":"2019-03-21T03:15:48.000Z","namespace":"linshuoting/f2etest","user":{"id":94302,"type":"User","login":"linshuoting","name":"说听(Stngle)","description":"F&D艺术家   \nhttps://github.com/Stngle","avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150368242-avatar/4fa5a6cc-1636-43cd-b085-fce8ad30be09.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":1,"public_books_count":0,"followers_count":3,"following_count":2,"created_at":"2018-03-21T12:59:06.000Z","updated_at":"2019-04-23T05:43:09.000Z","_serializer":"v2.user"},"_serializer":"v2.book"},"user_id":182712,"creator":{"id":182712,"type":"User","login":"undead25","name":"双龙","description":null,"avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":0,"public_books_count":0,"followers_count":0,"following_count":1,"created_at":"2018-09-26T16:45:26.000Z","updated_at":"2019-04-04T03:00:41.000Z","_serializer":"v2.user"},"format":"lake","body":"","body_draft":"","body_html":"<h2 id=\"70c02cfa\">一、技术架构</h2><p><br /></p><p><img src=\"https://cdn.nlark.com/yuque/0/2019/png/182712/1554715723463-06aa0bcb-8e8a-4589-b37c-ebcee554f132.png#align=left&amp;display=inline&amp;height=633&amp;originHeight=1160&amp;originWidth=1366&amp;size=0&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><h3 id=\"95d6074b\">1.1 接入层</h3><p><br /></p><p>选用高性能的 <code>Nginx</code> 来提供统一接入服务，主要使用其反向代理服务：</p><p><br /></p><ul><li>NodeJS Web Application 的 <code>3000</code> 端口；</li><li>Guacamole Client 的 <code>8080</code> 端口；</li><li>WebDriver 的 <code>4444</code> 端口。</li></ul><p><br /></p><h3 id=\"1404f1d0\">1.2 应用层</h3><p><br /></p><p><strong>Node Web Application</strong></p><p>提供了一个漂亮的 Web 界面来方便用户发起远程连接并启动配置在 Windows Server 上的 RemoteApp。</p><p><br /></p><ul><li>Users 用户管理：初始化用户信息并在 Windows Server 中创建用户。</li><li>Logs 日志管理：用户日志记录入库。</li><li>WebDriver: WebDriver 节点管理。</li><li>RDP: 远程连接管理。</li><li>SSO：单点登录，用于访问控制。</li><li>API: 开放接口。</li></ul><p><br /></p><p><strong>guacamole-client</strong></p><p>与用户实际交互的部分，它主要将用户的实际远程连接信息传递给 <code>guacd</code> 服务。</p><p><br /></p><h3 id=\"1b26625a\">1.3 数据层</h3><p><br /></p><p>选用 MySQL 存储数据，用以存储日志、用户信息以及 WebDriver 节点等。</p><p><br /></p><h3 id=\"88e6be02\">1.4 服务层</h3><p><br /></p><p><code>guacd</code> 是 <code>Guacamole</code> 的核心，它动态加载对远程桌面协议的支持，并根据从 <code>guacamole-client</code> 收到的指令来连接到远程桌面。</p><p><br /></p><h2 id=\"96edf5b8\">二、配置详解</h2><p><br /></p><p><code>F2etest-web</code> 主要包含以下 4 个配置文件：</p><p><br /></p><h3 id=\"c1a9669b\">2.1 免登配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/etc/guacamole/noauth-config.xml</code></p><p>由于官方版本的 <code>Guacamole</code> 有登录限制，我们基于官方版进行了简单的定制和增强。</p></blockquote><p><br /></p><p>每一条 <code>config</code> 对应界面上一个应用，其格式如下：</p><p><br /></p><pre data-lang=\"xml\"><code>&lt;configs&gt;\n    &lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;\n        &lt;param name=&quot;hostname&quot; value=&quot;192.168.56.102&quot; /&gt;\n        &lt;param name=&quot;port&quot; value=&quot;3389&quot; /&gt;\n        &lt;param name=&quot;enable-drive&quot; value=&quot;true&quot; /&gt;\n        &lt;param name=&quot;drive-path&quot; value=&quot;/home/guacdshare&quot; /&gt;\n    &lt;/config&gt;\n&lt;/configs&gt;</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>&lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;</code>: 远程连接的服务器名称以及协议，其中 <code>name</code> 对应<strong>应用配置</strong>中的 <code>server</code>，<code>protocol</code> 均为 <code>rdp</code>；</li><li><code>hostname</code>: 远程连接的 IP 地址，即 Windows Server 的 <code>IP</code> 地址；</li><li><code>enable-drive</code>: 启用文件传输功能，文件将存储在 <code>drive-path</code> 参数指定的目录中，如果启用了文件传输，则必需指定 <code>drive-path</code>，<a href=\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\" target=\"_blank\">更多参考信息</a>；</li><li><code>drive-path</code>: 文件传输在 Linux Server 上的存储位置，如果未开启 <code>enable-drive</code>，此参数会被忽略，<a href=\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\" target=\"_blank\">更多参考信息</a>。</li></ul><p><br /></p><h3 id=\"baddf3e1\">2.2 应用配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/app.json</code></p></blockquote><p><br /></p><p>数组中每一条记录对应界面上一个应用，其格式示例如下：</p><p><br /></p><pre data-lang=\"json\"><code>[\n  {\n    &quot;id&quot;: &quot;hostsshare&quot;,\n    &quot;name&quot;: &quot;hosts&quot;,\n    &quot;server&quot;: &quot;f2etest-ie11&quot;,\n    &quot;program&quot;: &quot;c:\\\\app\\\\hostsshare.bat&quot;\n  },\n  {\n    &quot;id&quot;: &quot;ie6&quot;,\n    &quot;name&quot;: &quot;IE 6&quot;,\n    &quot;server&quot;: &quot;f2etest-ie6&quot;,\n    &quot;program&quot;: &quot;c:\\\\app\\\\ie6.bat&quot;\n  },\n  {\n    &quot;id&quot;: &quot;ie7&quot;,\n    &quot;name&quot;: &quot;IE 7&quot;,\n    &quot;server&quot;: &quot;f2etest-ie7&quot;,\n    &quot;program&quot;: &quot;c:\\\\app\\\\ie7.bat&quot;\n  }\n]</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>：界面上显示对应的图标（文件夹位置：<code>/home/f2etest-web/public/imgs/ico</code>）；</li><li><code>name</code>：界面图标下方展示的应用名称；</li><li><code>server</code>：用于拼接 URL 来调用 <code>guacamole-client</code>，最后实现远程连接到 Windows Server。</li><li><code>program</code>：Windows Server 中配置的启动文件（用于打开对应的应用）位置。</li></ul><p><br /></p><h3 id=\"58c92670\">2.3 服务器配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/server.json</code></p></blockquote><p><br /></p><p>数组中每条数据对应一台 Windows 服务器。</p><p><br /></p><pre data-lang=\"json\"><code>[\n  {\n    &quot;id&quot;: &quot;f2etest-ie6&quot;,\n    &quot;ip&quot;: &quot;10.0.0.1&quot;,\n    &quot;remoteApp&quot;: false\n  },\n  {\n    &quot;id&quot;: &quot;f2etest-ie7&quot;,\n    &quot;ip&quot;: &quot;10.0.0.2&quot;,\n    &quot;remoteApp&quot;: false\n  },\n  {\n    &quot;id&quot;: &quot;f2etest-ie8&quot;,\n    &quot;ip&quot;: &quot;10.0.0.3&quot;,\n    &quot;remoteApp&quot;: true\n  }\n]</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>: 服务器名称，必须与应用配置中的 <code>server</code> 名称保持一致；</li><li><code>ip</code>: 对应的服务器 <code>IP</code> 地址；</li><li><code>remoteApp</code>: 是否开启远程应用模式，只有在开启的情况下才能打开 Windows Server 上的应用。</li></ul><p><br /></p><h3 id=\"1534b4e9\">2.4 站点配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/site.json</code></p></blockquote><p><br /></p><p>NodeJS Web 的站点配置文件：</p><p><br /></p><pre><code>{\n    &quot;port&quot;: 3000,\n    &quot;name&quot;: &quot;F2eTest&quot;,\n    &quot;about&quot;: &quot;浏览器云测平台&quot;,\n    &quot;icon&quot;: &quot;/favicon.ico&quot;,\n    &quot;dbHost&quot;: &quot;127.0.0.1&quot;,\n    &quot;dbUser&quot;: &quot;root&quot;,\n    &quot;dbPass&quot;: &quot;&quot;,\n    &quot;dbTable&quot;: &quot;f2etest&quot;,\n    &quot;clientApiKey&quot;:&quot;f2etest&quot;,\n    &quot;guacamoleApi&quot;: &quot;http://127.0.0.1/guacamole/client.xhtml&quot;,\n    &quot;footer&quot;: &quot;&quot;,\n    &quot;wdEnabled&quot;: false,\n    &quot;wdCheckNodesInterval&quot;: 5000,\n    &quot;wdCheckNodesParallelLimit&quot;: 16\n}</code></pre><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>port</code>: Web 应用启动后所占用的端口号；</li><li><code>name</code>: 站点名称，作用于页面 <code>title</code> 及页头 <code>logo</code> 处；</li><li><code>about</code>: 作用于页面 <code>title</code>；</li><li><code>icon</code>：站点 <code>ico</code> 图标，文件位于 <code>/home/f2etest-web/public/favicon.ico</code>，需存放在 <code>public</code> 目录；</li><li><code>dbHost</code>： 数据库 IP ；</li><li><code>dbUser</code>：数据库用户名；</li><li><code>dbPass</code>：数据库密码；</li><li><code>dbTable</code>：数据库库名称；</li><li><code>clientApiKey</code>：初始化 Windows Server 用户所用到的 <code>key</code>，与 Windows Server 上的 <code>C:\\inetpub\\wwwroot\\setUser.asp</code> 中的 <code>key</code> 保持一致；</li><li><code>guacamoleApi</code>：<code>guacamole-client</code> 服务地址，供浏览器访问调用，<code>host</code> 与 <code>Node Web</code> 一致;</li><li><code>footer</code>：页尾文案；</li><li><code>wdEnabled</code>：是否开启 WebDriver 云；</li><li><code>wdCheckNodesInterval</code>：定时检查 WebDriver 节点健康度（空闲、运行中、不可用）频率，单位 <code>ms</code>；</li><li><code>wdCheckNodesParallelLimit</code>：定时检查节点并发限制。</li></ul><p><br /></p>","body_lake":"<!doctype lake><h2 id=\"70c02cfa\">一、技术架构</h2><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F182712%2F1554715723463-06aa0bcb-8e8a-4589-b37c-ebcee554f132.png%22%2C%22originWidth%22%3A1366%2C%22originHeight%22%3A1160%2C%22size%22%3A0%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A633%7D\"></card></p><p><br /></p><h3 id=\"95d6074b\">1.1 接入层</h3><p><br /></p><p>选用高性能的 <code>Nginx</code> 来提供统一接入服务，主要使用其反向代理服务：</p><p><br /></p><ul><li>NodeJS Web Application 的 <code>3000</code> 端口；</li><li>Guacamole Client 的 <code>8080</code> 端口；</li><li>WebDriver 的 <code>4444</code> 端口。</li></ul><p><br /></p><h3 id=\"1404f1d0\">1.2 应用层</h3><p><br /></p><p><strong>Node Web Application</strong></p><p>提供了一个漂亮的 Web 界面来方便用户发起远程连接并启动配置在 Windows Server 上的 RemoteApp。</p><p><br /></p><ul><li>Users 用户管理：初始化用户信息并在 Windows Server 中创建用户。</li><li>Logs 日志管理：用户日志记录入库。</li><li>WebDriver: WebDriver 节点管理。</li><li>RDP: 远程连接管理。</li><li>SSO：单点登录，用于访问控制。</li><li>API: 开放接口。</li></ul><p><br /></p><p><strong>guacamole-client</strong></p><p>与用户实际交互的部分，它主要将用户的实际远程连接信息传递给 <code>guacd</code> 服务。</p><p><br /></p><h3 id=\"1b26625a\">1.3 数据层</h3><p><br /></p><p>选用 MySQL 存储数据，用以存储日志、用户信息以及 WebDriver 节点等。</p><p><br /></p><h3 id=\"88e6be02\">1.4 服务层</h3><p><br /></p><p><code>guacd</code> 是 <code>Guacamole</code> 的核心，它动态加载对远程桌面协议的支持，并根据从 <code>guacamole-client</code> 收到的指令来连接到远程桌面。</p><p><br /></p><h2 id=\"96edf5b8\">二、配置详解</h2><p><br /></p><p><code>F2etest-web</code> 主要包含以下 4 个配置文件：</p><p><br /></p><h3 id=\"c1a9669b\">2.1 免登配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/etc/guacamole/noauth-config.xml</code></p><p>由于官方版本的 <code>Guacamole</code> 有登录限制，我们基于官方版进行了简单的定制和增强。</p></blockquote><p><br /></p><p>每一条 <code>config</code> 对应界面上一个应用，其格式如下：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22id%22%3A%227fbcd1ef%22%2C%22mode%22%3A%22xml%22%2C%22code%22%3A%22%3Cconfigs%3E%5Cn%20%20%20%20%3Cconfig%20name%3D%5C%22f2etest-ie8%5C%22%20protocol%3D%5C%22rdp%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22hostname%5C%22%20value%3D%5C%22192.168.56.102%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22port%5C%22%20value%3D%5C%223389%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22enable-drive%5C%22%20value%3D%5C%22true%5C%22%20%2F%3E%5Cn%20%20%20%20%20%20%20%20%3Cparam%20name%3D%5C%22drive-path%5C%22%20value%3D%5C%22%2Fhome%2Fguacdshare%5C%22%20%2F%3E%5Cn%20%20%20%20%3C%2Fconfig%3E%5Cn%3C%2Fconfigs%3E%22%7D\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>&lt;config name=&quot;f2etest-ie8&quot; protocol=&quot;rdp&quot;&gt;</code>: 远程连接的服务器名称以及协议，其中 <code>name</code> 对应<strong>应用配置</strong>中的 <code>server</code>，<code>protocol</code> 均为 <code>rdp</code>；</li><li><code>hostname</code>: 远程连接的 IP 地址，即 Windows Server 的 <code>IP</code> 地址；</li><li><code>enable-drive</code>: 启用文件传输功能，文件将存储在 <code>drive-path</code> 参数指定的目录中，如果启用了文件传输，则必需指定 <code>drive-path</code>，<a href=\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\" target=\"_blank\">更多参考信息</a>；</li><li><code>drive-path</code>: 文件传输在 Linux Server 上的存储位置，如果未开启 <code>enable-drive</code>，此参数会被忽略，<a href=\"https://guacamole.apache.org/doc/gug/configuring-guacamole.html\" target=\"_blank\">更多参考信息</a>。</li></ul><p><br /></p><h3 id=\"baddf3e1\">2.2 应用配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/app.json</code></p></blockquote><p><br /></p><p>数组中每一条记录对应界面上一个应用，其格式示例如下：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22id%22%3A%227a77434b%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22hostsshare%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22hosts%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie11%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Chostsshare.bat%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22ie6%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22IE%206%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie6%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Cie6.bat%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22ie7%5C%22%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22IE%207%5C%22%2C%5Cn%20%20%20%20%5C%22server%5C%22%3A%20%5C%22f2etest-ie7%5C%22%2C%5Cn%20%20%20%20%5C%22program%5C%22%3A%20%5C%22c%3A%5C%5C%5C%5Capp%5C%5C%5C%5Cie7.bat%5C%22%5Cn%20%20%7D%5Cn%5D%22%7D\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>：界面上显示对应的图标（文件夹位置：<code>/home/f2etest-web/public/imgs/ico</code>）；</li><li><code>name</code>：界面图标下方展示的应用名称；</li><li><code>server</code>：用于拼接 URL 来调用 <code>guacamole-client</code>，最后实现远程连接到 Windows Server。</li><li><code>program</code>：Windows Server 中配置的启动文件（用于打开对应的应用）位置。</li></ul><p><br /></p><h3 id=\"58c92670\">2.3 服务器配置</h3><p><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/server.json</code></p></blockquote><p><br /></p><p>数组中每条数据对应一台 Windows 服务器。</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22id%22%3A%227ce37b93%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie6%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.1%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20false%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie7%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.2%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20false%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%20%5C%22f2etest-ie8%5C%22%2C%5Cn%20%20%20%20%5C%22ip%5C%22%3A%20%5C%2210.0.0.3%5C%22%2C%5Cn%20%20%20%20%5C%22remoteApp%5C%22%3A%20true%5Cn%20%20%7D%5Cn%5D%22%7D\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>id</code>: 服务器名称，必须与应用配置中的 <code>server</code> 名称保持一致；</li><li><code>ip</code>: 对应的服务器 <code>IP</code> 地址；</li><li><code>remoteApp</code>: 是否开启远程应用模式，只有在开启的情况下才能打开 Windows Server 上的应用。</li></ul><p><br /></p><h3 id=\"1534b4e9\">2.4 站点配置</h3><p><cursor /><br /></p><blockquote><p>配置文件位置：<code>/home/f2etest-web/conf/site.json</code></p></blockquote><p><br /></p><p>NodeJS Web 的站点配置文件：</p><p><br /></p><card type=\"block\" name=\"codeblock\" value=\"data:%7B%22id%22%3A%22eb731f66%22%2C%22code%22%3A%22%7B%5Cn%20%20%20%20%5C%22port%5C%22%3A%203000%2C%5Cn%20%20%20%20%5C%22name%5C%22%3A%20%5C%22F2eTest%5C%22%2C%5Cn%20%20%20%20%5C%22about%5C%22%3A%20%5C%22%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BA%91%E6%B5%8B%E5%B9%B3%E5%8F%B0%5C%22%2C%5Cn%20%20%20%20%5C%22icon%5C%22%3A%20%5C%22%2Ffavicon.ico%5C%22%2C%5Cn%20%20%20%20%5C%22dbHost%5C%22%3A%20%5C%22127.0.0.1%5C%22%2C%5Cn%20%20%20%20%5C%22dbUser%5C%22%3A%20%5C%22root%5C%22%2C%5Cn%20%20%20%20%5C%22dbPass%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%5C%22dbTable%5C%22%3A%20%5C%22f2etest%5C%22%2C%5Cn%20%20%20%20%5C%22clientApiKey%5C%22%3A%5C%22f2etest%5C%22%2C%5Cn%20%20%20%20%5C%22guacamoleApi%5C%22%3A%20%5C%22http%3A%2F%2F127.0.0.1%2Fguacamole%2Fclient.xhtml%5C%22%2C%5Cn%20%20%20%20%5C%22footer%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%5C%22wdEnabled%5C%22%3A%20false%2C%5Cn%20%20%20%20%5C%22wdCheckNodesInterval%5C%22%3A%205000%2C%5Cn%20%20%20%20%5C%22wdCheckNodesParallelLimit%5C%22%3A%2016%5Cn%7D%22%7D\"></card><p><br /></p><p><strong>参数释义</strong></p><p><br /></p><ul><li><code>port</code>: Web 应用启动后所占用的端口号；</li><li><code>name</code>: 站点名称，作用于页面 <code>title</code> 及页头 <code>logo</code> 处；</li><li><code>about</code>: 作用于页面 <code>title</code>；</li><li><code>icon</code>：站点 <code>ico</code> 图标，文件位于 <code>/home/f2etest-web/public/favicon.ico</code>，需存放在 <code>public</code> 目录；</li><li><code>dbHost</code>： 数据库 IP ；</li><li><code>dbUser</code>：数据库用户名；</li><li><code>dbPass</code>：数据库密码；</li><li><code>dbTable</code>：数据库库名称；</li><li><code>clientApiKey</code>：初始化 Windows Server 用户所用到的 <code>key</code>，与 Windows Server 上的 <code>C:\\inetpub\\wwwroot\\setUser.asp</code> 中的 <code>key</code> 保持一致；</li><li><code>guacamoleApi</code>：<code>guacamole-client</code> 服务地址，供浏览器访问调用，<code>host</code> 与 <code>Node Web</code> 一致;</li><li><code>footer</code>：页尾文案；</li><li><code>wdEnabled</code>：是否开启 WebDriver 云；</li><li><code>wdCheckNodesInterval</code>：定时检查 WebDriver 节点健康度（空闲、运行中、不可用）频率，单位 <code>ms</code>；</li><li><code>wdCheckNodesParallelLimit</code>：定时检查节点并发限制。</li></ul><p><br /></p>","public":1,"status":null,"likes_count":4,"comments_count":0,"content_updated_at":"2019-04-17T01:55:38.000Z","deleted_at":null,"created_at":"2019-04-08T09:28:29.000Z","updated_at":"2019-04-23T06:14:57.000Z","published_at":"2019-04-17T01:55:38.000Z","first_published_at":"2019-04-08T09:29:27.000Z","word_count":1243,"cover":null,"description":"一、技术架构1.1 接入层选用高性能的 Nginx 来提供统一接入服务，主要使用其反向代理服务：NodeJS Web Application 的 3000 端口；Guacamole Client 的 8080 端口；WebDriver 的 4444 端口。1.2 应用层Node Web App...","custom_description":null,"_serializer":"v2.doc_detail"}
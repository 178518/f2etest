{"id":1539695,"slug":"browser-cloud-install","title":"浏览器云部署","book_id":245753,"book":{"id":245753,"type":"Book","slug":"f2etest","name":"F2etest","user_id":296279,"description":"F2etest 是一个面向前端、测试、产品等岗位的多浏览器兼容性测试整体解决方案。","creator_id":94302,"public":1,"items_count":12,"likes_count":0,"watches_count":2,"content_updated_at":"2019-04-23T07:06:18.228Z","updated_at":"2019-04-23T07:06:18.000Z","created_at":"2019-03-21T03:15:48.000Z","namespace":"artist/f2etest","user":{"id":296279,"type":"Group","login":"artist","name":"F&D艺术家-前端自动化测试","description":"探索与推广前端自动化测试","avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/94302/1553150693943-avatar/c80e9798-27e4-4238-8760-4bb5828a7228.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":3,"public_books_count":3,"followers_count":0,"following_count":0,"created_at":"2019-03-21T06:44:55.000Z","updated_at":"2019-04-23T05:36:48.000Z","_serializer":"v2.user"},"_serializer":"v2.book"},"user_id":182712,"creator":{"id":182712,"type":"User","login":"undead25","name":"双龙","description":null,"avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png","large_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_320,h_320","medium_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_160,h_160","small_avatar_url":"https://cdn.nlark.com/yuque/0/2019/png/182712/1554346835965-avatar/a9f57da4-3a12-43bc-be2c-85b7e215b7c7.png?x-oss-process=image/resize,m_fill,w_80,h_80","books_count":0,"public_books_count":0,"followers_count":0,"following_count":1,"created_at":"2018-09-26T16:45:26.000Z","updated_at":"2019-04-04T03:00:41.000Z","_serializer":"v2.user"},"format":"lake","body":"","body_draft":"","body_html":"<h2 id=\"858e7e78\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建<strong>浏览器云</strong>最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\"1ab99133\">二、目标</h2><p><br /></p><p>在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。</p><p><br /></p><h2 id=\"f4f988c6\">三、部署</h2><p><br /></p><p>要使 F2etest 可以运行起来，总结起来，在 <span>Windows Server 上我们要做如下的配置工作。</span></p><p><br /></p><ul><li>取消登陆密码复杂性 - F2etest 的登陆</li><li>禁用 IE ESC - 防止在浏览器操作时，按了 ESC 导致 IE 浏览器退出</li><li>安装远程桌面服务</li><li>配置远程桌面服务</li><li>部署 IIS 服务 - 提供新建用户服务脚本</li><li>配置应用程序 - <span>IE 8 浏览器与 </span><span>hostShare 应用</span></li></ul><h3 id=\"d41d8cd9\"><br /></h3><h4 id=\"57a30893\"><span>3.1 取消登陆密码复杂性</span></h4><p><span><br /></span></p><p>运行中输入 <code><span class=\"lake-fontsize-12\" style=\"color: #333333;\">gpedit.msc</span></code><span class=\"lake-fontsize-12\" style=\"color: #333333;\"> 打开本地策略编辑器</span></p><p><span><br /><img alt=\"0.jpg\" title=\"0.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407435808-ffe71809-a207-40ac-bece-7be4bc890381.jpeg#align=left&amp;display=inline&amp;height=561&amp;name=0.jpg&amp;originHeight=1008&amp;originWidth=816&amp;size=56381&amp;status=done&amp;width=454\" style=\"max-width: 600px; width: 454px;\" /></span></p><p><span><br /></span></p><p><span>修改 账户策略 - 密码策略</span></p><p><span><br /></span></p><p><span><img alt=\"1-1.jpg\" title=\"1-1.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407511180-4f34bb85-cb17-42f2-acc8-ab8199cc25f4.jpeg#align=left&amp;display=inline&amp;height=563&amp;name=1-1.jpg&amp;originHeight=1168&amp;originWidth=1548&amp;size=275351&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></span></p><p><br /></p><h4 id=\"8f3043fb\">3.2 禁用 IE ESC</h4><p><br /></p><p>进入服务器管理</p><p><br /></p><p><img alt=\"44.jpg\" title=\"44.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407716281-c24d77ec-5445-4f8f-a47e-b4616c00dfda.jpeg#align=left&amp;display=inline&amp;height=647&amp;name=44.jpg&amp;originHeight=1206&amp;originWidth=1390&amp;size=217191&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>配置 IE ESC</p><p><br /></p><p><img alt=\"2.jpg\" title=\"2.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407635593-20f31ac7-9214-40b2-bfd4-7b113162ad07.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=2.jpg&amp;originHeight=737&amp;originWidth=1020&amp;size=151620&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><h4 id=\"0851fc06\">3.3 安装远程桌面服务</h4><p><br /></p><p>服务器管理 - 角色 - 添加角色。</p><p><br /></p><p><img alt=\"3.jpg\" title=\"3.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407791771-86e26770-6e18-4de5-8be7-b665054aedd2.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=3.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=142805&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>角色服务，勾选远程桌面会话主机，远程桌面授权和远程桌面 Web 访问。</p><p><br /><img alt=\"4.jpg\" title=\"4.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407830429-f8bbed11-9b11-4a6b-861a-679d280fe97f.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=4.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=133428&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>应用程序兼容性，下一步。</p><p><br /><img alt=\"5.jpg\" title=\"5.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407889574-a3b6155b-7fb2-4b3d-b2c9-b73b6b26ed89.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=5.jpg&amp;originHeight=735&amp;originWidth=1020&amp;size=125641&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>身份验证方法，选择不需要使用网络级别身份验证，下一步。</p><p><br /><img alt=\"6.jpg\" title=\"6.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407921371-b5ed9314-dd13-4a49-b891-231066aca4a9.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=6.jpg&amp;originHeight=734&amp;originWidth=1018&amp;size=156132&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>授权模式，选择每用户，下一步。</p><p><br /></p><p><img alt=\"7.jpg\" title=\"7.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555407980411-fec550d4-3f53-4ae2-b864-710885d80833.jpeg#align=left&amp;display=inline&amp;height=541&amp;name=7.jpg&amp;originHeight=736&amp;originWidth=1015&amp;size=138092&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>用户组，按照如下面所示，添加 Authenticated User，下一步。</p><p><br /></p><p><img alt=\"8.jpg\" title=\"8.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408007958-4d338e71-1d71-4fc0-ab55-b4ab354f462e.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=8.jpg&amp;originHeight=735&amp;originWidth=1019&amp;size=121055&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><img alt=\"9.jpg\" title=\"9.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408041993-048b7151-1dac-448d-a49a-ecdc9362a33a.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=9.jpg&amp;originHeight=737&amp;originWidth=1019&amp;size=121096&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><br /></p><p><img alt=\"10.jpg\" title=\"10.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408057007-46611fa1-0b82-4ab5-a217-1d63693715d7.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=10.jpg&amp;originHeight=735&amp;originWidth=1019&amp;size=142227&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><img alt=\"11.jpg\" title=\"11.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408066915-161a1c11-806c-47c3-b9f3-285fd9250b4a.jpeg#align=left&amp;display=inline&amp;height=537&amp;name=11.jpg&amp;originHeight=737&amp;originWidth=1023&amp;size=122528&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>客户端体验，默认，下一步。</p><p><br /></p><p><img alt=\"12.jpg\" title=\"12.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408218764-5a287eee-dee0-49df-9a32-e63bf66e2125.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=12.jpg&amp;originHeight=738&amp;originWidth=1022&amp;size=146260&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>RD 授权配置，默认，下一步。</p><p><br /><img alt=\"13.jpg\" title=\"13.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408250098-c323ed01-587f-473c-ac61-2653ea8ccfce.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=13.jpg&amp;originHeight=736&amp;originWidth=1020&amp;size=157067&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>角色服务，按照下图勾选，勾选应用程序开发和管理工具，下一步。</p><p><br /></p><p><img alt=\"14.jpg\" title=\"14.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408291213-7af0cf48-f4ca-4b7b-a34a-cf19f21e086f.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=14.jpg&amp;originHeight=737&amp;originWidth=1019&amp;size=150836&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><img alt=\"15.jpg\" title=\"15.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408339605-06f4d256-e275-44cc-8eb2-d2842231ff2e.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=15.jpg&amp;originHeight=736&amp;originWidth=1016&amp;size=154964&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><br /></p><p><br /></p><p>确认安装，安装完成后重启机器。</p><p><br /><img alt=\"16.jpg\" title=\"16.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408365776-deba65fb-2282-4aa6-801f-620c43c7401a.jpeg#align=left&amp;display=inline&amp;height=539&amp;name=16.jpg&amp;originHeight=736&amp;originWidth=1019&amp;size=160226&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><img alt=\"17.jpg\" title=\"17.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408392334-c7faabdb-d95e-4683-869b-47d554a9322b.jpeg#align=left&amp;display=inline&amp;height=540&amp;name=17.jpg&amp;originHeight=739&amp;originWidth=1021&amp;size=111287&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><img alt=\"18.jpg\" title=\"18.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408403266-42b7b490-6880-430e-83e0-31dd3e93ec96.jpeg#align=left&amp;display=inline&amp;height=538&amp;name=18.jpg&amp;originHeight=737&amp;originWidth=1022&amp;size=130665&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><br /></p><p><br /></p><h4 id=\"4c44eac0\">3.4 配置远程桌面服务</h4><p><br /></p><ul><li>激活远程桌面服务。</li></ul><p><br /></p><p>管理工具 - 远程桌面服务 - 远程桌面授权管理器。</p><p><br /><img alt=\"19.jpg\" title=\"19.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408488810-dc67c36b-dbaa-4b28-a76f-0e688d3842a9.jpeg#align=left&amp;display=inline&amp;height=453&amp;name=19.jpg&amp;originHeight=638&amp;originWidth=1050&amp;size=105792&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>右键，激活服务器。</p><p><br /></p><p><img alt=\"20.jpg\" title=\"20.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408528953-5a633c01-c11f-4a3f-85c7-07adab5ae397.jpeg#align=left&amp;display=inline&amp;height=429&amp;name=20.jpg&amp;originHeight=618&amp;originWidth=1075&amp;size=62121&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>激活向导，下一步。</p><p><br /><img alt=\"21.jpg\" title=\"21.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408552984-1afd9309-6abb-4631-9f08-58769af2636f.jpeg#align=left&amp;display=inline&amp;height=429&amp;name=21.jpg&amp;originHeight=619&amp;originWidth=1076&amp;size=94929&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>公司，姓，名，都可以随意填。</p><p><br /></p><p><img alt=\"22.jpg\" title=\"22.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408574450-6263856f-e577-4868-af7d-cc024c6dac90.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=22.jpg&amp;originHeight=567&amp;originWidth=548&amp;size=51030&amp;status=done&amp;width=548\" style=\"max-width: 600px; width: 548px;\" /></p><p><br /></p><p>不填，下一步。</p><p><br /><img alt=\"23.jpg\" title=\"23.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408606984-db439e8d-1baf-4a82-a747-762de784203e.jpeg#align=left&amp;display=inline&amp;height=572&amp;name=23.jpg&amp;originHeight=572&amp;originWidth=552&amp;size=50503&amp;status=done&amp;width=552\" style=\"max-width: 600px; width: 552px;\" /></p><p><br /></p><p>下确保“立即启动许可证安装向导”勾选，下一步。</p><p><br /><img alt=\"24.jpg\" title=\"24.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408619943-2224bdbd-04a6-46e5-ab09-3d1b7a9afdc5.jpeg#align=left&amp;display=inline&amp;height=565&amp;name=24.jpg&amp;originHeight=565&amp;originWidth=551&amp;size=49884&amp;status=done&amp;width=551\" style=\"max-width: 600px; width: 551px;\" /></p><p><br /></p><p>这里也是下一步。</p><p><br /></p><p><img alt=\"25.jpg\" title=\"25.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408674472-a97ef2ba-2712-48b5-9eb7-60cab0e28c99.jpeg#align=left&amp;display=inline&amp;height=566&amp;name=25.jpg&amp;originHeight=566&amp;originWidth=551&amp;size=57341&amp;status=done&amp;width=551\" style=\"max-width: 600px; width: 551px;\" /></p><p><br /></p><p>示例，不管，下一步。</p><p><br /><img alt=\"26.jpg\" title=\"26.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408700027-a27cc88d-5c2b-4fdb-aac2-179efba463d8.jpeg#align=left&amp;display=inline&amp;height=569&amp;name=26.jpg&amp;originHeight=569&amp;originWidth=550&amp;size=55839&amp;status=done&amp;width=550\" style=\"max-width: 600px; width: 550px;\" /></p><p><br /></p><p>协议号码填入“6565792”，下一步。</p><p><br /></p><p><img alt=\"27.jpg\" title=\"27.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408718538-63171a57-9972-4b74-ad34-5e2a0c51ede4.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=27.jpg&amp;originHeight=567&amp;originWidth=551&amp;size=33996&amp;status=done&amp;width=551\" style=\"max-width: 600px; width: 551px;\" /></p><p><br /></p><p>按图选择，下一步。</p><p><br /></p><p><img alt=\"28.jpg\" title=\"28.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408763737-ebc32bee-480b-4431-8448-b585ba42e266.jpeg#align=left&amp;display=inline&amp;height=567&amp;name=28.jpg&amp;originHeight=567&amp;originWidth=551&amp;size=62961&amp;status=done&amp;width=551\" style=\"max-width: 600px; width: 551px;\" /></p><p><br /></p><p>完成。</p><p><br /><img alt=\"29.jpg\" title=\"29.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408787209-0de7ede5-cc57-4b85-aef1-9c446b833f8f.jpeg#align=left&amp;display=inline&amp;height=568&amp;name=29.jpg&amp;originHeight=568&amp;originWidth=550&amp;size=34414&amp;status=done&amp;width=550\" style=\"max-width: 600px; width: 550px;\" /></p><p><br /></p><h4 id=\"30122014\"><span>3.5 部署 IIS 服务</span></h4><p><span><br /></span></p><p>IIS 服务器主要是用来给 F2etest-web 调用创建 Windows 用户功能。</p><p><br /></p><p>拷贝 F2etest 源代码里的 <code>f2etest-client\\f2etest-browsers\\www</code> 下的 <strong>setuser</strong> 文件到<code>C:\\inetpub\\wwwroot</code> 下 并修改 <code>apikey</code> 为前面配置的 <code>key</code>。</p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"> <img alt=\"30.jpg\" title=\"30.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555408983404-35ebfeba-6e0a-4542-9374-058cdf6b3bfd.jpeg#align=left&amp;display=inline&amp;height=320&amp;name=30.jpg&amp;originHeight=550&amp;originWidth=1282&amp;size=119135&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></span></p><p><br /></p><p>编辑 setuser 文件，修改 <code>apiKey</code>。</p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><br /><img alt=\"31.jpg\" title=\"31.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409014190-47b19460-aca4-4353-b239-fc275be606ce.jpeg#align=left&amp;display=inline&amp;height=430&amp;name=31.jpg&amp;originHeight=620&amp;originWidth=1076&amp;size=107100&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></span></p><p><br /></p><p>进入 IIS 管理器。</p><p><br /></p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><img alt=\"32.jpg\" title=\"32.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409048429-dabc8e04-bd75-4c02-80c7-3afd544f4bc6.jpeg#align=left&amp;display=inline&amp;height=511&amp;name=32.jpg&amp;originHeight=511&amp;originWidth=404&amp;size=70877&amp;status=done&amp;width=404\" style=\"max-width: 600px; width: 404px;\" /></span></p><p><br /></p><p>选择身份验证。</p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><br /></span></p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><img alt=\"33-1.jpg\" title=\"33-1.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409099227-30b750c2-0536-4512-b970-0813237f48e7.jpeg#align=left&amp;display=inline&amp;height=470&amp;name=33-1.jpg&amp;originHeight=1402&amp;originWidth=2226&amp;size=461660&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></span></p><p><br /></p><p>右键匿名身份验证，编辑。</p><p><br /></p><p><img alt=\"34.jpg\" title=\"34.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409128431-39be6ae6-9088-4e36-845d-acc7bdcd0891.jpeg#align=left&amp;display=inline&amp;height=468&amp;name=34.jpg&amp;originHeight=700&amp;originWidth=1115&amp;size=117183&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>选择设置。</p><p><br /><img alt=\"35.jpg\" title=\"35.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409163537-0374c516-c091-4997-bd06-144ae91a8caf.jpeg#align=left&amp;display=inline&amp;height=470&amp;name=35.jpg&amp;originHeight=704&amp;originWidth=1117&amp;size=133044&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>填入 administrator 的账户与密码。</p><p><br /><img alt=\"36.jpg\" title=\"36.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409180080-3fcbf812-42c6-459b-be17-ef1a041c1391.jpeg#align=left&amp;display=inline&amp;height=469&amp;name=36.jpg&amp;originHeight=702&amp;originWidth=1116&amp;size=129208&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>访问 <a href=\"http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest\" target=\"_blank\">http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest</a>，如果看到页面输出 <strong>ok</strong>，代表  IIS服务设置成功。</p><p><br /><img alt=\"image.png\" title=\"image.png\" src=\"https://cdn.nlark.com/yuque/0/2019/png/318847/1555409206387-7d0ae7f1-4514-45e6-a569-287d62180635.png#align=left&amp;display=inline&amp;height=858&amp;name=image.png&amp;originHeight=1716&amp;originWidth=2356&amp;size=221284&amp;status=done&amp;width=1178\" style=\"max-width: 600px; width: 1178px;\" /></p><p><br /></p><p><br /></p><h4 id=\"18c825a4\">3.6 <span>配置应用程序</span></h4><p><br /></p><p>复制 <code>f2etest-client\\f2etest-browsers\\curl</code> 中的所有文件到 <code>c:\\windows</code> 下面。</p><p><span><br /></span></p><p><span><img alt=\"38.jpg\" title=\"38.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409310828-31724197-c056-4025-864f-b33fc0ed5216.jpeg#align=left&amp;display=inline&amp;height=303&amp;name=38.jpg&amp;originHeight=1156&amp;originWidth=2846&amp;size=483022&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><br /></span></p><p><br /></p><p>把 <code>f2etest-client\\f2etest-browsers</code> 下的 <strong>app</strong> 目录复制到 <strong>C</strong> 盘根目录，并重命名<strong>强制代理.bat</strong> 为 <strong>ie8.bat</strong>，<strong>禁用代理.bat</strong>为 <strong>hostsshare.bat</strong>。</p><p><br /></p><p><img alt=\"39.jpg\" title=\"39.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409423243-65e47ad4-83b5-42d2-8faf-fb03d26983ee.jpeg#align=left&amp;display=inline&amp;height=305&amp;name=39.jpg&amp;originHeight=1164&amp;originWidth=2848&amp;size=326580&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>然后修改两个 bat 中的 f2etestDomain 为 f2etest-web 的访问地址，其中 ie8.bat 中的 appid 请修改为 ie8 和<span>f2etest-web 的 </span>app.js 中配置的 id 保持一致。</p><p><br /><img alt=\"40.jpg\" title=\"40.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409433798-3a9f5421-01da-45a7-9956-a22bc5e8b3a8.jpeg#align=left&amp;display=inline&amp;height=367&amp;name=40.jpg&amp;originHeight=1270&amp;originWidth=2582&amp;size=485370&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>把源码中的 hostsShare-client 下的 build 文件夹修改为 hostsShare 并拷贝到 C 盘根目录。</p><p><br /></p><p><img alt=\"41.jpg\" title=\"41.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409536414-94c6e112-2a7a-4863-bd73-9f11e4ed0611.jpeg#align=left&amp;display=inline&amp;height=307&amp;name=41.jpg&amp;originHeight=1172&amp;originWidth=2848&amp;size=402950&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><br /></p><p><br /></p><p>管理工具 - 远程桌面服务 - RemoteApp 管理器</p><p><br /></p><p><img alt=\"42.jpg\" title=\"42.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555409564698-59aafa3b-077e-4fd6-a702-e189a281a07b.jpeg#align=left&amp;display=inline&amp;height=514&amp;name=42.jpg&amp;originHeight=1194&amp;originWidth=1732&amp;size=283397&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>按照下图顺序添加</p><p><br /></p><p><img alt=\"47.jpg\" title=\"47.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410044530-a067d815-5d5e-4f7e-bb70-9d760a70e9d4.jpeg#align=left&amp;display=inline&amp;height=566&amp;name=47.jpg&amp;originHeight=1456&amp;originWidth=1920&amp;size=412194&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /><br /></p><p><br /></p><p>右键 hostsShare.bat 和 ie8.bat，选择属性。</p><p><br /><img alt=\"48.jpg\" title=\"48.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410086581-a92ddddc-86c6-41c9-9e8a-106f1d9c7f97.jpeg#align=left&amp;display=inline&amp;height=564&amp;name=48.jpg&amp;originHeight=1450&amp;originWidth=1918&amp;size=541301&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p><p><br /></p><p>选择允许任何命令行参数。</p><p><br /></p><p><img alt=\"49.jpg\" title=\"49.jpg\" src=\"https://cdn.nlark.com/yuque/0/2019/jpeg/318847/1555410213088-6a67adce-5c25-4c04-b55e-09b8466d5224.jpeg#align=left&amp;display=inline&amp;height=565&amp;name=49.jpg&amp;originHeight=1454&amp;originWidth=1920&amp;size=372035&amp;status=done&amp;width=746\" style=\"max-width: 600px; width: 746px;\" /></p>","body_lake":"<!doctype lake><h2 id=\"858e7e78\">一、前言</h2><p><br /></p><p>本部署教程旨在搭建<strong>浏览器云</strong>最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。</p><p><br /></p><h2 id=\"1ab99133\">二、目标</h2><p><br /></p><p>在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。</p><p><br /></p><h2 id=\"f4f988c6\">三、部署</h2><p><br /></p><p>要使 F2etest 可以运行起来，总结起来，在 <span>Windows Server 上我们要做如下的配置工作。</span></p><p><br /></p><ul><li>取消登陆密码复杂性 - F2etest 的登陆</li><li>禁用 IE ESC - 防止在浏览器操作时，按了 ESC 导致 IE 浏览器退出</li><li>安装远程桌面服务</li><li>配置远程桌面服务</li><li>部署 IIS 服务 - 提供新建用户服务脚本</li><li>配置应用程序 - <span>IE 8 浏览器与 </span><span>hostShare 应用</span></li></ul><h3 id=\"d41d8cd9\"><br /></h3><h4 id=\"57a30893\"><span>3.1 取消登陆密码复杂性</span></h4><p><span><br /></span></p><p>运行中输入 <code><span class=\"lake-fontsize-12\" style=\"color: #333333;\">gpedit.msc</span></code><span class=\"lake-fontsize-12\" style=\"color: #333333;\"> 打开本地策略编辑器</span></p><p><span><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407435808-ffe71809-a207-40ac-bece-7be4bc890381.jpeg%22%2C%22originWidth%22%3A816%2C%22originHeight%22%3A1008%2C%22name%22%3A%220.jpg%22%2C%22size%22%3A56381%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A454%2C%22height%22%3A561%7D\"></card></span></p><p><span><br /></span></p><p><span>修改 账户策略 - 密码策略</span></p><p><span><br /></span></p><p><span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407511180-4f34bb85-cb17-42f2-acc8-ab8199cc25f4.jpeg%22%2C%22originWidth%22%3A1548%2C%22originHeight%22%3A1168%2C%22name%22%3A%221-1.jpg%22%2C%22size%22%3A275351%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A563%7D\"></card></span></p><p><br /></p><h4 id=\"8f3043fb\">3.2 禁用 IE ESC</h4><p><br /></p><p>进入服务器管理</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407716281-c24d77ec-5445-4f8f-a47e-b4616c00dfda.jpeg%22%2C%22originWidth%22%3A1390%2C%22originHeight%22%3A1206%2C%22name%22%3A%2244.jpg%22%2C%22size%22%3A217191%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A647%7D\"></card></p><p><br /></p><p>配置 IE ESC</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407635593-20f31ac7-9214-40b2-bfd4-7b113162ad07.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A737%2C%22name%22%3A%222.jpg%22%2C%22size%22%3A151620%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\"></card></p><p><br /></p><h4 id=\"0851fc06\">3.3 安装远程桌面服务</h4><p><br /></p><p>服务器管理 - 角色 - 添加角色。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407791771-86e26770-6e18-4de5-8be7-b665054aedd2.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%223.jpg%22%2C%22size%22%3A142805%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card></p><p><br /></p><p>角色服务，勾选远程桌面会话主机，远程桌面授权和远程桌面 Web 访问。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407830429-f8bbed11-9b11-4a6b-861a-679d280fe97f.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%224.jpg%22%2C%22size%22%3A133428%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card></p><p><br /></p><p>应用程序兼容性，下一步。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407889574-a3b6155b-7fb2-4b3d-b2c9-b73b6b26ed89.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A735%2C%22name%22%3A%225.jpg%22%2C%22size%22%3A125641%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card></p><p><br /></p><p>身份验证方法，选择不需要使用网络级别身份验证，下一步。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407921371-b5ed9314-dd13-4a49-b891-231066aca4a9.jpeg%22%2C%22originWidth%22%3A1018%2C%22originHeight%22%3A734%2C%22name%22%3A%226.jpg%22%2C%22size%22%3A156132%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card></p><p><br /></p><p>授权模式，选择每用户，下一步。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555407980411-fec550d4-3f53-4ae2-b864-710885d80833.jpeg%22%2C%22originWidth%22%3A1015%2C%22originHeight%22%3A736%2C%22name%22%3A%227.jpg%22%2C%22size%22%3A138092%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A541%7D\"></card></p><p><br /></p><p>用户组，按照如下面所示，添加 Authenticated User，下一步。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408007958-4d338e71-1d71-4fc0-ab55-b4ab354f462e.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A735%2C%22name%22%3A%228.jpg%22%2C%22size%22%3A121055%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408041993-048b7151-1dac-448d-a49a-ecdc9362a33a.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A737%2C%22name%22%3A%229.jpg%22%2C%22size%22%3A121096%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\"></card><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408057007-46611fa1-0b82-4ab5-a217-1d63693715d7.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A735%2C%22name%22%3A%2210.jpg%22%2C%22size%22%3A142227%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408066915-161a1c11-806c-47c3-b9f3-285fd9250b4a.jpeg%22%2C%22originWidth%22%3A1023%2C%22originHeight%22%3A737%2C%22name%22%3A%2211.jpg%22%2C%22size%22%3A122528%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A537%7D\"></card></p><p><br /></p><p>客户端体验，默认，下一步。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408218764-5a287eee-dee0-49df-9a32-e63bf66e2125.jpeg%22%2C%22originWidth%22%3A1022%2C%22originHeight%22%3A738%2C%22name%22%3A%2212.jpg%22%2C%22size%22%3A146260%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\"></card></p><p><br /></p><p>RD 授权配置，默认，下一步。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408250098-c323ed01-587f-473c-ac61-2653ea8ccfce.jpeg%22%2C%22originWidth%22%3A1020%2C%22originHeight%22%3A736%2C%22name%22%3A%2213.jpg%22%2C%22size%22%3A157067%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card></p><p><br /></p><p>角色服务，按照下图勾选，勾选应用程序开发和管理工具，下一步。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408291213-7af0cf48-f4ca-4b7b-a34a-cf19f21e086f.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A737%2C%22name%22%3A%2214.jpg%22%2C%22size%22%3A150836%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\"></card><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408339605-06f4d256-e275-44cc-8eb2-d2842231ff2e.jpeg%22%2C%22originWidth%22%3A1016%2C%22originHeight%22%3A736%2C%22name%22%3A%2215.jpg%22%2C%22size%22%3A154964%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\"></card><br /></p><p><br /></p><p>确认安装，安装完成后重启机器。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408365776-deba65fb-2282-4aa6-801f-620c43c7401a.jpeg%22%2C%22originWidth%22%3A1019%2C%22originHeight%22%3A736%2C%22name%22%3A%2216.jpg%22%2C%22size%22%3A160226%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A539%7D\"></card><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408392334-c7faabdb-d95e-4683-869b-47d554a9322b.jpeg%22%2C%22originWidth%22%3A1021%2C%22originHeight%22%3A739%2C%22name%22%3A%2217.jpg%22%2C%22size%22%3A111287%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A540%7D\"></card></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408403266-42b7b490-6880-430e-83e0-31dd3e93ec96.jpeg%22%2C%22originWidth%22%3A1022%2C%22originHeight%22%3A737%2C%22name%22%3A%2218.jpg%22%2C%22size%22%3A130665%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A538%7D\"></card><br /></p><p><br /></p><h4 id=\"4c44eac0\">3.4 配置远程桌面服务</h4><p><br /></p><ul><li>激活远程桌面服务。</li></ul><p><br /></p><p>管理工具 - 远程桌面服务 - 远程桌面授权管理器。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408488810-dc67c36b-dbaa-4b28-a76f-0e688d3842a9.jpeg%22%2C%22originWidth%22%3A1050%2C%22originHeight%22%3A638%2C%22name%22%3A%2219.jpg%22%2C%22size%22%3A105792%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A453%7D\"></card></p><p><br /></p><p>右键，激活服务器。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408528953-5a633c01-c11f-4a3f-85c7-07adab5ae397.jpeg%22%2C%22originWidth%22%3A1075%2C%22originHeight%22%3A618%2C%22name%22%3A%2220.jpg%22%2C%22size%22%3A62121%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A429%7D\"></card></p><p><br /></p><p>激活向导，下一步。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408552984-1afd9309-6abb-4631-9f08-58769af2636f.jpeg%22%2C%22originWidth%22%3A1076%2C%22originHeight%22%3A619%2C%22name%22%3A%2221.jpg%22%2C%22size%22%3A94929%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A429%7D\"></card></p><p><br /></p><p>公司，姓，名，都可以随意填。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408574450-6263856f-e577-4868-af7d-cc024c6dac90.jpeg%22%2C%22originWidth%22%3A548%2C%22originHeight%22%3A567%2C%22name%22%3A%2222.jpg%22%2C%22size%22%3A51030%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A548%2C%22height%22%3A567%7D\"></card></p><p><br /></p><p>不填，下一步。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408606984-db439e8d-1baf-4a82-a747-762de784203e.jpeg%22%2C%22originWidth%22%3A552%2C%22originHeight%22%3A572%2C%22name%22%3A%2223.jpg%22%2C%22size%22%3A50503%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A552%2C%22height%22%3A572%7D\"></card></p><p><br /></p><p>下确保“立即启动许可证安装向导”勾选，下一步。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408619943-2224bdbd-04a6-46e5-ab09-3d1b7a9afdc5.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A565%2C%22name%22%3A%2224.jpg%22%2C%22size%22%3A49884%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A565%7D\"></card></p><p><br /></p><p>这里也是下一步。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408674472-a97ef2ba-2712-48b5-9eb7-60cab0e28c99.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A566%2C%22name%22%3A%2225.jpg%22%2C%22size%22%3A57341%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A566%7D\"></card></p><p><br /></p><p>示例，不管，下一步。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408700027-a27cc88d-5c2b-4fdb-aac2-179efba463d8.jpeg%22%2C%22originWidth%22%3A550%2C%22originHeight%22%3A569%2C%22name%22%3A%2226.jpg%22%2C%22size%22%3A55839%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A550%2C%22height%22%3A569%7D\"></card></p><p><br /></p><p>协议号码填入“6565792”，下一步。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408718538-63171a57-9972-4b74-ad34-5e2a0c51ede4.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A567%2C%22name%22%3A%2227.jpg%22%2C%22size%22%3A33996%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A567%7D\"></card></p><p><br /></p><p>按图选择，下一步。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408763737-ebc32bee-480b-4431-8448-b585ba42e266.jpeg%22%2C%22originWidth%22%3A551%2C%22originHeight%22%3A567%2C%22name%22%3A%2228.jpg%22%2C%22size%22%3A62961%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A551%2C%22height%22%3A567%7D\"></card></p><p><br /></p><p>完成。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408787209-0de7ede5-cc57-4b85-aef1-9c446b833f8f.jpeg%22%2C%22originWidth%22%3A550%2C%22originHeight%22%3A568%2C%22name%22%3A%2229.jpg%22%2C%22size%22%3A34414%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A550%2C%22height%22%3A568%7D\"></card></p><p><br /></p><h4 id=\"30122014\"><span>3.5 部署 IIS 服务</span></h4><p><span><br /></span></p><p>IIS 服务器主要是用来给 F2etest-web 调用创建 Windows 用户功能。</p><p><br /></p><p>拷贝 F2etest 源代码里的 <code>f2etest-client\\f2etest-browsers\\www</code> 下的 <strong>setuser</strong> 文件到<code>C:\\inetpub\\wwwroot</code> 下 并修改 <code>apikey</code> 为前面配置的 <code>key</code>。</p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"> <card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555408983404-35ebfeba-6e0a-4542-9374-058cdf6b3bfd.jpeg%22%2C%22originWidth%22%3A1282%2C%22originHeight%22%3A550%2C%22name%22%3A%2230.jpg%22%2C%22size%22%3A119135%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A320%7D\"></card></span></p><p><br /></p><p>编辑 setuser 文件，修改 <code>apiKey</code>。</p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409014190-47b19460-aca4-4353-b239-fc275be606ce.jpeg%22%2C%22originWidth%22%3A1076%2C%22originHeight%22%3A620%2C%22name%22%3A%2231.jpg%22%2C%22size%22%3A107100%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A430%7D\"></card></span></p><p><br /></p><p>进入 IIS 管理器。</p><p><br /></p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409048429-dabc8e04-bd75-4c02-80c7-3afd544f4bc6.jpeg%22%2C%22originWidth%22%3A404%2C%22originHeight%22%3A511%2C%22name%22%3A%2232.jpg%22%2C%22size%22%3A70877%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A404%2C%22height%22%3A511%7D\"></card></span></p><p><br /></p><p>选择身份验证。</p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><br /></span></p><p><span class=\"lake-fontsize-12\" style=\"color: #333333;\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409099227-30b750c2-0536-4512-b970-0813237f48e7.jpeg%22%2C%22originWidth%22%3A2226%2C%22originHeight%22%3A1402%2C%22name%22%3A%2233-1.jpg%22%2C%22size%22%3A461660%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A470%7D\"></card></span></p><p><br /></p><p>右键匿名身份验证，编辑。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409128431-39be6ae6-9088-4e36-845d-acc7bdcd0891.jpeg%22%2C%22originWidth%22%3A1115%2C%22originHeight%22%3A700%2C%22name%22%3A%2234.jpg%22%2C%22size%22%3A117183%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A468%7D\"></card></p><p><br /></p><p>选择设置。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409163537-0374c516-c091-4997-bd06-144ae91a8caf.jpeg%22%2C%22originWidth%22%3A1117%2C%22originHeight%22%3A704%2C%22name%22%3A%2235.jpg%22%2C%22size%22%3A133044%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A470%7D\"></card></p><p><br /></p><p>填入 administrator 的账户与密码。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409180080-3fcbf812-42c6-459b-be17-ef1a041c1391.jpeg%22%2C%22originWidth%22%3A1116%2C%22originHeight%22%3A702%2C%22name%22%3A%2236.jpg%22%2C%22size%22%3A129208%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A469%7D\"></card></p><p><br /></p><p>访问 <a href=\"http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest\" target=\"_blank\">http://127.0.0.1/setuser.asp?username=test&amp;password=hello123&amp;key=f2etest</a>，如果看到页面输出 <strong>ok</strong>，代表  IIS服务设置成功。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fpng%2F318847%2F1555409206387-7d0ae7f1-4514-45e6-a569-287d62180635.png%22%2C%22originWidth%22%3A2356%2C%22originHeight%22%3A1716%2C%22name%22%3A%22image.png%22%2C%22size%22%3A221284%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A1178%2C%22height%22%3A858%7D\"></card></p><p><br /></p><p><br /></p><h4 id=\"18c825a4\">3.6 <span>配置应用程序</span></h4><p><br /></p><p>复制 <code>f2etest-client\\f2etest-browsers\\curl</code> 中的所有文件到 <code>c:\\windows</code> 下面。</p><p><span><br /></span></p><p><span><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409310828-31724197-c056-4025-864f-b33fc0ed5216.jpeg%22%2C%22originWidth%22%3A2846%2C%22originHeight%22%3A1156%2C%22name%22%3A%2238.jpg%22%2C%22size%22%3A483022%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A303%7D\"></card><br /></span></p><p><br /></p><p>把 <code>f2etest-client\\f2etest-browsers</code> 下的 <strong>app</strong> 目录复制到 <strong>C</strong> 盘根目录，并重命名<strong>强制代理.bat</strong> 为 <strong>ie8.bat</strong>，<strong>禁用代理.bat</strong>为 <strong>hostsshare.bat</strong>。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409423243-65e47ad4-83b5-42d2-8faf-fb03d26983ee.jpeg%22%2C%22originWidth%22%3A2848%2C%22originHeight%22%3A1164%2C%22name%22%3A%2239.jpg%22%2C%22size%22%3A326580%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A305%7D\"></card></p><p><br /></p><p>然后修改两个 bat 中的 f2etestDomain 为 f2etest-web 的访问地址，其中 ie8.bat 中的 appid 请修改为 ie8 和<span>f2etest-web 的 </span>app.js 中配置的 id 保持一致。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409433798-3a9f5421-01da-45a7-9956-a22bc5e8b3a8.jpeg%22%2C%22originWidth%22%3A2582%2C%22originHeight%22%3A1270%2C%22name%22%3A%2240.jpg%22%2C%22size%22%3A485370%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A367%7D\"></card></p><p><br /></p><p>把源码中的 hostsShare-client 下的 build 文件夹修改为 hostsShare 并拷贝到 C 盘根目录。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409536414-94c6e112-2a7a-4863-bd73-9f11e4ed0611.jpeg%22%2C%22originWidth%22%3A2848%2C%22originHeight%22%3A1172%2C%22name%22%3A%2241.jpg%22%2C%22size%22%3A402950%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A307%7D\"></card><br /></p><p><br /></p><p>管理工具 - 远程桌面服务 - RemoteApp 管理器</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555409564698-59aafa3b-077e-4fd6-a702-e189a281a07b.jpeg%22%2C%22originWidth%22%3A1732%2C%22originHeight%22%3A1194%2C%22name%22%3A%2242.jpg%22%2C%22size%22%3A283397%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A514%7D\"></card></p><p><br /></p><p>按照下图顺序添加</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410044530-a067d815-5d5e-4f7e-bb70-9d760a70e9d4.jpeg%22%2C%22originWidth%22%3A1920%2C%22originHeight%22%3A1456%2C%22name%22%3A%2247.jpg%22%2C%22size%22%3A412194%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A566%7D\"></card><br /></p><p><br /></p><p>右键 hostsShare.bat 和 ie<cursor />8.bat，选择属性。</p><p><br /><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410086581-a92ddddc-86c6-41c9-9e8a-106f1d9c7f97.jpeg%22%2C%22originWidth%22%3A1918%2C%22originHeight%22%3A1450%2C%22name%22%3A%2248.jpg%22%2C%22size%22%3A541301%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A564%7D\"></card></p><p><br /></p><p>选择允许任何命令行参数。</p><p><br /></p><p><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2019%2Fjpeg%2F318847%2F1555410213088-6a67adce-5c25-4c04-b55e-09b8466d5224.jpeg%22%2C%22originWidth%22%3A1920%2C%22originHeight%22%3A1454%2C%22name%22%3A%2249.jpg%22%2C%22size%22%3A372035%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22width%22%3A746%2C%22height%22%3A565%7D\"></card></p>","public":1,"status":null,"likes_count":4,"comments_count":0,"content_updated_at":"2019-04-16T16:37:23.000Z","deleted_at":null,"created_at":"2019-04-15T10:08:00.000Z","updated_at":"2019-04-23T06:15:17.000Z","published_at":"2019-04-16T16:37:23.000Z","first_published_at":"2019-04-15T10:08:04.000Z","word_count":832,"cover":null,"description":"一、前言本部署教程旨在搭建浏览器云最小体验版，请预先准备 Windows Server 虚拟机或物理机 1 台。二、目标在 Windows Server上搭建 IE8 浏览器与 hostShare 应用供 F2etest-web 使用。三、部署要使 F2etest 可以运行起来，总结起来，在 ...","custom_description":null,"_serializer":"v2.doc_detail"}